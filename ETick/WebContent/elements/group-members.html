<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="person-list.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/core-icons/core-icons.html">

<polymer-element name="group-members" attributes="gid allowAdd rows">
	<template>
		<style>
			:host {
				display: block;
				width: 100%;
			}
			h1 {
				font-size: 1.8rem;
				font-weight: 100;
				padding: 0 0 0 10px;
			}
			#personListContainer {
				width: 100%;
				height: calc(60px * {{rows}});
				overflow: auto;
			}
			/**/
		</style>
		<div id="headerBar" layout horizontal center>
			<h1 flex>Members ({{$.members.number}})</h1>
			<template if="{{allowAdd}}">
				<paper-icon-button icon="add" on-click="{{addMemberClicked}}"></paper-icon-button>
			</template>
		</div>
		<div id="personListContainer">
			<person-list id="members" listURL="{{'http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/group/' + gid + '/users'}}"></person-list>
		</div>
	</template>
	<script>
		Polymer('group-members', {
			addMemberClicked: function () {
				console.log('buttonClicked');
			}
		});
	</script>
</polymer-element>