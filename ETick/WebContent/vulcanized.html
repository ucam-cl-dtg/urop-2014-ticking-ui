<!doctype html>
<html>
<head>
	<script src="bower_components/platform/platform.js"></script>
	<div hidden><!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<style shim-shadowdom="">
/*******************************
          Flex Layout
*******************************/

html /deep/ [layout][horizontal], html /deep/ [layout][vertical] {
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
}

html /deep/ [layout][horizontal][inline], html /deep/ [layout][vertical][inline] {
  display: -ms-inline-flexbox;
  display: -webkit-inline-flex;
  display: inline-flex;
}

html /deep/ [layout][horizontal] {
  -ms-flex-direction: row;
  -webkit-flex-direction: row;
  flex-direction: row;
}

html /deep/ [layout][horizontal][reverse] {
  -ms-flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
  flex-direction: row-reverse;
}

html /deep/ [layout][vertical] {
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
}

html /deep/ [layout][vertical][reverse] {
  -ms-flex-direction: column-reverse;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
}

html /deep/ [layout][wrap] {
  -ms-flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
}

html /deep/ [layout][wrap-reverse] {
  -ms-flex-wrap: wrap-reverse;
  -webkit-flex-wrap: wrap-reverse;
  flex-wrap: wrap-reverse;
}

html /deep/ [flex] {
  -ms-flex: 1;
  -webkit-flex: 1;
  flex: 1;
}

html /deep/ [flex][auto] {
  -ms-flex: 1 1 auto;
  -webkit-flex: 1 1 auto;
  flex: 1 1 auto;
}

html /deep/ [flex][none] {
  -ms-flex: none;
  -webkit-flex: none;
  flex: none;
}

html /deep/ [flex][one] {
  -ms-flex: 1;
  -webkit-flex: 1;
  flex: 1;
}

html /deep/ [flex][two] {
  -ms-flex: 2;
  -webkit-flex: 2;
  flex: 2;
}

html /deep/ [flex][three] {
  -ms-flex: 3;
  -webkit-flex: 3;
  flex: 3;
}

html /deep/ [flex][four] {
  -ms-flex: 4;
  -webkit-flex: 4;
  flex: 4;
}

html /deep/ [flex][five] {
  -ms-flex: 5;
  -webkit-flex: 5;
  flex: 5;
}

html /deep/ [flex][six] {
  -ms-flex: 6;
  -webkit-flex: 6;
  flex: 6;
}

html /deep/ [flex][seven] {
  -ms-flex: 7;
  -webkit-flex: 7;
  flex: 7;
}

html /deep/ [flex][eight] {
  -ms-flex: 8;
  -webkit-flex: 8;
  flex: 8;
}

html /deep/ [flex][nine] {
  -ms-flex: 9;
  -webkit-flex: 9;
  flex: 9;
}

html /deep/ [flex][ten] {
  -ms-flex: 10;
  -webkit-flex: 10;
  flex: 10;
}

html /deep/ [flex][eleven] {
  -ms-flex: 11;
  -webkit-flex: 11;
  flex: 11;
}

html /deep/ [flex][twelve] {
  -ms-flex: 12;
  -webkit-flex: 12;
  flex: 12;
}

/* alignment in cross axis */

html /deep/ [layout][start] {
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
}

html /deep/ [layout][center] {
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

html /deep/ [layout][end] {
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
}

/* alignment in main axis */

html /deep/ [layout][start-justified] {
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
}

html /deep/ [layout][center-justified] {
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}

html /deep/ [layout][end-justified] {
  -ms-flex-pack: end;
  -webkit-justify-content: flex-end;
  justify-content: flex-end;
}

html /deep/ [layout][around-justified] {
  -ms-flex-pack: around;
  -webkit-justify-content: space-around;
  justify-content: space-around;
}

html /deep/ [layout][justified] {
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
}

/* self alignment */

html /deep/ [self-start] {
  -ms-align-self: flex-start;
  -webkit-align-self: flex-start;
  align-self: flex-start;
}

html /deep/ [self-center] {
  -ms-align-self: center;
  -webkit-align-self: center;
  align-self: center;
}

html /deep/ [self-end] {
  -ms-align-self: flex-end;
  -webkit-align-self: flex-end;
  align-self: flex-end;
}

html /deep/ [self-stretch] {
  -ms-align-self: stretch;
  -webkit-align-self: stretch;
  align-self: stretch;
}

/*******************************
          Other Layout
*******************************/

html /deep/ [block] {
  display: block;
}

/* ie support for hidden */
html /deep/ [hidden] {
  display: none !important;
}

html /deep/ [relative] {
  position: relative;
}

html /deep/ [fit] {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

body[fullbleed] {
  margin: 0;
  height: 100vh;
}

/*******************************
            Other
*******************************/

html /deep/ [segment], html /deep/ segment {
  display: block;
  position: relative;
  -webkit-box-sizing: border-box;
  -ms-box-sizing: border-box;
  box-sizing: border-box;
  margin: 1em 0.5em;
  padding: 1em;
  background-color: white;
  -webkit-box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1);
  box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1);
  border-radius: 5px 5px 5px 5px;
}

</style>

<script src="bower_components/polymer/polymer.js"></script>
<!--<link rel="import" href="../polymer-dev/polymer.html">--> 
<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-header-panel` contains a header section and a content panel section.

__Important:__ The `core-header-panel` will not display if its parent does not have a height.

Using [layout attributes](http://www.polymer-project.org/docs/polymer/layout-attrs.html), you can easily make the `core-header-panel` fill the screen

    <body fullbleed layout vertical>
      <core-header-panel flex>
        <core-toolbar>
          <div>Hello World!</div>
        </core-toolbar>
      </core-header-panel>
    </body>

or, if you would prefer to do it in CSS, just give `html`, `body`, and `core-header-panel` a height of 100%:

    html, body {
      height: 100%;
      margin: 0;
    }
    core-header-panel {
      height: 100%;
    }

Special
support is provided for scrolling modes when one uses a core-toolbar or equivalent
for the header section.

Example:

    <core-header-panel>
      <core-toolbar>Header</core-toolbar>
      <div>Content goes here...</div>
    </core-header-panel>

If you want to use other than `core-toolbar` for the header, add 
`core-header` class to that element.

Example:

    <core-header-panel>
      <div class="core-header">Header</div>
      <div>Content goes here...</div>
    </core-header-panel>

Use `mode` to control the header and scrolling behavior.

@group Polymer Core Elements
@element core-header-panel
@homepage github.io
-->



<polymer-element name="core-header-panel" assetpath="bower_components/core-header-panel/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: block;
  position: relative;
}

#outerContainer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

#mainPanel {
  position: relative;
}

#mainContainer {
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

#dropShadow {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);
}

#dropShadow.hidden {
  display: none;
}

/* 
mode: scroll 
*/
:host([mode=scroll]) #mainContainer {
  overflow: visible;
}

/*
mode: cover
*/
:host([mode=cover]) #mainPanel {
  position: static;
}

:host([mode=cover]) #mainContainer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

:host([mode=cover]) #dropShadow {
  position: static;
  width: 100%;
}
</style>
  
  <div id="outerContainer" on-scroll="{{scroll}}" vertical="" layout="">

    <content id="headerContent" select="core-toolbar, .core-header"></content>

    <div id="mainPanel" flex="" vertical="" layout="">
    
      <div id="mainContainer" flex?="{{mode !== &apos;cover&apos;}}" on-scroll="{{scroll}}">
        <content id="mainContent" select="*"></content>
      </div>
      
      <div id="dropShadow"></div>
      
    </div>

  </div>

</template>
<script>

  Polymer('core-header-panel', {

    publish: {
      /**
       * Controls header and scrolling behavior. Options are
       * `standard`, `seamed`, `waterfall`, `waterfall-tall`, 
       * `waterfall-medium-tall`, `scroll` and `cover`.
       * Default is `standard`.
       *
       * `standard`: The header is a step above the panel. The header will consume the 
       * panel at the point of entry, preventing it from passing through to the 
       * opposite side.
       *
       * `seamed`: The header is presented as seamed with the panel.
       *
       * `waterfall`: Similar to standard mode, but header is initially presented as 
       * seamed with panel, but then separates to form the step.
       *
       * `waterfall-tall`: The header is initially taller (`tall` class is added to 
       * the header).  As the user scrolls, the header separates (forming an edge)
       * while condensing (`tall` class is removed from the header).
       *
       * `scroll`: The header keeps its seam with the panel, and is pushed off screen.
       *
       * `cover`: The panel covers the whole `core-header-panel` including the
       * header. This allows user to style the panel in such a way that the panel is
       * partially covering the header.
       *
       *     <style>
       *       core-header-panel[mode=cover]::shadow #mainContainer {
       *         left: 80px;
       *       }
       *       .content {
       *         margin: 60px 60px 60px 0;
       *       }
       *     </style>
       * 
       *     <core-header-panel mode="cover">
       *       <core-appbar class="tall">
       *         <core-icon-button icon="menu"></core-icon-button>
       *       </core-appbar>
       *       <div class="content"></div>
       *     </core-header-panel>
       *
       * @attribute mode
       * @type string
       * @default ''
       */
      mode: {value: '', reflect: true},
      
      /**
       * The class used in waterfall-tall mode.  Change this if the header
       * accepts a different class for toggling height, e.g. "medium-tall"
       *
       * @attribute tallClass
       * @type string
       * @default 'tall'
       */
      tallClass: 'tall',
      
      /**
       * If true, the drop-shadow is always shown no matter what mode is set to.
       *
       * @attribute shadow
       * @type boolean
       * @default false
       */
      shadow: false,
    },
    
    domReady: function() {
      this.async('scroll');
    },

    modeChanged: function() {
      this.scroll();
    },

    get header() {
      return this.$.headerContent.getDistributedNodes()[0];
    },
    
    scroll: function() {
      var shadowMode = {'waterfall': 1, 'waterfall-tall': 1};
      var noShadow = {'seamed': 1, 'cover': 1, 'scroll': 1};
      var tallMode = {'waterfall-tall': 1};
      
      var main = this.$.mainContainer;
      var header = this.header;
      
      var sTop = main.scrollTop;
      var atTop = sTop === 0;
      
      if (header) {
        this.$.dropShadow.classList.toggle('hidden', !this.shadow &&
            (atTop && shadowMode[this.mode] || noShadow[this.mode]));
        
        if (tallMode[this.mode]) {
          header.classList.toggle(this.tallClass, atTop);
        }
        
        header.classList.toggle('animate', tallMode[this.mode]);
      }
    }

  });

</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-toolbar` is a horizontal bar containing elements that can be used for
label, navigation, search and actions.

    <core-toolbar>
      <core-icon-button icon="menu" on-tap="{{menuAction}}"></core-icon-button>
      <div flex>Title</div>
      <core-icon-button icon="more" on-tap="{{moreAction}}"></core-icon-button>
    </core-toolbar>

`core-toolbar` has a standard height, but can made be taller by setting `tall`
class on the `core-toolbar`.  This will make the toolbar 3x the normal height.

    <core-toolbar class="tall">
      <core-icon-button icon="menu"></core-icon-button>
    </core-toolbar>
    
Apply `medium-tall` class to make the toolbar medium tall.  This will make the 
toolbar 2x the normal height.

    <core-toolbar class="medium-tall">
      <core-icon-button icon="menu"></core-icon-button>
    </core-toolbar>

When taller, elements can pin to either the top (default), middle or bottom.

    <core-toolbar class="tall">
      <core-icon-button icon="menu"></core-icon-button>
      <div class="middle indent">Middle Title</div>
      <div class="bottom indent">Bottom Title</div>
    </core-toolbar>
    
To make an element completely fit at the bottom of the toolbar, use `fit` along
with `bottom`.

    <core-toolbar class="tall">
      <div id="progressBar" class="bottom fit"></div>
    </core-toolbar>

@group Polymer Core Elements
@element core-toolbar
@homepage github.io
-->



<polymer-element name="core-toolbar" assetpath="bower_components/core-toolbar/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  /* technical */
  display: block;
  position: relative;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  /* size */
  height: 64px;
  /* typography */
  font-size: 1.3em;
  /* background */
  background-color: #CFD8DC;
}

:host(.animate) {
  /* transition */
  transition: height 0.18s ease-in;
}

:host(.medium-tall) {
  height: 128px;
}

:host(.tall) {
  height: 192px;
}

.toolbar-tools {
  height: 64px;
  padding: 0 8px;
  pointer-events: none;
}

/* narrow layout */
:host(.narrow) {
  height: 56px;
}

:host(.narrow.medium-tall) {
  height: 112px;
}

:host(.narrow.tall) {
  height: 168px;
}

:host(.narrow) .toolbar-tools {
  height: 56px;
  padding: 0;
}

/* middle bar */
#middleBar {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
}

:host(.tall, .medium-tall) #middleBar {
  -webkit-transform: translateY(100%);
  transform: translateY(100%);
}

/* bottom bar */
#bottomBar {
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
}

/* shows bottom bar only when in normal height (!tall && !medium-tall) */
:host(.animate.no-overlap) > #topBar, 
:host(.animate.no-overlap) > #middleBar {
  transition: -webkit-transform 0.18s ease-in;
  transition: transform 0.18s ease-in;
}

:host(.no-overlap:not(.medium-tall):not(.tall)) > #topBar {
  -webkit-transform: translateY(-100%);
  transform: translateY(-100%);
}

:host(.no-overlap:not(.medium-tall):not(.tall)) > #middleBar {
  -webkit-transform: translateY(-200%);
  transform: translateY(-200%);
}

/* make elements (e.g. buttons) respond to mouse/touch events */
polyfill-next-selector { content: '.toolbar-tools > *'; }
::content > * {
  pointer-events: auto;
}

/* elements spacing */
polyfill-next-selector { content: '.toolbar-tools > *'; }
::content > * {
  margin: 0px 8px;
}

/* misc helpers */
polyfill-next-selector { content: '.toolbar-tools > .fit'; }
::content > .fit {
  position: absolute;
  top: auto;
  right: 0;
  bottom: 0;
  left: 0;
  width: auto;
  margin: 0;
}

polyfill-next-selector { content: ':host .indent'; }
::content > .indent {
  margin-left: 60px;
}
</style>

  <div id="bottomBar" class="toolbar-tools" center="" horizontal="" layout="">
    <content select=".bottom"></content>
  </div>
  
  <div id="middleBar" class="toolbar-tools" center="" horizontal="" layout="">
    <content select=".middle"></content>
  </div>

  <div id="topBar" class="toolbar-tools" center="" horizontal="" layout="">
    <content></content>
  </div>

</template>
<script>Polymer('core-toolbar');</script></polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-item` is a simple line-item object: a label and/or an icon that can also 
act as a link.

Example:

    <core-item icon="settings" label="Settings"></core-item>
    
To use as a link, put &lt;a&gt; element in the item.

Example:

    <core-item icon="settings" label="Settings">
      <a href="#settings" target="_self"></a>
    </core-item>

@group Polymer Core Elements
@element core-item
@homepage github.io
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--

The `core-icon` element displays an icon using CSS background image. By default an icon renders as 24px square.

Example using src:

    <core-icon src="star.png"></core-icon>

Example setting size to 32px x 32px:

    <core-icon src="big_star.png" size="32"></core-icon>

Example using icon from default iconset:

    <core-icon icon="menu"></core-icon>

Example using icon `cherry` from custom iconset `fruit`:

    <core-icon icon="fruit:cherry"></core-icon>

See [core-iconset](#core-iconset) and [core-iconset-svg](#core-iconset-svg) for more information about
how to use a custom iconset.

See [core-icons](http://www.polymer-project.org/components/core-icons/demo.html) for the default set of icons. To use the default set of icons you'll need to include an import for `core-icons.html`.

@group Polymer Core Elements
@element core-icon
@homepage polymer.github.io
-->
<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
/**
 * @group Polymer Core Elements
 *
 * The `core-iconset` element allows users to define their own icon sets. 
 * The `src` property specifies the url of the icon image. Multiple icons may
 * be included in this image and they may be organized into rows.
 * The `icons` property is a space separated list of names corresponding to the
 * icons. The names must be ordered as the icons are ordered in the icon image.
 * Icons are expected to be square and are the size specified by the `iconSize`
 * property. The `width` property corresponds to the width of the icon image 
 * and must be specified if icons are arranged into multiple rows in the image.
 *
 * All `core-iconset` elements are available for use by other `core-iconset`
 * elements via a database keyed by id. Typically, an element author that wants
 * to support a set of custom icons uses a `core-iconset` to retrieve 
 * and use another, user-defined iconset.
 *
 * Example:
 *
 *     <core-iconset id="my-icons" src="my-icons.png" width="96" iconSize="24"
 *         icons="location place starta stopb bus car train walk">
 *     </core-iconset>
 *
 * This will automatically register the icon set "my-icons" to the iconset
 * database.  To use these icons from within another element, make a 
 * `core-iconset` element and call the `byId` method to retrieve a
 * given iconset. To apply a particular icon to an element, use the 
 * `applyIcon` method. For example:
 *
 *     iconset.applyIcon(iconNode, 'car');
 *
 * Themed icon sets are also supported. The `core-iconset` can contain child
 * `property` elements that specify a theme with an offsetX and offsetY of the
 * theme within the icon resource. For example.
 *
 *     <core-iconset id="my-icons" src="my-icons.png" width="96" iconSize="24"
 *         icons="location place starta stopb bus car train walk">
 *       <property theme="special" offsetX="256" offsetY="24"></property>
 *     </core-iconset>
 *
 * Then a themed icon can be applied like this:
 *
 *     iconset.applyIcon(iconNode, 'car', 'special');
 *
 * @element core-iconset
 * @extends core-meta
 * @homepage github.io
 */
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-meta` provides a method of constructing a self-organizing database.
It is useful to collate element meta-data for things like catalogs and for 
designer.

Example, an element folder has a `metadata.html` file in it, that contains a 
`core-meta`, something like this:

    <core-meta id="my-element" label="My Element">
      <property name="color" value="blue"></property>
    </core-meta>

An application can import as many of these files as it wants, and then use 
`core-meta` again to access the collected data.

    <script>
      var meta = document.createElement('core-meta');
      console.log(meta.list); // dump a list of all meta-data elements that have been created
    </script>

Use `byId(id)` to retrive a specific core-meta.

    <script>
      var meta = document.createElement('core-meta');
      console.log(meta.byId('my-element'));
    </script>

By default all meta-data are stored in a single databse.  If your meta-data 
have different types and want them to be stored separately, use `type` to 
differentiate them.

Example:

    <core-meta id="x-foo" type="xElt"></core-meta>
    <core-meta id="x-bar" type="xElt"></core-meta>
    <core-meta id="y-bar" type="yElt"></core-meta>

    <script>
      var meta = document.createElement('core-meta');
      meta.type = 'xElt';
      console.log(meta.list);
    </script>

@group Polymer Core Elements
@element core-meta
@homepage github.io
-->



<polymer-element name="core-meta" attributes="list label type" hidden assetpath="bower_components/core-meta/">
<script>

  (function() {
    
    var SKIP_ID = 'meta';
    var metaData = {}, metaArray = {};

    Polymer('core-meta', {
      
      /**
       * The type of meta-data.  All meta-data with the same type with be
       * stored together.
       * 
       * @attribute type
       * @type string
       * @default 'default'
       */
      type: 'default',
      
      alwaysPrepare: true,
      
      ready: function() {
        this.register(this.id);
      },
      
      get metaArray() {
        var t = this.type;
        if (!metaArray[t]) {
          metaArray[t] = [];
        }
        return metaArray[t];
      },
      
      get metaData() {
        var t = this.type;
        if (!metaData[t]) {
          metaData[t] = {};
        }
        return metaData[t];
      },
      
      register: function(id, old) {
        if (id && id !== SKIP_ID) {
          this.unregister(this, old);
          this.metaData[id] = this;
          this.metaArray.push(this);
        }
      },
      
      unregister: function(meta, id) {
        delete this.metaData[id || meta.id];
        var i = this.metaArray.indexOf(meta);
        if (i >= 0) {
          this.metaArray.splice(i, 1);
        }
      },
      
      /**
       * Returns a list of all meta-data elements with the same type.
       * 
       * @attribute list
       * @type array
       * @default []
       */
      get list() {
        return this.metaArray;
      },
      
      /**
       * Retrieves meta-data by ID.
       *
       * @method byId
       * @param {String} id The ID of the meta-data to be returned.
       * @returns Returns meta-data.
       */
      byId: function(id) {
        return this.metaData[id];
      }
      
    });
    
  })();
  
</script>
</polymer-element>


<polymer-element name="core-iconset" extends="core-meta" attributes="src width icons iconSize" assetpath="bower_components/core-iconset/">
  
  <script>
  
    Polymer('core-iconset', {
  
      /**
       * The URL of the iconset image.
       *
       * @attribute src
       * @type string
       * @default ''
       */
      src: '',

      /**
       * The width of the iconset image. This must only be specified if the
       * icons are arranged into separate rows inside the image.
       *
       * @attribute width
       * @type number
       * @default 0
       */
      width: 0,

      /**
       * A space separated list of names corresponding to icons in the iconset
       * image file. This list must be ordered the same as the icon images
       * in the image file.
       *
       * @attribute icons
       * @type string
       * @default ''
       */
      icons: '',

      /**
       * The size of an individual icon. Note that icons must be square.
       *
       * @attribute iconSize
       * @type number
       * @default 24
       */
      iconSize: 24,

      /**
       * The horizontal offset of the icon images in the inconset src image.
       * This is typically used if the image resource contains additional images
       * beside those intended for the iconset.
       *
       * @attribute offsetX
       * @type number
       * @default 0
       */
      offsetX: 0,
      /**
       * The vertical offset of the icon images in the inconset src image.
       * This is typically used if the image resource contains additional images
       * beside those intended for the iconset.
       *
       * @attribute offsetY
       * @type number
       * @default 0
       */
      offsetY: 0,
      type: 'iconset',

      created: function() {
        this.iconMap = {};
        this.iconNames = [];
        this.themes = {};
      },
  
      ready: function() {
        // TODO(sorvell): ensure iconset's src is always relative to the main
        // document
        if (this.src && (this.ownerDocument !== document)) {
          this.src = this.resolvePath(this.src, this.ownerDocument.baseURI);
        }
        this.super();
        this.updateThemes();
      },

      iconsChanged: function() {
        var ox = this.offsetX;
        var oy = this.offsetY;
        this.icons && this.icons.split(/\s+/g).forEach(function(name, i) {
          this.iconNames.push(name);
          this.iconMap[name] = {
            offsetX: ox,
            offsetY: oy
          }
          if (ox + this.iconSize < this.width) {
            ox += this.iconSize;
          } else {
            ox = this.offsetX;
            oy += this.iconSize;
          }
        }, this);
      },

      updateThemes: function() {
        var ts = this.querySelectorAll('property[theme]');
        ts && ts.array().forEach(function(t) {
          this.themes[t.getAttribute('theme')] = {
            offsetX: parseInt(t.getAttribute('offsetX')) || 0,
            offsetY: parseInt(t.getAttribute('offsetY')) || 0
          };
        }, this);
      },

      // TODO(ffu): support retrived by index e.g. getOffset(10);
      /**
       * Returns an object containing `offsetX` and `offsetY` properties which
       * specify the pixel locaion in the iconset's src file for the given
       * `icon` and `theme`. It's uncommon to call this method. It is useful,
       * for example, to manually position a css backgroundImage to the proper
       * offset. It's more common to use the `applyIcon` method.
       *
       * @method getOffset
       * @param {String|Number} icon The name of the icon or the index of the
       * icon within in the icon image.
       * @param {String} theme The name of the theme.
       * @returns {Object} An object specifying the offset of the given icon 
       * within the icon resource file; `offsetX` is the horizontal offset and
       * `offsetY` is the vertical offset. Both values are in pixel units.
       */
      getOffset: function(icon, theme) {
        var i = this.iconMap[icon];
        if (!i) {
          var n = this.iconNames[Number(icon)];
          i = this.iconMap[n];
        }
        var t = this.themes[theme];
        if (i && t) {
          return {
            offsetX: i.offsetX + t.offsetX,
            offsetY: i.offsetY + t.offsetY
          }
        }
        return i;
      },

      /**
       * Applies an icon to the given element as a css background image. This
       * method does not size the element, and it's often necessary to set 
       * the element's height and width so that the background image is visible.
       *
       * @method applyIcon
       * @param {Element} element The element to which the background is
       * applied.
       * @param {String|Number} icon The name or index of the icon to apply.
       * @param {String} theme (optional) The name of the theme for the icon.
       * @param {Number} scale (optional, defaults to 1) A scaling factor 
       * with which the icon can be magnified.
       */
      applyIcon: function(element, icon, scale) {
         var offset = this.getOffset(icon);
         scale = scale || 1;
         if (element && offset) {
           var style = element.style;
           style.backgroundImage = 'url(' + this.src + ')';
           style.backgroundPosition = (-offset.offsetX * scale + 'px') + 
              ' ' + (-offset.offsetY * scale + 'px');
           style.backgroundSize = scale === 1 ? 'auto' :
              this.width * scale + 'px';
         }
      }

    });

  </script>

</polymer-element>


<style shim-shadowdom="">/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt */

html /deep/ core-icon {
  display: inline-block;
  vertical-align: middle;
  background-repeat: no-repeat;
  fill: currentcolor;
}

html /deep/ core-icon[size=""] {
  position: relative;
}

html /deep/ core-icon[size=""] > svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
</style>

<polymer-element name="core-icon" attributes="src size icon" assetpath="bower_components/core-icon/">
<script>
(function() {
  
  // mono-state
  var meta;
  
  Polymer('core-icon', {

    /**
     * The URL of an image for the icon. If the src property is specified,
     * the icon property should not be.
     *
     * @attribute src
     * @type string
     * @default ''
     */
    src: '',

    /**
     * Specifies the size of the icon in pixel units.
     *
     * @attribute size
     * @type string
     * @default 24
     */
    size: 24,

    /**
     * Specifies the icon name or index in the set of icons available in
     * the icon's icon set. If the icon property is specified,
     * the src property should not be.
     *
     * @attribute icon
     * @type string
     * @default ''
     */
    icon: '',

    observe: {
      'size icon': 'updateIcon'
    },

    defaultIconset: 'icons',

    ready: function() {
      if (!meta) {
        meta = document.createElement('core-iconset');
      }
      this.updateIcon();
    },

    srcChanged: function() {
      this.style.backgroundImage = 'url(' + this.src + ')';
      this.style.backgroundPosition = 'center';
      this.style.backgroundSize = this.size + 'px ' + this.size + 'px';
    },

    getIconset: function(name) {
      return meta.byId(name || this.defaultIconset);
    },

    updateIcon: function() {
      if (this.size) {
        this.style.width = this.style.height = this.size + 'px';
      }
      if (this.icon) {
        var parts = String(this.icon).split(':');
        var icon = parts.pop();
        if (icon) {
          var set = this.getIconset(parts.pop());
          if (set) {
            set.applyIcon(this, icon, this.size / set.iconSize);
          }
        }
      }
    }

  });
  
})();
</script>

</polymer-element>


<style shim-shadowdom="">/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

html /deep/ core-item {
  display: block;
  position: relative;
  min-height: 40px;
  white-space: nowrap;
}

html /deep/ core-item.core-selected {
  font-weight: bold;
}

html /deep/ core-item::shadow core-icon {
  margin: 0 16px 0 4px;
}

html /deep/ core-item::shadow ::content > a {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
</style>

<polymer-element name="core-item" attributes="label icon src size" horizontal="" center="" layout="" assetpath="bower_components/core-item/">
<template>

  <core-icon src="{{src}}" icon="{{icon}}" size="{{size}}" hidden?="{{!src &amp;&amp; !icon}}"></core-icon>{{label}}<content></content>
  
</template>
<script>

  Polymer('core-item', {
    
    /**
     * The URL of an image for the icon.
     *
     * @attribute src
     * @type string
     * @default ''
     */

    /**
     * Specifies the icon from the Polymer icon set.
     *
     * @attribute icon
     * @type string
     * @default ''
     */

    /**
     * Specifies the label for the menu item.
     *
     * @attribute label
     * @type string
     * @default ''
     */

    /**
     * Specifies the size of the icon in pixel units.
     *
     * @attribute size
     * @type number
     * @default 24
     */

  });

</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
/**
 * @group Polymer Core Elements
 *
 * The `core-iconset-svg` element allows users to define their own icon sets
 * that contain svg icons. The svg icon elements should be children of the
 * `core-iconset-svg` element. Multiple icons should be given distinct id's.
 *
 * Using svg elements to create icons has a few advantages over traditional
 * bitmap graphics like jpg or png. Icons that use svg are vector based so they
 * are resolution independent and should look good on any device. They are
 * stylable via css. Icons can be themed, colorized, and even animated.
 *
 * Example:
 *
 *     <core-iconset-svg id="my-svg-icons" iconSize="24">
 *       <svg>
 *         <defs>
 *           <g id="shape">
 *             <rect x="50" y="50" width="50" height="50" />
 *             <circle cx="50" cy="50" r="50" />
 *           </g>
 *         </defs>
 *       </svg>
 *     </core-iconset-svg>
 *
 * This will automatically register the icon set "my-svg-icons" to the iconset
 * database.  To use these icons from within another element, make a
 * `core-iconset` element and call the `byId` method
 * to retrieve a given iconset. To apply a particular icon inside an
 * element use the `applyIcon` method. For example:
 *
 *     iconset.applyIcon(iconNode, 'car');
 *
 * @element core-iconset-svg
 * @extends core-meta
 * @homepage github.io
 */
-->



<polymer-element name="core-iconset-svg" extends="core-meta" attributes="iconSize" assetpath="bower_components/core-iconset-svg/">

  <script>

    Polymer('core-iconset-svg', {


      /**
       * The size of an individual icon. Note that icons must be square.
       *
       * @attribute iconSize
       * @type number
       * @default 24
       */
      iconSize: 24,
      type: 'iconset',

      created: function() {
        this._icons = {};
      },

      ready: function() {
        this.super();
        this.updateIcons();
      },

      iconById: function(id) {
        return this._icons[id] || (this._icons[id] = this.querySelector('#' + id));
      },

      cloneIcon: function(id) {
        var icon = this.iconById(id);
        if (icon) {
          var content = icon.cloneNode(true);
          content.removeAttribute('id');
          var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
          svg.setAttribute('viewBox', '0 0 ' + this.iconSize + ' ' +
              this.iconSize);
          // NOTE(dfreedm): work around https://crbug.com/370136
          svg.style.pointerEvents = 'none';
          svg.appendChild(content);
          return svg;
        }
      },

      get iconNames() {
        if (!this._iconNames) {
          this._iconNames = this.findIconNames();
        }
        return this._iconNames;
      },

      findIconNames: function() {
        var icons = this.querySelectorAll('[id]').array();
        if (icons.length) {
          return icons.map(function(n){ return n.id });
        }
      },

      /**
       * Applies an icon to the given element. The svg icon is added to the
       * element's shadowRoot if one exists or directly to itself.
       *
       * @method applyIcon
       * @param {Element} element The element to which the icon is
       * applied.
       * @param {String|Number} icon The name the icon to apply.
       */
      applyIcon: function(element, icon, scale) {
        var root = element.shadowRoot || element;
        // remove old
        var old = root.querySelector('svg');
        if (old) {
          old.remove();
        }
        // install new
        var svg = this.cloneIcon(icon);
        if (!svg) {
          return;
        }
        var size = scale * this.iconSize;
        if (size) {
          svg.style.height = svg.style.width = size + 'px';
        } else {
          svg.setAttribute('height', '100%');
          svg.setAttribute('width', '100%');
          svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
        }
        svg.style.display = 'block';
        root.insertBefore(svg, root.firstElementChild);
      },
      
      /**
       * Tell users of the iconset, that the set has loaded.
       * This finds all elements matching the selector argument and calls 
       * the method argument on them.
       * @method updateIcons
       * @param selector {string} css selector to identify iconset users, 
       * defaults to '[icon]'
       * @param method {string} method to call on found elements, 
       * defaults to 'updateIcon'
       */
      updateIcons: function(selector, method) {
        selector = selector || '[icon]';
        method = method || 'updateIcon';
        var deep = window.ShadowDOMPolyfill ? '' : 'html /deep/ ';
        var i$ = document.querySelectorAll(deep + selector);
        for (var i=0, e; e=i$[i]; i++) {
          if (e[method]) {
            e[method].call(e);
          }
        }
      }
      

    });

  </script>

</polymer-element>

<core-iconset-svg id="icons" iconsize="24">
<svg><defs>
<g id="accessibility"><path d="M12,2c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S10.9,2,12,2z M21,9h-6v13h-2v-6h-2v6H9V9H3V7h18V9z"></g>
<g id="account-box"><path d="M3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2H5C3.9,3,3,3.9,3,5z M15,9c0,1.7-1.3,3-3,3c-1.7,0-3-1.3-3-3c0-1.7,1.3-3,3-3C13.7,6,15,7.3,15,9z M6,17c0-2,4-3.1,6-3.1s6,1.1,6,3.1v1H6V17z"></g>
<g id="account-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,5c1.7,0,3,1.3,3,3c0,1.7-1.3,3-3,3c-1.7,0-3-1.3-3-3C9,6.3,10.3,5,12,5z M12,19.2c-2.5,0-4.7-1.3-6-3.2c0-2,4-3.1,6-3.1c2,0,6,1.1,6,3.1C16.7,17.9,14.5,19.2,12,19.2z"></g>
<g id="add"><path d="M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6V13z"></g>
<g id="add-box"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,13h-4v4h-2v-4H7v-2h4V7h2v4h4V13z"></g>
<g id="add-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,13h-4v4h-2v-4H7v-2h4V7h2v4h4V13z"></g>
<g id="add-circle-outline"><path d="M13,7h-2v4H7v2h4v4h2v-4h4v-2h-4V7z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"></g>
<g id="android"><path d="M6,18c0,0.6,0.4,1,1,1h1v3.5C8,23.3,8.7,24,9.5,24c0.8,0,1.5-0.7,1.5-1.5V19h2v3.5c0,0.8,0.7,1.5,1.5,1.5c0.8,0,1.5-0.7,1.5-1.5V19h1c0.6,0,1-0.4,1-1V8H6V18z M3.5,8C2.7,8,2,8.7,2,9.5v7C2,17.3,2.7,18,3.5,18C4.3,18,5,17.3,5,16.5v-7C5,8.7,4.3,8,3.5,8z M20.5,8C19.7,8,19,8.7,19,9.5v7c0,0.8,0.7,1.5,1.5,1.5c0.8,0,1.5-0.7,1.5-1.5v-7C22,8.7,21.3,8,20.5,8z M15.5,2.2l1.3-1.3c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0l-1.5,1.5C13.9,1.2,13,1,12,1c-1,0-1.9,0.2-2.7,0.6L7.9,0.1C7.7,0,7.3,0,7.1,0.1C7,0.3,7,0.7,7.1,0.9l1.3,1.3C7,3.3,6,5,6,7h12C18,5,17,3.2,15.5,2.2z M10,5H9V4h1V5z M15,5h-1V4h1V5z"></g>
<g id="apps"><path d="M4,8h4V4H4V8z M10,20h4v-4h-4V20z M4,20h4v-4H4V20z M4,14h4v-4H4V14z M10,14h4v-4h-4V14z M16,4v4h4V4H16z M10,8h4V4h-4V8z M16,14h4v-4h-4V14z M16,20h4v-4h-4V20z"></g>
<g id="archive"><path d="M20.5,5.2l-1.4-1.7C18.9,3.2,18.5,3,18,3H6C5.5,3,5.1,3.2,4.8,3.5L3.5,5.2C3.2,5.6,3,6,3,6.5V19c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6.5C21,6,20.8,5.6,20.5,5.2z M12,17.5L6.5,12H10v-2h4v2h3.5L12,17.5z M5.1,5l0.8-1h12l0.9,1H5.1z"></g>
<g id="arrow-back"><path d="M20,11H7.8l5.6-5.6L12,4l-8,8l8,8l1.4-1.4L7.8,13H20V11z"></g>
<g id="arrow-drop-down"><polygon points="7,10 12,15 17,10 "></polygon></g>
<g id="arrow-drop-down-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,14l-4-4h8L12,14z"></g>
<g id="arrow-drop-up"><polygon points="7,14 12,9 17,14 "></polygon></g>
<g id="arrow-forward"><polygon points="12,4 10.6,5.4 16.2,11 4,11 4,13 16.2,13 10.6,18.6 12,20 20,12 "></polygon></g>
<g id="attachment"><path d="M7.5,18c-3,0-5.5-2.5-5.5-5.5S4.5,7,7.5,7H18c2.2,0,4,1.8,4,4s-1.8,4-4,4H9.5C8.1,15,7,13.9,7,12.5S8.1,10,9.5,10H17v1.5H9.5c-0.6,0-1,0.4-1,1s0.4,1,1,1H18c1.4,0,2.5-1.1,2.5-2.5S19.4,8.5,18,8.5H7.5c-2.2,0-4,1.8-4,4s1.8,4,4,4H17V18H7.5z"></g>
<g id="backspace"><path d="M22,3H7C6.3,3,5.8,3.3,5.4,3.9L0,12l5.4,8.1C5.8,20.6,6.3,21,7,21h15c1.1,0,2-0.9,2-2V5C24,3.9,23.1,3,22,3z M19,15.6L17.6,17L14,13.4L10.4,17L9,15.6l3.6-3.6L9,8.4L10.4,7l3.6,3.6L17.6,7L19,8.4L15.4,12L19,15.6z"></g>
<g id="backup"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M14,13v4h-4v-4H7l5-5l5,5H14z"></g>
<g id="block"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M4,12c0-4.4,3.6-8,8-8c1.8,0,3.5,0.6,4.9,1.7L5.7,16.9C4.6,15.5,4,13.8,4,12z M12,20c-1.8,0-3.5-0.6-4.9-1.7L18.3,7.1C19.4,8.5,20,10.2,20,12C20,16.4,16.4,20,12,20z"></g>
<g id="book"><path d="M18,22c1.1,0,2-0.9,2-2V4c0-1.1-0.9-2-2-2h-6v7L9.5,7.5L7,9V2H6C4.9,2,4,2.9,4,4v16c0,1.1,0.9,2,2,2H18z"></g>
<g id="bookmark"><path d="M17,3H7C5.9,3,5,3.9,5,5l0,16l7-3l7,3V5C19,3.9,18.1,3,17,3z"></g>
<g id="bookmark-outline"><path d="M17,3H7C5.9,3,5,3.9,5,5l0,16l7-3l7,3V5C19,3.9,18.1,3,17,3z M17,18l-5-2.2L7,18V5h10V18z"></g>
<g id="bug-report"><path d="M20,8h-2.8c-0.5-0.8-1.1-1.5-1.8-2L17,4.4L15.6,3l-2.2,2.2C13,5.1,12.5,5,12,5s-1,0.1-1.4,0.2L8.4,3L7,4.4L8.6,6C7.9,6.5,7.3,7.2,6.8,8H4v2h2.1C6,10.3,6,10.7,6,11v1H4v2h2v1c0,0.3,0,0.7,0.1,1H4v2h2.8c1,1.8,3,3,5.2,3s4.2-1.2,5.2-3H20v-2h-2.1c0.1-0.3,0.1-0.7,0.1-1v-1h2v-2h-2v-1c0-0.3,0-0.7-0.1-1H20V8z M14,16h-4v-2h4V16z M14,12h-4v-2h4V12z"></g>
<g id="cancel"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15.6L15.6,17L12,13.4L8.4,17L7,15.6l3.6-3.6L7,8.4L8.4,7l3.6,3.6L15.6,7L17,8.4L13.4,12L17,15.6z"></g>
<g id="check"><polygon points="9,16.2 4.8,12 3.4,13.4 9,19 21,7 19.6,5.6 "></polygon></g>
<g id="check-box"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M10,17l-5-5l1.4-1.4l3.6,3.6l7.6-7.6L19,8L10,17z"></g>
<g id="check-box-blank"><path d="M19,3H5C3.9,3,3,3.9,3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z"></g>
<g id="check-box-outline"><path d="M7.9,10.1l-1.4,1.4L11,16L21,6l-1.4-1.4L11,13.2L7.9,10.1z M19,19L5,19V5h10V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-8h-2V19z"></g>
<g id="check-box-outline-blank"><path d="M19,5v14L5,19V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3L19,3z"></g>
<g id="check-circle"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M10,17l-5-5l1.4-1.4l3.6,3.6l7.6-7.6L19,8L10,17z"></g>
<g id="check-circle-blank"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z"></g>
<g id="check-circle-outline"><path d="M7.9,10.1l-1.4,1.4L11,16L21,6l-1.4-1.4L11,13.2L7.9,10.1z M20,12c0,4.4-3.6,8-8,8s-8-3.6-8-8s3.6-8,8-8c0.8,0,1.5,0.1,2.2,0.3l1.6-1.6C14.6,2.3,13.3,2,12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10H20z"></g>
<g id="check-circle-outline-blank"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"></g>
<g id="chevron-left"><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "></polygon></g>
<g id="chevron-right"><polygon points="10,6 8.6,7.4 13.2,12 8.6,16.6 10,18 16,12 "></polygon></g>
<g id="clear"><polygon points="19,6.4 17.6,5 12,10.6 6.4,5 5,6.4 10.6,12 5,17.6 6.4,19 12,13.4 17.6,19 19,17.6 13.4,12 "></polygon></g>
<g id="close"><polygon points="19,6.4 17.6,5 12,10.6 6.4,5 5,6.4 10.6,12 5,17.6 6.4,19 12,13.4 17.6,19 19,17.6 13.4,12 "></polygon></g>
<g id="cloud"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z"></g>
<g id="cloud-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15H8H7.5C6.1,15,5,13.9,5,12.5S6.1,10,7.5,10h0.6c0.4-1.7,2-3,3.9-3c2.2,0,4,1.8,4,4h1c1.1,0,2,0.9,2,2S18.1,15,17,15z"></g>
<g id="cloud-done"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M10,17l-3.5-3.5l1.4-1.4l2.1,2.1L15.2,9l1.4,1.4L10,17z"></g>
<g id="cloud-download"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M17,13l-5,5l-5-5h3V9h4v4H17z"></g>
<g id="cloud-off"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6c-1.5,0-2.9,0.4-4,1.2l1.5,1.5C10.2,6.2,11.1,6,12,6c3,0,5.5,2.5,5.5,5.5V12H19c1.7,0,3,1.3,3,3c0,1.1-0.6,2.1-1.6,2.6l1.5,1.5c1.3-0.9,2.1-2.4,2.1-4.1C24,12.4,21.9,10.2,19.4,10z M3,5.3L5.8,8C2.6,8.2,0,10.8,0,14c0,3.3,2.7,6,6,6h11.7l2,2l1.3-1.3L4.3,4L3,5.3z M7.7,10l8,8H6c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4H7.7z"></g>
<g id="cloud-queue"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M19,18H6c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4h0.7C7.4,7.7,9.5,6,12,6c3,0,5.5,2.5,5.5,5.5V12H19c1.7,0,3,1.3,3,3S20.7,18,19,18z"></g>
<g id="cloud-upload"><path d="M19.4,10c-0.7-3.4-3.7-6-7.4-6C9.1,4,6.6,5.6,5.4,8C2.3,8.4,0,10.9,0,14c0,3.3,2.7,6,6,6h13c2.8,0,5-2.2,5-5C24,12.4,21.9,10.2,19.4,10z M14,13v4h-4v-4H7l5-5l5,5H14z"></g>
<g id="content-copy"><path d="M16,1H4C2.9,1,2,1.9,2,3v14h2V3h12V1z M19,5H8C6.9,5,6,5.9,6,7v14c0,1.1,0.9,2,2,2h11c1.1,0,2-0.9,2-2V7C21,5.9,20.1,5,19,5z M19,21H8V7h11V21z"></g>
<g id="content-cut"><path d="M10,6c0-2.2-1.8-4-4-4S2,3.8,2,6c0,2.2,1.8,4,4,4c0.6,0,1.1-0.1,1.6-0.4L10,12l-2.4,2.4C7.1,14.1,6.6,14,6,14c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4s4-1.8,4-4c0-0.6-0.1-1.1-0.4-1.6L12,14l7,7h4L9.6,7.6C9.9,7.1,10,6.6,10,6z M6,8C4.9,8,4,7.1,4,6s0.9-2,2-2c1.1,0,2,0.9,2,2S7.1,8,6,8z M6,20c-1.1,0-2-0.9-2-2s0.9-2,2-2c1.1,0,2,0.9,2,2S7.1,20,6,20z M12,11.5c0.3,0,0.5,0.2,0.5,0.5c0,0.3-0.2,0.5-0.5,0.5c-0.3,0-0.5-0.2-0.5-0.5C11.5,11.7,11.7,11.5,12,11.5z M23,3h-4l-6,6l2,2L23,3z"></g>
<g id="content-paste"><path d="M19,2h-4.2c-0.4-1.2-1.5-2-2.8-2c-1.3,0-2.4,0.8-2.8,2H5C3.9,2,3,2.9,3,4v16c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V4C21,2.9,20.1,2,19,2z M12,2c0.6,0,1,0.4,1,1s-0.4,1-1,1c-0.6,0-1-0.4-1-1S11.4,2,12,2z M19,20H5V4h2v3h10V4h2V20z"></g>
<g id="create"><path d="M3,17.2V21h3.8L17.8,9.9l-3.8-3.8L3,17.2z M20.7,7c0.4-0.4,0.4-1,0-1.4l-2.3-2.3c-0.4-0.4-1-0.4-1.4,0l-1.8,1.8l3.8,3.8L20.7,7z"></g>
<g id="credit-card"><path d="M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,18H4v-6h16V18z M20,8H4V6h16V8z"></g>
<g id="delete"><path d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7H6V19z M19,4h-3.5l-1-1h-5l-1,1H5v2h14V4z"></g>
<g id="done"><polygon points="9,16.2 4.8,12 3.4,13.4 9,19 21,7 19.6,5.6 "></polygon></g>
<g id="done-all"><path d="M18,7l-1.4-1.4l-6.3,6.3l1.4,1.4L18,7z M22.2,5.6L11.7,16.2L7.5,12l-1.4,1.4l5.6,5.6l12-12L22.2,5.6z M0.4,13.4L6,19l1.4-1.4L1.8,12L0.4,13.4z"></g>
<g id="drafts"><path d="M22,8c0-0.7-0.4-1.3-0.9-1.7L12,1L2.9,6.3C2.4,6.7,2,7.3,2,8v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2L22,8z M12,13L3.7,7.8L12,3l8.3,4.8L12,13z"></g>
<g id="drive"><path d="M22.3,14L15.4,2H8.6l0,0l6.9,12H22.3z M9.7,15l-3.4,6h13.1l3.4-6H9.7z M7.7,3.5L1.2,15l3.4,6l6.6-11.5L7.7,3.5z"></g>
<g id="drawer"><path d="M20,4H4C2.8,4,2,4.8,2,6v12c0,1.2,0.8,2,2,2h16c1,0,2-0.8,2-2V6C22,4.8,21,4,20,4z M20,18h-6V6h6V18z"></g>
<g id="drive-document"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,9H7V7h10V9z M17,13H7v-2h10V13z M14,17H7v-2h7V17z"></g>
<g id="drive-drawing"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M18,18h-6v-5.8c-0.7,0.6-1.5,1-2.5,1c-2,0-3.7-1.7-3.7-3.7s1.7-3.7,3.7-3.7c2,0,3.7,1.7,3.7,3.7c0,1-0.4,1.8-1,2.5H18V18z"></g>
<g id="drive-file"><path d="M6,2C4.9,2,4,2.9,4,4l0,16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8l-6-6H6z M13,9V3.5L18.5,9H13z"></g>
<g id="drive-form"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M9,17H7v-2h2V17z M9,13H7v-2h2V13z M9,9H7V7h2V9z M17,17h-7v-2h7V17z M17,13h-7v-2h7V13z M17,9h-7V7h7V9z"></g>
<g id="drive-fusiontable"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,10.2L13,17l-4-4l-4,4v-3l4-4l4,4l6-6.8V10.2z"></g>
<g id="drive-image"><path d="M21,19V5c0-1.1-0.9-2-2-2H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14C20.1,21,21,20.1,21,19z M8.5,13.5l2.5,3l3.5-4.5l4.5,6H5L8.5,13.5z"></g>
<g id="drive-ms-excel"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M16.2,17h-2L12,13.2L9.8,17h-2l3.2-5L7.8,7h2l2.2,3.8L14.2,7h2L13,12L16.2,17z"></g>
<g id="drive-ms-powerpoint"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M9.8,13.4V17H8V7h4.3c1.5,0,2.2,0.3,2.8,0.9c0.7,0.6,0.9,1.4,0.9,2.3c0,1-0.3,1.8-0.9,2.3c-0.6,0.5-1.3,0.8-2.8,0.8H9.8z"><path d="M9.8,12V8.4h2.3c0.7,0,1.2,0.2,1.5,0.6c0.3,0.4,0.5,0.7,0.5,1.2c0,0.6-0.2,0.9-0.5,1.3c-0.3,0.3-0.7,0.5-1.4,0.5H9.8z"></g>
<g id="drive-ms-word"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M15.5,17H14l-2-7.5L10,17H8.5L6.1,7h1.7l1.5,7.5l2-7.5h1.4l2,7.5L16.2,7h1.7L15.5,17z"></g>
<g id="drive-pdf"><path d="M11.3,8.6L11.3,8.6C11.4,8.6,11.4,8.6,11.3,8.6c0.1-0.4,0.2-0.6,0.2-0.9l0-0.2c0.1-0.5,0.1-0.9,0-1c0,0,0,0,0-0.1l-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1C11.1,7,11.1,7.7,11.3,8.6C11.3,8.6,11.3,8.6,11.3,8.6z M8.3,15.5c-0.2,0.1-0.4,0.2-0.5,0.3c-0.7,0.6-1.2,1.3-1.3,1.6c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0C7.1,17.3,7.7,16.7,8.3,15.5C8.4,15.5,8.4,15.5,8.3,15.5C8.4,15.5,8.3,15.5,8.3,15.5z M17.5,14c-0.1-0.1-0.5-0.4-1.9-0.4c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0.7,0.3,1.4,0.5,1.9,0.5c0.1,0,0.1,0,0.2,0l0,0c0,0,0.1,0,0.1,0c0,0,0,0,0-0.1c0,0,0,0,0,0C17.6,14.1,17.5,14.1,17.5,14z M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17.9,14.8C17.7,14.9,17.4,15,17,15c-0.8,0-2-0.2-3-0.7c-1.7,0.2-3,0.4-4,0.8c-0.1,0-0.1,0-0.2,0.1c-1.2,2.1-2.2,3.1-3,3.1c-0.2,0-0.3,0-0.4-0.1l-0.5-0.3l0-0.1c-0.1-0.2-0.1-0.3-0.1-0.5c0.1-0.5,0.7-1.4,1.9-2.1c0.2-0.1,0.5-0.3,0.9-0.5c0.3-0.5,0.6-1.1,1-1.8c0.5-1,0.8-2,1.1-2.9l0,0c-0.4-1.2-0.6-1.9-0.2-3.3c0.1-0.4,0.4-0.8,0.8-0.8l0.2,0c0.2,0,0.4,0.1,0.6,0.2c0.7,0.7,0.4,2.3,0,3.6c0,0.1,0,0.1,0,0.1c0.4,1.1,1,2,1.6,2.6c0.3,0.2,0.5,0.4,0.9,0.6c0.5,0,0.9-0.1,1.3-0.1c1.2,0,2,0.2,2.3,0.7c0.1,0.2,0.1,0.4,0.1,0.6C18.2,14.3,18.1,14.6,17.9,14.8z M11.4,10.9c-0.2,0.7-0.6,1.5-1,2.4c-0.2,0.4-0.4,0.7-0.6,1.1c0,0,0.1,0,0.1,0l0.1,0v0c1.3-0.5,2.5-0.8,3.3-0.9c-0.2-0.1-0.3-0.2-0.4-0.3C12.4,12.6,11.8,11.8,11.4,10.9z"></g>
<g id="drive-presentation"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,16H5V8h14V16z"></g>
<g id="drive-script"><path d="M19,3H5C3.9,3,3,3.9,3,5l0,4h0v6h0l0,4c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M11,17v-3H5v-4h6V7l5,5L11,17z"></g>
<g id="drive-site"><path d="M19,4H5C3.9,4,3,4.9,3,6l0,12c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6C21,4.9,20.1,4,19,4z M14,18H5v-4h9V18z M14,13H5V9h9V13z M19,18h-4V9h4V18z"></g>
<g id="drive-spreadsheet"><path d="M19,3H5C3.9,3,3,3.9,3,5l0,3h0v11c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,11h-8v8H9v-8H5V9h4V5h2v4h8V11z"></g>
<g id="drive-video"><path d="M18,4l2,4h-3l-2-4h-2l2,4h-3l-2-4H8l2,4H7L5,4H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4H18z"></g>
<g id="error"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></g>
<g id="event"><path d="M17,12h-5v5h5V12z M16,1v2H8V1H6v2H5C3.9,3,3,3.9,3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-1V1H16z M19,19H5V8h14V19z"></g>
<g id="exit-to-app"><path d="M10.1,15.6l1.4,1.4l5-5l-5-5l-1.4,1.4l2.6,2.6H3v2h9.7L10.1,15.6z M19,3H5C3.9,3,3,3.9,3,5v4h2V5h14v14H5v-4H3v4c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z"></g>
<g id="expand-less"><polygon points="12,8 6,14 7.4,15.4 12,10.8 16.6,15.4 18,14 "></polygon></g>
<g id="expand-more"><polygon points="16.6,8.6 12,13.2 7.4,8.6 6,10 12,16 18,10 "></polygon></g>
<g id="explore"><path d="M12,10.9c-0.6,0-1.1,0.5-1.1,1.1s0.5,1.1,1.1,1.1c0.6,0,1.1-0.5,1.1-1.1S12.6,10.9,12,10.9z M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M14.2,14.2L6,18l3.8-8.2L18,6L14.2,14.2z"></g>
<g id="extension"><path d="M20.5,11H19V7c0-1.1-0.9-2-2-2h-4V3.5C13,2.1,11.9,1,10.5,1C9.1,1,8,2.1,8,3.5V5H4C2.9,5,2,5.9,2,7l0,3.8h1.5c1.5,0,2.7,1.2,2.7,2.7S5,16.2,3.5,16.2H2L2,20c0,1.1,0.9,2,2,2h3.8v-1.5c0-1.5,1.2-2.7,2.7-2.7c1.5,0,2.7,1.2,2.7,2.7V22H17c1.1,0,2-0.9,2-2v-4h1.5c1.4,0,2.5-1.1,2.5-2.5S21.9,11,20.5,11z"></g>
<g id="favorite"><path d="M12,21.4L10.6,20C5.4,15.4,2,12.3,2,8.5C2,5.4,4.4,3,7.5,3c1.7,0,3.4,0.8,4.5,2.1C13.1,3.8,14.8,3,16.5,3C19.6,3,22,5.4,22,8.5c0,3.8-3.4,6.9-8.6,11.5L12,21.4z"></g>
<g id="favorite-outline"><path d="M16.5,3c-1.7,0-3.4,0.8-4.5,2.1C10.9,3.8,9.2,3,7.5,3C4.4,3,2,5.4,2,8.5c0,3.8,3.4,6.9,8.6,11.5l1.4,1.3l1.4-1.3c5.1-4.7,8.6-7.8,8.6-11.5C22,5.4,19.6,3,16.5,3z M12.1,18.6L12,18.6l-0.1-0.1C7.1,14.2,4,11.4,4,8.5C4,6.5,5.5,5,7.5,5c1.5,0,3,1,3.6,2.4h1.9C13.5,6,15,5,16.5,5c2,0,3.5,1.5,3.5,3.5C20,11.4,16.9,14.2,12.1,18.6z"></g>
<g id="file-download"><path d="M19,9h-4V3H9v6H5l7,7L19,9z M5,18v2h14v-2H5z"></g>
<g id="file-upload"><polygon points="9,16 15,16 15,10 19,10 12,3 5,10 9,10 "><rect x="5" y="18" width="14" height="2"></polygon></g>
<g id="filter"><path d="M10,18h4v-2h-4V18z M3,6v2h18V6H3z M6,13h12v-2H6V13z"></g>
<g id="flag"><polygon points="14.4,6 14,4 5,4 5,21 7,21 7,14 12.6,14 13,16 20,16 20,6 "></polygon></g>
<g id="flip-to-back"><path d="M9,7H7l0,2h2V7z M9,11H7v2h2V11z M9,3C7.9,3,7,3.9,7,5h2V3z M13,15h-2v2h2V15z M19,3v2h2C21,3.9,20.1,3,19,3z M13,3h-2v2h2V3z M9,17v-2H7C7,16.1,7.9,17,9,17z M19,13h2v-2h-2V13z M19,9h2V7h-2V9z M19,17c1.1,0,2-0.9,2-2h-2V17z M5,7H3v2h0l0,10c0,1.1,0.9,2,2,2h12v-2H5V7z M15,5h2V3h-2V5z M15,17h2v-2h-2V17z"></g>
<g id="flip-to-front"><path d="M3,13h2v-2H3L3,13z M3,17h2v-2H3V17z M5,21v-2H3C3,20.1,3.9,21,5,21z M3,9h2V7H3V9z M15,21h2v-2h-2V21z M19,3H9C7.9,3,7,3.9,7,5v2h0v2v6c0,1.1,0.9,2,2,2h5h4h1c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,15H9V5h10V15z M11,21h2v-2h-2V21z M7,21h2v-2H7V21z"></g>
<g id="folder"><path d="M10,4H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8c0-1.1-0.9-2-2-2h-8L10,4z"></g>
<g id="folder-mydrive"><path d="M20,6h-8l-2-2H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M11.7,17l-1.3-2.1l2.8-5l1.5,2.7L12.3,17H11.7z M18.3,17h-5.5l1.4-2.5h5.1l0.3,0.5L18.3,17z M13.8,9h2.4l2.8,5H16l-2.6-4.5L13.8,9z"></g>
<g id="folder-shared"><path d="M20,6h-8l-2-2H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M15,9c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2c-1.1,0-2-0.9-2-2C13,9.9,13.9,9,15,9z M19,17h-8v-1c0-1.3,2.7-2,4-2c1.3,0,4,0.7,4,2V17z"></g>
<g id="forward"><polygon points="12,8 12,4 20,12 12,20 12,16 4,16 4,8 "></polygon></g>
<g id="fullscreen"><path d="M7,14H5v5h5v-2H7V14z M5,10h2V7h3V5H5V10z M17,17h-3v2h5v-5h-2V17z M14,5v2h3v3h2V5H14z"></g>
<g id="fullscreen-exit"><path d="M5,16h3v3h2v-5H5V16z M8,8H5v2h5V5H8V8z M14,19h2v-3h3v-2h-5V19z M16,8V5h-2v5h5V8H16z"></g>
<g id="gesture"><path d="M4.6,6.9C5.3,6.2,6,5.5,6.3,5.7c0.5,0.2,0,1-0.3,1.5c-0.3,0.4-2.9,3.9-2.9,6.3c0,1.3,0.5,2.3,1.3,3c0.8,0.6,1.7,0.7,2.6,0.5c1.1-0.3,1.9-1.4,3.1-2.8c1.2-1.5,2.8-3.4,4.1-3.4c1.6,0,1.6,1,1.8,1.8c-3.8,0.6-5.4,3.7-5.4,5.4c0,1.7,1.4,3.1,3.2,3.1c1.6,0,4.3-1.3,4.7-6.1H21v-2.5h-2.5c-0.2-1.6-1.1-4.2-4-4.2c-2.2,0-4.2,1.9-4.9,2.8c-0.6,0.7-2.1,2.5-2.3,2.7c-0.3,0.3-0.7,0.8-1.1,0.8c-0.4,0-0.7-0.8-0.4-1.9c0.4-1.1,1.4-2.9,1.9-3.5C8.4,8,8.9,7.2,8.9,5.9C8.9,3.7,7.3,3,6.4,3C5.1,3,4,4,3.7,4.3C3.4,4.6,3.1,4.9,2.8,5.2L4.6,6.9z M13.9,18.6c-0.3,0-0.7-0.3-0.7-0.7c0-0.6,0.7-2.2,2.9-2.8C15.7,17.8,14.6,18.6,13.9,18.6z"></g>
<g id="google"><path d="M16.3,13.4l-1.1-0.8c-0.4-0.3-0.8-0.7-0.8-1.4c0-0.7,0.5-1.3,1-1.6c1.3-1,2.6-2.1,2.6-4.3c0-2.1-1.3-3.3-2-3.9h1.7L18.9,0h-6.2C8.3,0,6.1,2.8,6.1,5.8c0,2.3,1.8,4.8,5,4.8h0.8c-0.1,0.3-0.4,0.8-0.4,1.3c0,1,0.4,1.4,0.9,2c-1.4,0.1-4,0.4-5.9,1.6c-1.8,1.1-2.3,2.6-2.3,3.7c0,2.3,2.1,4.5,6.6,4.5c5.4,0,8-3,8-5.9C18.8,15.7,17.7,14.6,16.3,13.4z M8.7,4.3c0-2.2,1.3-3.2,2.7-3.2c2.6,0,4,3.5,4,5.5c0,2.6-2.1,3.1-2.9,3.1C10,9.7,8.7,6.6,8.7,4.3z M12.3,22.3c-3.3,0-5.4-1.5-5.4-3.7c0-2.2,2-2.9,2.6-3.2c1.3-0.4,3-0.5,3.3-0.5c0.3,0,0.5,0,0.7,0c2.4,1.7,3.4,2.4,3.4,4C16.9,20.8,15,22.3,12.3,22.3z"></g>
<g id="google-plus"><path d="M21,10V7h-2v3h-3v2h3v3h2v-3h3v-2H21z M13.3,13.4l-1.1-0.8c-0.4-0.3-0.8-0.7-0.8-1.4c0-0.7,0.5-1.3,1-1.6c1.3-1,2.6-2.1,2.6-4.3c0-2.1-1.3-3.3-2-3.9h1.7L15.9,0H9.7C5.3,0,3.1,2.8,3.1,5.8c0,2.3,1.8,4.8,5,4.8h0.8c-0.1,0.3-0.4,0.8-0.4,1.3c0,1,0.4,1.4,0.9,2c-1.4,0.1-4,0.4-5.9,1.6c-1.8,1.1-2.3,2.6-2.3,3.7c0,2.3,2.1,4.5,6.6,4.5c5.4,0,8-3,8-5.9C15.8,15.7,14.7,14.6,13.3,13.4z M5.7,4.3c0-2.2,1.3-3.2,2.7-3.2c2.6,0,4,3.5,4,5.5c0,2.6-2.1,3.1-2.9,3.1C7,9.7,5.7,6.6,5.7,4.3z M9.3,22.3c-3.3,0-5.4-1.5-5.4-3.7c0-2.2,2-2.9,2.6-3.2c1.3-0.4,3-0.5,3.3-0.5c0.3,0,0.5,0,0.7,0c2.4,1.7,3.4,2.4,3.4,4C13.9,20.8,12,22.3,9.3,22.3z"></g>
<g id="help"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M13,19h-2v-2h2V19z M15.1,11.3l-0.9,0.9C13.4,12.9,13,13.5,13,15h-2v-0.5c0-1.1,0.4-2.1,1.2-2.8l1.2-1.3C13.8,10.1,14,9.6,14,9c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2H8c0-2.2,1.8-4,4-4c2.2,0,4,1.8,4,4C16,9.9,15.6,10.7,15.1,11.3z"></g>
<g id="history"><path opacity="0.9" d="M12.5,2C9,2,5.9,3.9,4.3,6.8L2,4.5V11h6.5L5.7,8.2C7,5.7,9.5,4,12.5,4c4.1,0,7.5,3.4,7.5,7.5c0,4.1-3.4,7.5-7.5,7.5c-3.3,0-6-2.1-7.1-5H3.3c1.1,4,4.8,7,9.2,7c5.3,0,9.5-4.3,9.5-9.5S17.7,2,12.5,2z M11,7v5.1l4.7,2.8l0.8-1.3l-4-2.4V7H11z"></g>
<g id="home"><polygon points="10,20 10,14 14,14 14,20 19,20 19,12 22,12 12,3 2,12 5,12 5,20 "></polygon></g>
<g id="https"><path d="M18,8h-1V6c0-2.8-2.2-5-5-5C9.2,1,7,3.2,7,6v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M12,17c-1.1,0-2-0.9-2-2s0.9-2,2-2c1.1,0,2,0.9,2,2S13.1,17,12,17z M15.1,8H8.9V6c0-1.7,1.4-3.1,3.1-3.1c1.7,0,3.1,1.4,3.1,3.1V8z"></g>
<g id="inbox"><path d="M19,3H5C3.9,3,3,3.9,3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,15h-4c0,1.7-1.3,3-3,3c-1.7,0-3-1.3-3-3H5V5h14V15z M16,10h-2V7h-4v3H8l4,4L16,10z"></g>
<g id="info"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M13,17h-2v-6h2V17z M13,9h-2V7h2V9z"></g>
<g id="info-outline"><path d="M11,17h2v-6h-2V17z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z M11,9h2V7h-2V9z"></g>
<g id="invert-colors"><path d="M17,12c0-2.8-2.2-5-5-5v10C14.8,17,17,14.8,17,12z M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19h-7v-2c-2.8,0-5-2.2-5-5s2.2-5,5-5V5h7V19z"></g>
<g id="keep"><path d="M16,12V4h1V2H7v2h1v8l-2,2v2h5.2v6h1.6v-6H18v-2L16,12z"></g>
<g id="label"><path d="M17.6,5.8C17.3,5.3,16.7,5,16,5L5,5C3.9,5,3,5.9,3,7v10c0,1.1,0.9,2,2,2l11,0c0.7,0,1.3-0.3,1.6-0.8L22,12L17.6,5.8z"></g>
<g id="label-outline"><path d="M17.6,5.8C17.3,5.3,16.7,5,16,5L5,5C3.9,5,3,5.9,3,7v10c0,1.1,0.9,2,2,2l11,0c0.7,0,1.3-0.3,1.6-0.8L22,12L17.6,5.8z M16,17H5V7h11l3.5,5L16,17z"></g>
<g id="language"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M18.9,8H16c-0.3-1.3-0.8-2.4-1.4-3.6C16.4,5.1,18,6.3,18.9,8z M12,4c0.8,1.2,1.5,2.5,1.9,4h-3.8C10.5,6.6,11.2,5.2,12,4z M4.3,14C4.1,13.4,4,12.7,4,12s0.1-1.4,0.3-2h3.4c-0.1,0.7-0.1,1.3-0.1,2s0.1,1.3,0.1,2H4.3z M5.1,16H8c0.3,1.3,0.8,2.4,1.4,3.6C7.6,18.9,6,17.7,5.1,16z M8,8H5.1c1-1.7,2.5-2.9,4.3-3.6C8.8,5.6,8.3,6.7,8,8z M12,20c-0.8-1.2-1.5-2.5-1.9-4h3.8C13.5,17.4,12.8,18.8,12,20z M14.3,14H9.7c-0.1-0.7-0.2-1.3-0.2-2s0.1-1.3,0.2-2h4.7c0.1,0.7,0.2,1.3,0.2,2S14.4,13.3,14.3,14z M14.6,19.6c0.6-1.1,1.1-2.3,1.4-3.6h2.9C18,17.7,16.4,18.9,14.6,19.6z M16.4,14c0.1-0.7,0.1-1.3,0.1-2s-0.1-1.3-0.1-2h3.4c0.2,0.6,0.3,1.3,0.3,2s-0.1,1.4-0.3,2H16.4z"></g>
<g id="launch"><path d="M19,19H5V5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-7h-2V19z M14,3v2h3.6l-9.8,9.8l1.4,1.4L19,6.4V10h2V3H14z"></g>
<g id="link"><path d="M8,13h8v-2H8V13z M3.9,12c0-2.3,1.8-4.1,4.1-4.1h3V6H8c-3.3,0-6,2.7-6,6s2.7,6,6,6h3v-1.9H8C5.7,16.1,3.9,14.3,3.9,12z M16,6h-3v1.9h3c2.3,0,4.1,1.8,4.1,4.1c0,2.3-1.8,4.1-4.1,4.1h-3V18h3c3.3,0,6-2.7,6-6S19.3,6,16,6z"></g>
<g id="list"><path d="M3,13h2v-2H3V13z M3,17h2v-2H3V17z M3,9h2V7H3V9z M7,13h14v-2H7V13z M7,17h14v-2H7V17z M7,7v2h14V7H7z"></g>
<g id="lock"><path d="M18,8h-1V6c0-2.8-2.2-5-5-5C9.2,1,7,3.2,7,6v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M12,17c-1.1,0-2-0.9-2-2s0.9-2,2-2c1.1,0,2,0.9,2,2S13.1,17,12,17z M15.1,8H8.9V6c0-1.7,1.4-3.1,3.1-3.1c1.7,0,3.1,1.4,3.1,3.1V8z"></g>
<g id="lock-open"><path d="M12,17c1.1,0,2-0.9,2-2s-0.9-2-2-2c-1.1,0-2,0.9-2,2S10.9,17,12,17z M18,8h-1V6c0-2.8-2.2-5-5-5C9.2,1,7,3.2,7,6h1.9c0-1.7,1.4-3.1,3.1-3.1c1.7,0,3.1,1.4,3.1,3.1v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M18,20H6V10h12V20z"></g>
<g id="lock-outline"><path d="M18,8h-1V6c0-2.8-2.2-5-5-5C9.2,1,7,3.2,7,6v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M12,2.9c1.7,0,3.1,1.4,3.1,3.1v2H9V6H8.9C8.9,4.3,10.3,2.9,12,2.9z M18,20H6V10h12V20z M12,17c1.1,0,2-0.9,2-2s-0.9-2-2-2c-1.1,0-2,0.9-2,2S10.9,17,12,17z"></g>
<g id="mail"><path d="M20,4H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,8l-8,5L4,8V6l8,5l8-5V8z"></g>
<g id="markunread"><path d="M22,6l2-2l-2-2l-2,2l-2-2l-2,2l-2-2l-2,2l-2-2L8,4L6,2L4,4L2,2L0,4l2,2L0,8l2,2l-2,2l2,2l-2,2l2,2l-2,2l2,2l2-2l2,2l2-2l2,2l2-2l2,2l2-2l2,2l2-2l2,2l2-2l-2-2l2-2l-2-2l2-2l-2-2l2-2L22,6z M20,8l-8,5L4,8V6l8,5l8-5V8z"></g>
<g id="menu"><path d="M3,18h18v-2H3V18z M3,13h18v-2H3V13z M3,6v2h18V6H3z"></g>
<g id="more-horiz"><path d="M6,10c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S7.1,10,6,10z M18,10c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S19.1,10,18,10z M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S13.1,10,12,10z"></g>
<g id="more-vert"><path d="M12,8c1.1,0,2-0.9,2-2s-0.9-2-2-2c-1.1,0-2,0.9-2,2S10.9,8,12,8z M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S13.1,10,12,10z M12,16c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S13.1,16,12,16z"></g>
<g id="polymer"><polygon points="19,4 15,4 7.1,16.6 4.5,12 9,4 5,4 0.5,12 5,20 9,20 16.9,7.4 19.5,12 15,20 19,20 23.5,12 "></polygon></g>
<g id="print"><path d="M19,8H5c-1.7,0-3,1.3-3,3v6h4v4h12v-4h4v-6C22,9.3,20.7,8,19,8z M16,19H8v-5h8V19z M19,12c-0.6,0-1-0.4-1-1s0.4-1,1-1c0.6,0,1,0.4,1,1S19.6,12,19,12z M18,3H6v4h12V3z"></g>
<g id="radio-button-off"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"></g>
<g id="radio-button-on"><path d="M12,7c-2.8,0-5,2.2-5,5s2.2,5,5,5c2.8,0,5-2.2,5-5S14.8,7,12,7z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"></g>
<g id="receipt"><path d="M18,17H6v-2h12V17z M18,13H6v-2h12V13z M18,9H6V7h12V9z M3,22l1.5-1.5L6,22l1.5-1.5L9,22l1.5-1.5L12,22l1.5-1.5L15,22l1.5-1.5L18,22l1.5-1.5L21,22V2l-1.5,1.5L18,2l-1.5,1.5L15,2l-1.5,1.5L12,2l-1.5,1.5L9,2L7.5,3.5L6,2L4.5,3.5L3,2V22z"></g>
<g id="refresh"><path d="M17.6,6.4C16.2,4.9,14.2,4,12,4c-4.4,0-8,3.6-8,8s3.6,8,8,8c3.7,0,6.8-2.6,7.7-6h-2.1c-0.8,2.3-3,4-5.6,4c-3.3,0-6-2.7-6-6s2.7-6,6-6c1.7,0,3.1,0.7,4.2,1.8L13,11h7V4L17.6,6.4z"></g>
<g id="reminder"><path d="M16.9,13c1.3-1.3,2.1-3,2.1-5c0-3.9-3.1-7-7-7C8.1,1,5,4.1,5,8c0,2,0.8,3.7,2.1,5l0,0l3.5,3.5L6,21.1l1.4,1.4L16.9,13z M15.5,11.5L15.5,11.5L12,15.1l-3.5-3.5l0,0l0,0C7.6,10.6,7,9.4,7,8c0-2.8,2.2-5,5-5c2.8,0,5,2.2,5,5C17,9.4,16.4,10.6,15.5,11.5L15.5,11.5z M13.4,19.3l3.2,3.2l1.4-1.4l-3.2-3.2L13.4,19.3z"></g>
<g id="remove"><path d="M19,13H5v-2h14V13z"></g>
<g id="remove-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,13H7v-2h10V13z"></g>
<g id="remove-circle-outline"><path d="M7,11v2h10v-2H7z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"></g>
<g id="reply"><path d="M10,9V5l-7,7l7,7v-4.1c5,0,8.5,1.6,11,5.1C20,15,17,10,10,9z"></g>
<g id="reply-all"><path d="M7,8V5l-7,7l7,7v-3l-4-4L7,8z M13,9V5l-7,7l7,7v-4.1c5,0,8.5,1.6,11,5.1C23,15,20,10,13,9z"></g>
<g id="report"><path d="M15.7,3H8.3L3,8.3v7.5L8.3,21h7.5l5.3-5.3V8.3L15.7,3z M12,17.3c-0.7,0-1.3-0.6-1.3-1.3c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3C13.3,16.7,12.7,17.3,12,17.3z M13,13h-2V7h2V13z"></g>
<g id="rotate-left"><path d="M7.1,8.5L5.7,7.1C4.8,8.3,4.2,9.6,4.1,11h2C6.2,10.1,6.6,9.3,7.1,8.5z M6.1,13h-2c0.2,1.4,0.7,2.7,1.6,3.9l1.4-1.4C6.6,14.7,6.2,13.9,6.1,13z M7.1,18.3c1.2,0.9,2.5,1.4,3.9,1.6v-2c-0.9-0.1-1.7-0.5-2.5-1L7.1,18.3z M13,4.1V1L8.5,5.5L13,10V6.1c2.8,0.5,5,2.9,5,5.9s-2.2,5.4-5,5.9v2c3.9-0.5,7-3.9,7-7.9S16.9,4.6,13,4.1z"></g>
<g id="rotate-right"><path d="M15.5,5.5L11,1v3.1C7.1,4.6,4,7.9,4,12s3.1,7.4,7,7.9v-2C8.2,17.4,6,15,6,12s2.2-5.4,5-5.9V10L15.5,5.5z M19.9,11c-0.2-1.4-0.7-2.7-1.6-3.9l-1.4,1.4c0.5,0.8,0.9,1.6,1,2.5H19.9z M13,17.9v2c1.4-0.2,2.7-0.7,3.9-1.6l-1.4-1.4C14.7,17.4,13.9,17.8,13,17.9z M16.9,15.5l1.4,1.4c0.9-1.2,1.5-2.5,1.6-3.9h-2C17.8,13.9,17.4,14.7,16.9,15.5z"></g>
<g id="save"><path d="M17,3H5C3.9,3,3,3.9,3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V7L17,3z M12,19c-1.7,0-3-1.3-3-3s1.3-3,3-3c1.7,0,3,1.3,3,3S13.7,19,12,19z M15,9H5V5h10V9z"></g>
<g id="schedule"><path fill-opacity="0.9" d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"><polygon fill-opacity="0.9" points="12.5,7 11,7 11,13 16.2,16.2 17,14.9 12.5,12.2 "></polygon></g>
<g id="search"><path d="M15.5,14h-0.8l-0.3-0.3c1-1.1,1.6-2.6,1.6-4.2C16,5.9,13.1,3,9.5,3C5.9,3,3,5.9,3,9.5S5.9,16,9.5,16c1.6,0,3.1-0.6,4.2-1.6l0.3,0.3v0.8l5,5l1.5-1.5L15.5,14z M9.5,14C7,14,5,12,5,9.5S7,5,9.5,5C12,5,14,7,14,9.5S12,14,9.5,14z"></g>
<g id="select-all"><path d="M3,5h2V3C3.9,3,3,3.9,3,5z M3,13h2v-2H3V13z M7,21h2v-2H7V21z M3,9h2V7H3V9z M13,3h-2v2h2V3z M19,3v2h2C21,3.9,20.1,3,19,3z M5,21v-2H3C3,20.1,3.9,21,5,21z M3,17h2v-2H3V17z M9,3H7v2h2V3z M11,21h2v-2h-2V21z M19,13h2v-2h-2V13z M19,21c1.1,0,2-0.9,2-2h-2V21z M19,9h2V7h-2V9z M19,17h2v-2h-2V17z M15,21h2v-2h-2V21z M15,5h2V3h-2V5z M7,17h10V7H7V17z M9,9h6v6H9V9z"></g>
<g id="send"><polygon points="2,21 23,12 2,3 2,10 17,12 2,14 "></polygon></g>
<g id="settings"><path d="M19.4,13c0-0.3,0.1-0.6,0.1-1s0-0.7-0.1-1l2.1-1.7c0.2-0.2,0.2-0.4,0.1-0.6l-2-3.5C19.5,5.1,19.3,5,19,5.1l-2.5,1c-0.5-0.4-1.1-0.7-1.7-1l-0.4-2.6C14.5,2.2,14.2,2,14,2h-4C9.8,2,9.5,2.2,9.5,2.4L9.1,5.1C8.5,5.3,8,5.7,7.4,6.1L5,5.1C4.7,5,4.5,5.1,4.3,5.3l-2,3.5C2.2,8.9,2.3,9.2,2.5,9.4L4.6,11c0,0.3-0.1,0.6-0.1,1s0,0.7,0.1,1l-2.1,1.7c-0.2,0.2-0.2,0.4-0.1,0.6l2,3.5C4.5,18.9,4.7,19,5,18.9l2.5-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.6c0,0.2,0.2,0.4,0.5,0.4h4c0.2,0,0.5-0.2,0.5-0.4l0.4-2.6c0.6-0.3,1.2-0.6,1.7-1l2.5,1c0.2,0.1,0.5,0,0.6-0.2l2-3.5c0.1-0.2,0.1-0.5-0.1-0.6L19.4,13z M12,15.5c-1.9,0-3.5-1.6-3.5-3.5s1.6-3.5,3.5-3.5s3.5,1.6,3.5,3.5S13.9,15.5,12,15.5z"></g>
<g id="settings-applications"><path d="M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,10,12,10z M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17.2,12c0,0.2,0,0.5,0,0.7l1.5,1.2c0.1,0.1,0.2,0.3,0.1,0.4l-1.4,2.4c-0.1,0.2-0.3,0.2-0.4,0.2l-1.7-0.7c-0.4,0.3-0.8,0.5-1.2,0.7l-0.3,1.9c0,0.2-0.2,0.3-0.3,0.3h-2.8c-0.2,0-0.3-0.1-0.3-0.3L10,16.9c-0.4-0.2-0.8-0.4-1.2-0.7l-1.7,0.7c-0.2,0.1-0.3,0-0.4-0.2l-1.4-2.4c-0.1-0.2,0-0.3,0.1-0.4l1.5-1.2c0-0.2,0-0.5,0-0.7s0-0.5,0-0.7l-1.5-1.2c-0.1-0.1-0.2-0.3-0.1-0.4l1.4-2.4c0.1-0.2,0.3-0.2,0.4-0.2l1.7,0.7C9.2,7.6,9.6,7.3,10,7.1l0.3-1.9c0-0.2,0.2-0.3,0.3-0.3h2.8c0.2,0,0.3,0.1,0.3,0.3L14,7.1c0.4,0.2,0.8,0.4,1.2,0.7l1.7-0.7c0.2-0.1,0.3,0,0.4,0.2l1.4,2.4c0.1,0.2,0,0.3-0.1,0.4l-1.5,1.2C17.2,11.5,17.2,11.8,17.2,12z"></g>
<g id="settings-bluetooth"><path d="M11,24h2v-2h-2V24z M7,24h2v-2H7V24z M15,24h2v-2h-2V24z M17.7,5.7L12,0h-1v7.6L6.4,3L5,4.4l5.6,5.6L5,15.6L6.4,17l4.6-4.6V20h1l5.7-5.7L13.4,10L17.7,5.7z M13,3.8l1.9,1.9L13,7.6V3.8z M14.9,14.3L13,16.2v-3.8L14.9,14.3z"></g>
<g id="settings-cell"><path d="M7,24h2v-2H7V24z M11,24h2v-2h-2V24z M15,24h2v-2h-2V24z M16,0L8,0C6.9,0,6,0.9,6,2v16c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V2C18,0.9,17.1,0,16,0z M16,16H8V4h8V16z"></g>
<g id="settings-phone"><path d="M13,9h-2v2h2V9z M17,9h-2v2h2V9z M20,15.5c-1.2,0-2.4-0.2-3.6-0.6c-0.3-0.1-0.7,0-1,0.2l-2.2,2.2c-2.8-1.4-5.1-3.8-6.6-6.6l2.2-2.2c0.3-0.3,0.4-0.7,0.2-1C8.7,6.4,8.5,5.2,8.5,4c0-0.6-0.4-1-1-1H4C3.4,3,3,3.4,3,4c0,9.4,7.6,17,17,17c0.6,0,1-0.4,1-1v-3.5C21,15.9,20.6,15.5,20,15.5z M19,9v2h2V9H19z"></g>
<g id="settings-power"><path d="M7,24h2v-2H7V24z M11,24h2v-2h-2V24z M13,2h-2v10h2V2z M16.6,4.4l-1.4,1.4C16.8,6.9,18,8.8,18,11c0,3.3-2.7,6-6,6c-3.3,0-6-2.7-6-6c0-2.2,1.2-4.1,2.9-5.1L7.4,4.4C5.4,5.9,4,8.3,4,11c0,4.4,3.6,8,8,8c4.4,0,8-3.6,8-8C20,8.3,18.6,5.9,16.6,4.4z M15,24h2v-2h-2V24z"></g>
<g id="settings-voice"><path d="M7,24h2v-2H7V24z M12,13c1.7,0,3-1.3,3-3l0-6c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3v6C9,11.7,10.3,13,12,13z M11,24h2v-2h-2V24z M15,24h2v-2h-2V24z M19,10h-1.7c0,3-2.5,5.1-5.3,5.1c-2.8,0-5.3-2.1-5.3-5.1H5c0,3.4,2.7,6.2,6,6.7V20h2v-3.3C16.3,16.2,19,13.4,19,10z"></g>
<g id="shopping-basket"><path d="M17.2,9l-4.4-6.6C12.6,2.2,12.3,2,12,2c-0.3,0-0.6,0.1-0.8,0.4L6.8,9H2c-0.6,0-1,0.4-1,1c0,0.1,0,0.2,0,0.3l2.5,9.3c0.2,0.8,1,1.5,1.9,1.5h13c0.9,0,1.7-0.6,1.9-1.5l2.5-9.3c0-0.1,0-0.2,0-0.3c0-0.6-0.4-1-1-1H17.2z M9,9l3-4.4L15,9H9z M12,17c-1.1,0-2-0.9-2-2s0.9-2,2-2c1.1,0,2,0.9,2,2S13.1,17,12,17z"></g>
<g id="shopping-cart"><path d="M7,18c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S8.1,18,7,18z M1,2v2h2l3.6,7.6L5.2,14C5.1,14.3,5,14.7,5,15c0,1.1,0.9,2,2,2h12v-2H7.4c-0.1,0-0.2-0.1-0.2-0.2c0,0,0-0.1,0-0.1L8.1,13h7.4c0.8,0,1.4-0.4,1.7-1l3.6-6.5C21,5.3,21,5.2,21,5c0-0.6-0.4-1-1-1H5.2L4.3,2H1z M17,18c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S18.1,18,17,18z"></g>
<g id="sort"><path d="M3,18h6v-2H3V18z M3,6v2h18V6H3z M3,13h12v-2H3V13z"></g>
<g id="star"><polygon points="12,17.273 18.18,21 16.545,13.971 22,9.244 14.809,8.627 12,2 9.191,8.627 2,9.244 7.455,13.971 5.82,21 "></polygon></g>
<g id="star-half"><path d="M22,9.744l-7.191-0.617L12,2.5L9.191,9.127L2,9.744v0l0,0l5.455,4.727L5.82,21.5L12,17.772l0,0l6.18,3.727l-1.635-7.029L22,9.744z M12,15.896V6.595l1.71,4.036l4.38,0.376l-3.322,2.878l0.996,4.281L12,15.896z"></g>
<g id="star-outline"><path d="M22,9.244l-7.191-0.617L12,2L9.191,8.627L2,9.244l5.455,4.727L5.82,21L12,17.272L18.18,21l-1.635-7.029L22,9.244z M12,15.396l-3.763,2.27l0.996-4.281L5.91,10.507l4.38-0.376L12,6.095l1.71,4.036l4.38,0.376l-3.322,2.878l0.996,4.281L12,15.396z"></g>
<g id="star-rate"><polygon points="12,14.3 15.7,17 14.3,12.6 18,10 13.5,10 12,5.5 10.5,10 6,10 9.7,12.6 8.3,17 "></polygon></g>
<g id="store"><path d="M20,4H4v2h16V4z M21,14v-2l-1-5H4l-1,5v2h1v6h10v-6h4v6h2v-6H21z M12,18H6v-4h6V18z"></g>
<g id="swap-driving-apps"><circle cx="6.5" cy="15.5" r="1.5"><circle cx="17.5" cy="15.5" r="1.5"><path d="M18.9,7c-0.2-0.6-0.8-1-1.4-1H16H6V4L3,7l2,2l1,1V8h11.7l1.3,4H3v9c0,0.6,0.4,1,1,1h1c0.6,0,1-0.4,1-1v-1h12v1c0,0.6,0.4,1,1,1h1c0.6,0,1-0.4,1-1v-8L18.9,7z M6.5,17C5.7,17,5,16.3,5,15.5S5.7,14,6.5,14C7.3,14,8,14.7,8,15.5S7.3,17,6.5,17z M17.5,17c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5c0.8,0,1.5,0.7,1.5,1.5S18.3,17,17.5,17z M16,0v2H8v2h8v2l3-3L16,0z"></g>
<g id="swap-horiz"><path d="M7,11l-4,4l4,4v-3h7v-2H7V11z M21,9l-4-4v3h-7v2h7v3L21,9z"></g>
<g id="swap-vert"><path d="M16,17v-7h-2v7h-3l4,4l4-4H16z M9,3L5,7h3v7h2V7h3L9,3z"></g>
<g id="swap-vert-circle"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M6.5,9L10,5.5L13.5,9H11v4H9V9H6.5z M17.5,15L14,18.5L10.5,15H13v-4h2v4H17.5z"></g>
<g id="tab"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19L5,19V5h7v4h7V19z"></g>
<g id="tab-unselected"><path d="M3,9h2V7H3V9z M3,13h2v-2H3V13z M3,5h2V3C3.9,3,3,3.9,3,5z M7,21h2v-2l-2,0V21z M3,17h2v-2H3V17z M5,21v-2H3C3,20.1,3.9,21,5,21z M19,3h-8v6h10V5C21,3.9,20.1,3,19,3z M19,17h2v-2h-2V17z M7,5h2V3H7V5z M19,21c1.1,0,2-0.9,2-2h-2V21z M19,13h2v-2h-2V13z M11,21h2v-2l-2,0V21z M15,21h2v-2l-2,0V21z"></g>
<g id="text-format"><path d="M5,17v2h14v-2H5z M9.5,12.8h5l0.9,2.2h2.1L12.8,4h-1.5L6.5,15h2.1L9.5,12.8z M12,6l1.9,5h-3.7L12,6z"></g>
<g id="theaters"><path d="M18,3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3H18z M8,17H6v-2h2V17z M8,13H6v-2h2V13z M8,9H6V7h2V9z M18,17h-2v-2h2V17z M18,13h-2v-2h2V13z M18,9h-2V7h2V9z"></g>
<g id="thumb-down"><path d="M15,3H6C5.2,3,4.5,3.5,4.2,4.2l-3,7.1C1.1,11.5,1,11.7,1,12v1.9l0,0c0,0,0,0.1,0,0.1c0,1.1,0.9,2,2,2h6.3l-1,4.6c0,0.1,0,0.2,0,0.3c0,0.4,0.2,0.8,0.4,1.1L9.8,23l6.6-6.6c0.4-0.4,0.6-0.9,0.6-1.4V5C17,3.9,16.1,3,15,3z M19,3v12h4V3H19z"></g>
<g id="thumb-up"><path d="M1,21h4V9H1V21z M23,10c0-1.1-0.9-2-2-2h-6.3l1-4.6c0-0.1,0-0.2,0-0.3c0-0.4-0.2-0.8-0.4-1.1L14.2,1L7.6,7.6C7.2,7.9,7,8.4,7,9v10c0,1.1,0.9,2,2,2h9c0.8,0,1.5-0.5,1.8-1.2l3-7.1c0.1-0.2,0.1-0.5,0.1-0.7V10L23,10C23,10.1,23,10,23,10z"></g>
<g id="today"><path d="M19,3h-1V1h-2v2H8V1H6v2H5C3.9,3,3,3.9,3,5l0,14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19H5V8h14V19z"><rect x="7" y="10" width="5" height="5"></g>
<g id="translate"><path d="M3,17.2V21h3.8L17.8,9.9l-3.8-3.8L3,17.2z M20.7,7c0.4-0.4,0.4-1,0-1.4l-2.3-2.3c-0.4-0.4-1-0.4-1.4,0l-1.8,1.8l3.8,3.8L20.7,7z M12,19l-2,2h13v-2H12z"></g>
<g id="undo"><path d="M12,5V1.5l-5,5l5,5V7c3.3,0,6,2.7,6,6s-2.7,6-6,6c-3.3,0-6-2.7-6-6H4c0,4.4,3.6,8,8,8c4.4,0,8-3.6,8-8S16.4,5,12,5z"></g>
<g id="unfold-less"><path d="M7.4,18.6L8.8,20l3.2-3.2l3.2,3.2l1.4-1.4L12,14L7.4,18.6z M16.6,5.4L15.2,4L12,7.2L8.8,4L7.4,5.4L12,10L16.6,5.4z"></g>
<g id="unfold-more"><path d="M12,5.8L15.2,9l1.4-1.4L12,3L7.4,7.6L8.8,9L12,5.8z M12,18.2L8.8,15l-1.4,1.4L12,21l4.6-4.6L15.2,15L12,18.2z"></g>
<g id="view-array"><path d="M4,18h3V5H4V18z M18,5v13h3V5H18z M8,18h9V5H8V18z"></g>
<g id="view-column"><path d="M10,18h5V5h-5V18z M4,18h5V5H4V18z M16,5v13h5V5H16z"></g>
<g id="view-headline"><path d="M4,15h17v-2H4V15z M4,19h17v-2H4V19z M4,11h17V9H4V11z M4,5v2h17V5H4z"></g>
<g id="view-list"><path d="M4,14h4v-4H4V14z M4,19h4v-4H4V19z M4,9h4V5H4V9z M9,14h12v-4H9V14z M9,19h12v-4H9V19z M9,5v4h12V5H9z"></g>
<g id="view-module"><path d="M4,11h5V5H4V11z M4,18h5v-6H4V18z M10,18h5v-6h-5V18z M16,18h5v-6h-5V18z M10,11h5V5h-5V11z M16,5v6h5V5H16z"></g>
<g id="view-quilt"><path d="M10,18h5v-6h-5V18z M4,18h5V5H4V18z M16,18h5v-6h-5V18z M10,5v6h11V5H10z"></g>
<g id="view-stream"><path d="M4,18h17v-6H4V18z M4,5v6h17V5H4z"></g>
<g id="visibility"><path d="M12,4.5C7,4.5,2.7,7.6,1,12c1.7,4.4,6,7.5,11,7.5c5,0,9.3-3.1,11-7.5C21.3,7.6,17,4.5,12,4.5z M12,17c-2.8,0-5-2.2-5-5s2.2-5,5-5c2.8,0,5,2.2,5,5S14.8,17,12,17z M12,9c-1.7,0-3,1.3-3,3s1.3,3,3,3c1.7,0,3-1.3,3-3S13.7,9,12,9z"></g>
<g id="visibility-off"><path d="M12,7c2.8,0,5,2.2,5,5c0,0.6-0.1,1.3-0.4,1.8l2.9,2.9c1.5-1.3,2.7-2.9,3.4-4.7c-1.7-4.4-6-7.5-11-7.5c-1.4,0-2.7,0.3-4,0.7l2.2,2.2C10.7,7.1,11.4,7,12,7z M2,4.3l2.3,2.3L4.7,7c-1.7,1.3-3,3-3.7,5c1.7,4.4,6,7.5,11,7.5c1.5,0,3-0.3,4.4-0.8l0.4,0.4l2.9,2.9l1.3-1.3L3.3,3L2,4.3z M7.5,9.8l1.5,1.5C9,11.6,9,11.8,9,12c0,1.7,1.3,3,3,3c0.2,0,0.4,0,0.7-0.1l1.5,1.5C13.5,16.8,12.8,17,12,17c-2.8,0-5-2.2-5-5C7,11.2,7.2,10.5,7.5,9.8z M11.8,9l3.1,3.1c0-0.1,0-0.1,0-0.2c0-1.7-1.3-3-3-3C11.9,9,11.9,9,11.8,9z"></g>
<g id="warning"><path d="M1,21h22L12,2L1,21z M13,18h-2v-2h2V18z M13,14h-2v-4h2V14z"></g>
<g id="work"><path d="M20,6h-4V4l-2-2h-4L8,4v2H4C2.9,6,2,6.9,2,8l0,11c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M14,6h-4V4h4V6z"></g>
</defs></svg>
</core-iconset-svg>

<!-- import core-icon for convenience 
  TODO(sorvell): we'd rather do this in core-iconset but we can't until
  crbug.com/373461 is addressed
-->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
@group Polymer Core Elements

`<core-selector>` is used to manage a list of elements that can be selected.

The attribute `selected` indicates which item element is being selected.
The attribute `multi` indicates if multiple items can be selected at once.
Tapping on the item element would fire `core-activate` event. Use
`core-select` event to listen for selection changes.

Example:

    <core-selector selected="0">
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </core-selector>

`<core-selector>` is not styled. Use the `core-selected` CSS class to style the selected element.

    <style>
      .item.core-selected {
        background: #eee;
      }
    </style>
    ...
    <core-selector>
      <div class="item">Item 1</div>
      <div class="item">Item 2</div>
      <div class="item">Item 3</div>
    </core-selector>

@element core-selector
@status stable
@homepage github.io
-->

<!--
Fired when an item's selection state is changed. This event is fired both
when an item is selected or deselected. The `isSelected` detail property
contains the selection state.

@event core-select
@param {Object} detail
  @param {boolean} detail.isSelected true for selection and false for deselection
  @param {Object} detail.item the item element
-->
<!--
Fired when an item element is tapped.

@event core-activate
@param {Object} detail
  @param {Object} detail.item the item element
-->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--
@group Polymer Core Elements

The `<core-selection>` element is used to manage selection state. It has no
visual appearance and is typically used in conjunction with another element.
For example, [core-selector](#core-selector)
use a `<core-selection>` to manage selection.

To mark an item as selected, call the `select(item)` method on 
`<core-selection>`. The item itself is an argument to this method.

The `<core-selection>`element manages selection state for any given set of
items. When an item is selected, the `core-select` event is fired.

The attribute `multi` indicates if multiple items can be selected at once.
  
Example:
 
    <polymer-element name="selection-example">
       <template>
         <style>
           polyfill-next-selector { content: ':host > .selected'; }
           ::content > .selected {
             font-weight: bold;
             font-style: italic;
           }
         </style>
         <ul on-tap="{{itemTapAction}}">
           <content></content>
         </ul>
         <core-selection id="selection" multi
                         on-core-select="{{selectAction}}"></core-selection>
       </template>
       <script>
         Polymer('selection-example', {
           itemTapAction: function(e, detail, sender) {
             this.$.selection.select(e.target);
           },
           selectAction: function(e, detail, sender) {
             detail.item.classList.toggle('selected', detail.isSelected);
           }
         });
       </script>
    </polymer-element>

    <selection-example>
      <li>Red</li>
      <li>Green</li>
      <li>Blue</li>
    </selection-example>
 
@element core-selection
-->

<!--
Fired when an item's selection state is changed. This event is fired both
when an item is selected or deselected. The `isSelected` detail property
contains the selection state.

@event core-select
@param {Object} detail
  @param {boolean} detail.isSelected true for selection and false for de-selection
  @param {Object} detail.item the item element
-->


<polymer-element name="core-selection" attributes="multi" hidden assetpath="bower_components/core-selection/">
  <script>
    Polymer('core-selection', {
      /**
       * If true, multiple selections are allowed.
       *
       * @attribute multi
       * @type boolean
       * @default false
       */
      multi: false,
      ready: function() {
        this.clear();
      },
      clear: function() {
        this.selection = [];
      },
      /**
       * Retrieves the selected item(s).
       * @method getSelection
       * @returns Returns the selected item(s). If the multi property is true,
       * getSelection will return an array, otherwise it will return 
       * the selected item or undefined if there is no selection.
      */
      getSelection: function() {
        return this.multi ? this.selection : this.selection[0];
      },
      /**
       * Indicates if a given item is selected.
       * @method isSelected
       * @param {any} item The item whose selection state should be checked.
       * @returns Returns true if `item` is selected.
      */
      isSelected: function(item) {
        return this.selection.indexOf(item) >= 0;
      },
      setItemSelected: function(item, isSelected) {
        if (item !== undefined && item !== null) {
          if (isSelected) {
            this.selection.push(item);
          } else {
            var i = this.selection.indexOf(item);
            if (i >= 0) {
              this.selection.splice(i, 1);
            }
          }
          this.fire("core-select", {isSelected: isSelected, item: item});
        }
      },
      /**
       * Set the selection state for a given `item`. If the multi property
       * is true, then the selected state of `item` will be toggled; otherwise
       * the `item` will be selected.
       * @method select
       * @param {any} item: The item to select.
      */
      select: function(item) {
        if (this.multi) {
          this.toggle(item);
        } else if (this.getSelection() !== item) {
          this.setItemSelected(this.getSelection(), false);
          this.setItemSelected(item, true);
        }
      },
      /**
       * Toggles the selection state for `item`.
       * @method toggle
       * @param {any} item: The item to toggle.
      */
      toggle: function(item) {
        this.setItemSelected(item, !this.isSelected(item));
      }
    });
  </script>
</polymer-element>


<polymer-element name="core-selector" attributes="selected multi valueattr selectedClass selectedProperty selectedAttribute selectedItem selectedModel selectedIndex notap target itemsSelector activateEvent" assetpath="bower_components/core-selector/">

  <template>
    <core-selection id="selection" multi="{{multi}}" on-core-select="{{selectionSelect}}"></core-selection>
    <content id="items" select="*"></content>
  </template>

  <script>

    Polymer('core-selector', {

      /**
       * Gets or sets the selected element.  Default to use the index
       * of the item element.
       *
       * If you want a specific attribute value of the element to be
       * used instead of index, set "valueattr" to that attribute name.
       *
       * Example:
       *
       *     <core-selector valueattr="label" selected="foo">
       *       <div label="foo"></div>
       *       <div label="bar"></div>
       *       <div label="zot"></div>
       *     </core-selector>
       *
       * In multi-selection this should be an array of values.
       *
       * Example:
       *
       *     <core-selector id="selector" valueattr="label" multi>
       *       <div label="foo"></div>
       *       <div label="bar"></div>
       *       <div label="zot"></div>
       *     </core-selector>
       *
       *     this.$.selector.selected = ['foo', 'zot'];
       *
       * @attribute selected
       * @type Object
       * @default null
       */
      selected: null,

      /**
       * If true, multiple selections are allowed.
       *
       * @attribute multi
       * @type boolean
       * @default false
       */
      multi: false,

      /**
       * Specifies the attribute to be used for "selected" attribute.
       *
       * @attribute valueattr
       * @type string
       * @default 'name'
       */
      valueattr: 'name',

      /**
       * Specifies the CSS class to be used to add to the selected element.
       * 
       * @attribute selectedClass
       * @type string
       * @default 'core-selected'
       */
      selectedClass: 'core-selected',

      /**
       * Specifies the property to be used to set on the selected element
       * to indicate its active state.
       *
       * @attribute selectedProperty
       * @type string
       * @default ''
       */
      selectedProperty: '',

      /**
       * Specifies the attribute to set on the selected element to indicate
       * its active state.
       *
       * @attribute selectedAttribute
       * @type string
       * @default 'active'
       */
      selectedAttribute: 'active',

      /**
       * Returns the currently selected element. In multi-selection this returns
       * an array of selected elements.
       * 
       * @attribute selectedItem
       * @type Object
       * @default null
       */
      selectedItem: null,

      /**
       * In single selection, this returns the model associated with the
       * selected element.
       * 
       * @attribute selectedModel
       * @type Object
       * @default null
       */
      selectedModel: null,

      /**
       * In single selection, this returns the selected index.
       *
       * @attribute selectedIndex
       * @type number
       * @default -1
       */
      selectedIndex: -1,

      /**
       * The target element that contains items.  If this is not set 
       * core-selector is the container.
       * 
       * @attribute target
       * @type Object
       * @default null
       */
      target: null,

      /**
       * This can be used to query nodes from the target node to be used for 
       * selection items.  Note this only works if the 'target' property is set.
       *
       * Example:
       *
       *     <core-selector target="{{$.myForm}}" itemsSelector="input[type=radio]"></core-selector>
       *     <form id="myForm">
       *       <label><input type="radio" name="color" value="red"> Red</label> <br>
       *       <label><input type="radio" name="color" value="green"> Green</label> <br>
       *       <label><input type="radio" name="color" value="blue"> Blue</label> <br>
       *       <p>color = {{color}}</p>
       *     </form>
       * 
       * @attribute itemSelector
       * @type string
       * @default ''
       */
      itemsSelector: '',

      /**
       * The event that would be fired from the item element to indicate
       * it is being selected.
       *
       * @attribute activateEvent
       * @type string
       * @default 'tap'
       */
      activateEvent: 'tap',

      /**
       * Set this to true to disallow changing the selection via the
       * `activateEvent`.
       *
       * @attribute notap
       * @type boolean
       * @default false
       */
      notap: false,

      ready: function() {
        this.activateListener = this.activateHandler.bind(this);
        this.observer = new MutationObserver(this.updateSelected.bind(this));
        if (!this.target) {
          this.target = this;
        }
      },

      get items() {
        if (!this.target) {
          return [];
        }
        var nodes = this.target !== this ? (this.itemsSelector ? 
            this.target.querySelectorAll(this.itemsSelector) : 
                this.target.children) : this.$.items.getDistributedNodes();
        return Array.prototype.filter.call(nodes || [], function(n) {
          return n && n.localName !== 'template';
        });
      },

      targetChanged: function(old) {
        if (old) {
          this.removeListener(old);
          this.observer.disconnect();
          this.clearSelection();
        }
        if (this.target) {
          this.addListener(this.target);
          this.observer.observe(this.target, {childList: true});
          this.updateSelected();
        }
      },

      addListener: function(node) {
        node.addEventListener(this.activateEvent, this.activateListener);
      },

      removeListener: function(node) {
        node.removeEventListener(this.activateEvent, this.activateListener);
      },

      get selection() {
        return this.$.selection.getSelection();
      },

      selectedChanged: function() {
        this.updateSelected();
      },

      updateSelected: function() {
        this.validateSelected();
        if (this.multi) {
          this.clearSelection();
          this.selected && this.selected.forEach(function(s) {
            this.valueToSelection(s);
          }, this);
        } else {
          this.valueToSelection(this.selected);
        }
      },

      validateSelected: function() {
        // convert to an array for multi-selection
        if (this.multi && !Array.isArray(this.selected) && 
            this.selected !== null && this.selected !== undefined) {
          this.selected = [this.selected];
        }
      },

      clearSelection: function() {
        if (this.multi) {
          this.selection.slice().forEach(function(s) {
            this.$.selection.setItemSelected(s, false);
          }, this);
        } else {
          this.$.selection.setItemSelected(this.selection, false);
        }
        this.selectedItem = null;
        this.$.selection.clear();
      },

      valueToSelection: function(value) {
        var item = (value === null || value === undefined) ? 
            null : this.items[this.valueToIndex(value)];
        this.$.selection.select(item);
      },

      updateSelectedItem: function() {
        this.selectedItem = this.selection;
      },

      selectedItemChanged: function() {
        if (this.selectedItem) {
          var t = this.selectedItem.templateInstance;
          this.selectedModel = t ? t.model : undefined;
        } else {
          this.selectedModel = null;
        }
        this.selectedIndex = this.selectedItem ? 
            parseInt(this.valueToIndex(this.selected)) : -1;
      },

      valueToIndex: function(value) {
        // find an item with value == value and return it's index
        for (var i=0, items=this.items, c; (c=items[i]); i++) {
          if (this.valueForNode(c) == value) {
            return i;
          }
        }
        // if no item found, the value itself is probably the index
        return value;
      },

      valueForNode: function(node) {
        return node[this.valueattr] || node.getAttribute(this.valueattr);
      },

      // events fired from <core-selection> object
      selectionSelect: function(e, detail) {
        this.updateSelectedItem();
        if (detail.item) {
          this.applySelection(detail.item, detail.isSelected);
        }
      },

      applySelection: function(item, isSelected) {
        if (this.selectedClass) {
          item.classList.toggle(this.selectedClass, isSelected);
        }
        if (this.selectedProperty) {
          item[this.selectedProperty] = isSelected;
        }
        if (this.selectedAttribute && item.setAttribute) {
          if (isSelected) {
            item.setAttribute(this.selectedAttribute, '');
          } else {
            item.removeAttribute(this.selectedAttribute);
          }
        }
      },

      // event fired from host
      activateHandler: function(e) {
        if (!this.notap) {
          var i = this.findDistributedTarget(e.target, this.items);
          if (i >= 0) {
            var item = this.items[i];
            var s = this.valueForNode(item) || i;
            if (this.multi) {
              if (this.selected) {
                this.addRemoveSelected(s);
              } else {
                this.selected = [s];
              }
            } else {
              this.selected = s;
            }
            this.asyncFire('core-activate', {item: item});
          }
        }
      },

      addRemoveSelected: function(value) {
        var i = this.selected.indexOf(value);
        if (i >= 0) {
          this.selected.splice(i, 1);
        } else {
          this.selected.push(value);
        }
        this.valueToSelection(value);
      },

      findDistributedTarget: function(target, nodes) {
        // find first ancestor of target (including itself) that
        // is in nodes, if any
        while (target && target != this) {
          var i = Array.prototype.indexOf.call(nodes, target);
          if (i >= 0) {
            return i;
          }
          target = target.parentNode;
        }
      }
    });
  </script>
</polymer-element>


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-menu` is a selector which styles to looks like a menu.

    <core-menu selected="0">
      <core-item icon="settings" label="Settings"></core-item>
      <core-item icon="dialog" label="Dialog"></core-item>
      <core-item icon="search" label="Search"></core-item>
    </core-menu>
    
When an item is selected the `core-selected` class is added to it.  The user can
use the class to add more stylings to the selected item.

    core-item.core-selected {
      color: red;
    }

The `selectedItem` property references the selected item.

    <core-menu selected="0" selectedItem="{{item}}">
      <core-item icon="settings" label="Settings"></core-item>
      <core-item icon="dialog" label="Dialog"></core-item>
      <core-item icon="search" label="Search"></core-item>
    </core-menu>

    <div>selected label: {{item.label}}</div>

The `core-select` event signals selection change.

    <core-menu selected="0" on-core-select="{{selectAction}}">
      <core-item icon="settings" label="Settings"></core-item>
      <core-item icon="dialog" label="Dialog"></core-item>
      <core-item icon="search" label="Search"></core-item>
    </core-menu>

    ...

    selectAction: function(e, detail) {
      if (detail.isSelected) {
        var selectedItem = detail.item;
        ...
      }
    }

@group Polymer Core Elements
@element core-menu
@extends core-selector
-->



<style shim-shadowdom="">/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

html /deep/ core-menu {
  display: block;
  margin: 12px;
}

polyfill-next-selector { content: 'core-menu > core-item'; }
html /deep/ core-menu::shadow ::content > core-item {
  cursor: default;
}
</style>

<polymer-element name="core-menu" extends="core-selector" assetpath="bower_components/core-menu/"><script>Polymer('core-menu');</script></polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->



<polymer-element name="core-transition" extends="core-meta" assetpath="bower_components/core-transition/">
  
  <script>
    Polymer('core-transition', {
      
      type: 'transition',

      go: function(node, state) {
        this.complete(node);
      },

      setup: function(node) {
      },

      teardown: function(node) {
      },

      complete: function(node) {
        this.fire('core-transitionend', null, node);
      },

      listenOnce: function(node, event, fn, args) {
        var self = this;
        var listener = function() {
          fn.apply(self, args);
          node.removeEventListener(event, listener, false);
        }
        node.addEventListener(event, listener, false);
      }

    });
  </script>
</polymer-element>
<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->



<polymer-element name="core-key-helper" assetpath="bower_components/core-overlay/">
  <script>
    Polymer('core-key-helper', {
      ENTER_KEY: 13,
      ESCAPE_KEY: 27
    });
  </script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<polymer-element name="core-overlay-layer" assetpath="bower_components/core-overlay/">
<template>
  <style>
    :host {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      display: none;
    }

    :host(.core-opened) {
      display: block;
    }
  </style>
  <content></content>
</template>
<script>
(function() {

  Polymer('core-overlay-layer', {
    publish: {
      opened: false
    },
    openedChanged: function() {
      this.classList.toggle('core-opened', this.opened);
    },
    /**
     * Adds an element to the overlay layer
     */
    addElement: function(element) {
      if (!this.parentNode) {
        document.querySelector('body').appendChild(this);
      }
      if (element.parentNode !== this) {
        element.__contents = [];
        var ip$ = element.querySelectorAll('content');
        for (var i=0, l=ip$.length, n; (i<l) && (n = ip$[i]); i++) {
          this.moveInsertedElements(n);
          this.cacheDomLocation(n);
          n.parentNode.removeChild(n);
          element.__contents.push(n);
        }
        this.cacheDomLocation(element);
        this.updateEventController(element);
        var h = this.makeHost();
        h.shadowRoot.appendChild(element);
        element.__host = h;
      }
    },
    makeHost: function() {
      var h = document.createElement('overlay-host');
      h.createShadowRoot();
      this.appendChild(h);
      return h;
    },
    moveInsertedElements: function(insertionPoint) {
      var n$ = insertionPoint.getDistributedNodes();
      var parent = insertionPoint.parentNode;
      insertionPoint.__contents = [];
      for (var i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {
        this.cacheDomLocation(n);
        this.updateEventController(n);
        insertionPoint.__contents.push(n);
        parent.appendChild(n);  
      }
    },
    updateEventController: function(element) {
      element.eventController = this.element.findController(element);
    },
    /**
     * Removes an element from the overlay layer
     */
    removeElement: function(element) {
      element.eventController = null;
      this.replaceElement(element);
      var h = element.__host;
      if (h) {
        h.parentNode.removeChild(h);
      }
    },
    replaceElement: function(element) {
      if (element.__contents) {
        for (var i=0, c$=element.__contents, c; (c=c$[i]); i++) {
          this.replaceElement(c);
        }
        element.__contents = null;
      }
      if (element.__parentNode) {
        var n = element.__nextElementSibling && element.__nextElementSibling 
            === element.__parentNode ? element.__nextElementSibling : null;
        element.__parentNode.insertBefore(element, n);
      }
    },
    cacheDomLocation: function(element) {
      element.__nextElementSibling = element.nextElementSibling;
      element.__parentNode = element.parentNode;
    }
  });
  
})();
</script>
</polymer-element>


<!--
The `core-overlay` element displays overlayed on top of other content. It starts
out hidden and is displayed by setting its `opened` property to true.
A `core-overlay's` opened state can be toggled by calling the `toggle`
method.

The `core-overlay` will, by default, show/hide itself when it's opened. The 
`target` property may be set to another element to cause that element to 
be shown when the overlay is opened.

It's common to want a `core-overlay` to animate to its opened
position. The `core-overlay` element uses a `core-transition` to handle
animation. The default transition is `core-transition-fade` which 
causes the overlay to fade in when displayed. See 
<a href="../core-transition/">`core-transition`</a> for more
information about customizing a `core-overlay's` opening animation. The
`backdrop` property can be set to true to show a backdrop behind the overlay
that will darken the rest of the window.

An element that should close the `core-overlay` will automatically
do so if it's given the `core-overlay-toggle` attribute. This attribute
can be customized with the `closeAttribute` property. You can also use
`closeSelector` if more general matching is needed.

By default  `core-overlay` will close whenever the user taps outside it or
presses the escape key. This behavior can be turned off via the
`autoCloseDisabled` property.

    <core-overlay>
      <h2>Dialog</h2>
      <input placeholder="say something..." autofocus>
      <div>I agree with this wholeheartedly.</div>
      <button core-overlay-toggle>OK</button>
    </core-overlay>

`core-overlay` will automatically size and position itself according to the 
following rules. If the target's style.top and style.left are unset, the 
target will be centered. The size of the target is constrained to be no larger
than the window dimensions. The `margin` property specifies the extra amount
of space that should be reserved around the overlay. This can be used to ensure
that, for example, a drop shadow is always visible around the overlay.

@group Core Elements
@element core-overlay
@homepage github.io
-->
<!--
Fired when the `core-overlay`'s `opened` property changes.

@event core-overlay-open
@param {Object} detail
@param {Object} detail.opened the opened state
-->

<style>
  .core-overlay-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    opacity: 0;
    transition: opacity 0.2s;
  }

  .core-overlay-backdrop.core-opened {
    opacity: 0.6;
  }
</style>

<polymer-element name="core-overlay" assetpath="bower_components/core-overlay/">
<script>
(function() {

  Polymer('core-overlay', {

    publish: {
      /**
       * The target element that will be shown when the overlay is 
       * opened. If unspecified, the core-overlay itself is the target.
       *
       * @attribute target
       * @type Object
       * @default the overlay element
       */
      target: null,


      /**
       * A `core-overlay`'s size is guaranteed to be 
       * constrained to the window size. To achieve this, the sizingElement
       * is sized with a max-height/width. By default this element is the 
       * target element, but it can be specifically set to a specific element
       * inside the target if that is more appropriate. This is useful, for 
       * example, when a region inside the overlay should scroll if needed.
       *
       * @attribute sizingTarget
       * @type Object
       * @default the target element
       */
      sizingTarget: null,
    
      /**
       * Set opened to true to show an overlay and to false to hide it.
       * A `core-overlay` may be made initially opened by setting its
       * `opened` attribute.
       * @attribute opened
       * @type boolean
       * @default false
       */
      opened: false,

      /**
       * If true, the overlay has a backdrop darkening the rest of the screen.
       * The backdrop element is attached to the document body and may be styled
       * with the class `core-overlay-backdrop`. When opened the `core-opened`
       * class is applied.
       *
       * @attribute backdrop
       * @type boolean
       * @default false
       */    
      backdrop: false,

      /**
       * If true, the overlay is guaranteed to display above page content.
       *
       * @attribute layered
       * @type boolean
       * @default false
      */
      layered: false,
    
      /**
       * By default an overlay will close automatically if the user
       * taps outside it or presses the escape key. Disable this
       * behavior by setting the `autoCloseDisabled` property to true.
       * @attribute autoCloseDisabled
       * @type boolean
       * @default false
       */
      autoCloseDisabled: false,

      /**
       * This property specifies an attribute on elements that should
       * close the overlay on tap. Should not set `closeSelector` if this
       * is set.
       *
       * @attribute closeAttribute
       * @type string
       * @default "core-overlay-toggle"
       */
      closeAttribute: 'core-overlay-toggle',

      /**
       * This property specifies a selector matching elements that should
       * close the overlay on tap. Should not set `closeAttribute` if this
       * is set.
       *
       * @attribute closeSelector
       * @type string
       * @default ""
       */
      closeSelector: '',

      /**
       * A `core-overlay` target's size is constrained to the window size.
       * The `margin` property specifies a pixel amount around the overlay 
       * that will be reserved. It's useful for ensuring that, for example, 
       * a shadow displayed outside the target will always be visible.
       *
       * @attribute margin
       * @type number
       * @default 0
       */
      margin: 0,

      /**
       * The transition property specifies a string which identifies a 
       * <a href="../core-transition/">`core-transition`</a> element that 
       * will be used to help the overlay open and close. The default
       * `core-transition-fade` will cause the overlay to fade in and out.
       *
       * @attribute transition
       * @type string
       * @default 'core-transition-fade'
       */
      transition: 'core-transition-fade'

    },

    captureEventName: 'tap',
    targetListeners: {
      'tap': 'tapHandler',
      'keydown': 'keydownHandler',
      'core-transitionend': 'transitionend'
    },
    
    registerCallback: function(element) {
      this.layer = document.createElement('core-overlay-layer');
      this.keyHelper = document.createElement('core-key-helper');
      this.meta = document.createElement('core-transition');
      this.scrim = document.createElement('div');
      this.scrim.className = 'core-overlay-backdrop';
    },

    ready: function() {
      this.target = this.target || this;
      // flush to ensure styles are installed before paint
      Platform.flush();
    },

    /** 
     * Toggle the opened state of the overlay.
     * @method toggle
     */
    toggle: function() {
      this.opened = !this.opened;
    },

    /** 
     * Open the overlay. This is equivalent to setting the `opened`
     * property to true.
     * @method open
     */
    open: function() {
      this.opened = true;
    },

    /** 
     * Close the overlay. This is equivalent to setting the `opened` 
     * property to false.
     * @method close
     */
    close: function() {
      this.opened = false;
    },

    domReady: function() {
      this.ensureTargetSetup();
    },

    targetChanged: function(old) {
      if (this.target) {
        // really make sure tabIndex is set
        if (this.target.tabIndex < 0) {
          this.target.tabIndex = -1;
        }
        this.addElementListenerList(this.target, this.targetListeners);
        this.target.style.display = 'none';
      }
      if (old) {
        this.removeElementListenerList(old, this.targetListeners);
        var transition = this.getTransition();
        if (transition) {
          transition.teardown(old);
        } else {
          old.style.position = null;
          old.style.outline = null;
        }
        old.style.display = null;
      }
    },

    // NOTE: wait to call this until we're as sure as possible that target
    // is styled.
    ensureTargetSetup: function() {
      if (!this.target || this.target.__overlaySetup) {
        return;
      }
      this.target.__overlaySetup = true;
      this.target.style.display = null;
      var transition = this.getTransition();
      if (transition) {
        transition.setup(this.target);
      }
      var computed = getComputedStyle(this.target);
      this.targetStyle = {
        position: computed.position === 'static' ? 'fixed' :
            computed.position
      }
      if (!transition) {
        this.target.style.position = this.targetStyle.position;
        this.target.style.outline = 'none';
      }
      this.target.style.display = 'none';
    },

    openedChanged: function() {
      this.ensureTargetSetup();
      this.prepareRenderOpened();
      // continue styling after delay so display state can change
      // without aborting transitions
      // note: we wait a full frame so that transition changes executed
      // during measuring do not cause transition
      this.async(function() {
        this.target.style.display = null;
        this.async('renderOpened');
      });
      this.fire('core-overlay-open', this.opened);
    },

    // tasks which must occur before opening; e.g. making the element visible
    prepareRenderOpened: function() {
      if (this.opened) {
        addOverlay(this);
      }
      this.prepareBackdrop();
      // async so we don't auto-close immediately via a click.
      this.async(function() {
        if (!this.autoCloseDisabled) {
          this.enableElementListener(this.opened, document,
              this.captureEventName, 'captureHandler', true);
        }
      });
      this.enableElementListener(this.opened, window, 'resize',
          'resizeHandler');

      if (this.opened) {
        // TODO(sorvell): force SD Polyfill to render
        forcePolyfillRender(this.target);
        if (!this._shouldPosition) {
          this.target.style.position = 'absolute';
          var computed = getComputedStyle(this.target);
          var t = (computed.top === 'auto' && computed.bottom === 'auto');
          var l = (computed.left === 'auto' && computed.right === 'auto');
          this.target.style.position = this.targetStyle.position;
          this._shouldPosition = {top: t, left: l};
        }
        // if we are showing, then take care when measuring
        this.prepareMeasure(this.target);
        this.updateTargetDimensions();
        this.finishMeasure(this.target);
        if (this.layered) {
          this.layer.addElement(this.target);
          this.layer.opened = this.opened;
        }
      }
    },

    // tasks which cause the overlay to actually open; typically play an
    // animation
    renderOpened: function() {
      var transition = this.getTransition();
      if (transition) {
        transition.go(this.target, {opened: this.opened});
      } else {
        this.transitionend();
      }
      this.renderBackdropOpened();
    },

    // finishing tasks; typically called via a transition
    transitionend: function(e) {
      // make sure this is our transition event.
      if (e && e.target !== this.target) {
        return;
      }
      if (!this.opened) {
        this.resetTargetDimensions();
        this.target.style.display = 'none';
        this.completeBackdrop();
        removeOverlay(this);
        if (this.layered) {
          if (!currentOverlay()) {
            this.layer.opened = this.opened;
          }
          this.layer.removeElement(this.target);
        }
      }
      this.applyFocus();
    },

    prepareBackdrop: function() {
      if (this.backdrop && this.opened) {
        if (!this.scrim.parentNode) {
          document.body.appendChild(this.scrim);
          this.scrim.style.zIndex = currentOverlayZ() - 1;
        }
        trackBackdrop(this);
      }
    },

    renderBackdropOpened: function() {
      if (this.backdrop && getBackdrops().length < 2) {
        this.scrim.classList.toggle('core-opened', this.opened);
      }
    },

    completeBackdrop: function() {
      if (this.backdrop) {
        trackBackdrop(this);
        if (getBackdrops().length === 0) {
          this.scrim.parentNode.removeChild(this.scrim);
        }
      }
    },

    prepareMeasure: function(target) {
      target.style.transition = target.style.webkitTransition = 'none';
      target.style.transform = target.style.webkitTransform = 'none';
      target.style.display = null;
    },

    finishMeasure: function(target) {
      target.style.display = 'none';
      target.style.transform = target.style.webkitTransform = null;
      target.style.transition = target.style.webkitTransition = null;
    },

    getTransition: function() {
      return this.meta.byId(this.transition);
    },

    getFocusNode: function() {
      return this.target.querySelector('[autofocus]') || this.target;
    },

    applyFocus: function() {
      var focusNode = this.getFocusNode();
      if (this.opened) {
        focusNode.focus();
      } else {
        focusNode.blur();
        focusOverlay();
      }
    },

    updateTargetDimensions: function() {
      this.positionTarget();
      this.sizeTarget();
      //
      if (this.layered) {
        var rect = this.target.getBoundingClientRect();
        this.target.style.top = rect.top + 'px';
        this.target.style.left = rect.left + 'px';
        this.target.style.right = this.target.style.bottom = 'auto';
      }
    },

    sizeTarget: function() {
      var sizer = this.sizingTarget || this.target;
      var rect = sizer.getBoundingClientRect();
      var mt = rect.top === this.margin ? this.margin : this.margin * 2;
      var ml = rect.left === this.margin ? this.margin : this.margin * 2;
      var h = window.innerHeight - rect.top - mt;
      var w = window.innerWidth - rect.left - ml;
      sizer.style.maxHeight = h + 'px';
      sizer.style.maxWidth = w + 'px';
      sizer.style.boxSizing = 'border-box';
    },

    positionTarget: function() {
      // vertically and horizontally center if not positioned
      if (this._shouldPosition.top) {
        var t = Math.max((window.innerHeight - 
            this.target.offsetHeight - this.margin*2) / 2, this.margin);
        this.target.style.top = t + 'px';
      }
      if (this._shouldPosition.left) {
        var l = Math.max((window.innerWidth - 
            this.target.offsetWidth - this.margin*2) / 2, this.margin);
        this.target.style.left = l + 'px';
      }
    },

    resetTargetDimensions: function() {
      this.target.style.top = this.target.style.left = null;
      this.target.style.right = this.target.style.bottom = null;
      this.target.style.width = this.target.style.height = null;
      this._shouldPosition = null;
    },

    tapHandler: function(e) {
      // closeSelector takes precedence since closeAttribute has a default non-null value.
      if (e.target &&
          (this.closeSelector && e.target.matches(this.closeSelector)) ||
          (this.closeAttribute && e.target.hasAttribute(this.closeAttribute))) {
        this.toggle();
      } else {
        if (this.autoCloseJob) {
          this.autoCloseJob.stop();
          this.autoCloseJob = null;
        }
      }
    },
    
    // We use the traditional approach of capturing events on document
    // to to determine if the overlay needs to close. However, due to 
    // ShadowDOM event retargeting, the event target is not useful. Instead
    // of using it, we attempt to close asynchronously and prevent the close
    // if a tap event is immediately heard on the target.
    // TODO(sorvell): This approach will not work with modal. For
    // this we need a scrim.
    captureHandler: function(e) {
      if (!this.autoCloseDisabled && (currentOverlay() == this)) {
        this.autoCloseJob = this.job(this.autoCloseJob, function() {
          this.close();
        });
      }
    },

    keydownHandler: function(e) {
      if (!this.autoCloseDisabled && (e.keyCode == this.keyHelper.ESCAPE_KEY)) {
        this.close();
        e.stopPropagation();
      }
    },

    /**
     * Extensions of core-overlay should implement the `resizeHandler`
     * method to adjust the size and position of the overlay when the 
     * browser window resizes.
     * @method resizeHandler
     */
    resizeHandler: function() {
      this.updateTargetDimensions();
    },

    // TODO(sorvell): these utility methods should not be here.
    addElementListenerList: function(node, events) {
      for (var i in events) {
        this.addElementListener(node, i, events[i]);
      }
    },

    removeElementListenerList: function(node, events) {
      for (var i in events) {
        this.removeElementListener(node, i, events[i]);
      }
    },

    enableElementListener: function(enable, node, event, methodName, capture) {
      if (enable) {
        this.addElementListener(node, event, methodName, capture);
      } else {
        this.removeElementListener(node, event, methodName, capture);
      }
    },

    addElementListener: function(node, event, methodName, capture) {
      var fn = this._makeBoundListener(methodName);
      if (node && fn) {
        node.addEventListener(event, fn, capture);
      }
    },

    removeElementListener: function(node, event, methodName, capture) {
      var fn = this._makeBoundListener(methodName);
      if (node && fn) {
        node.removeEventListener(event, fn, capture);
      }
    },

    _makeBoundListener: function(methodName) {
      var self = this, method = this[methodName];
      if (!method) {
        return;
      }
      var bound = '_bound' + methodName;
      if (!this[bound]) {
        this[bound] = function(e) {
          method.call(self, e);
        }
      }
      return this[bound];
    },
  });

  function forcePolyfillRender(target) {
    if (window.ShadowDOMPolyfill) {
      target.offsetHeight;
    }
  }

  // TODO(sorvell): This should be an element with private state so it can
  // be independent of overlay.
  // track overlays for z-index and focus managemant
  var overlays = [];
  function addOverlay(overlay) {
    var z0 = currentOverlayZ();
    overlays.push(overlay);
    var z1 = currentOverlayZ();
    if (z1 <= z0) {
      applyOverlayZ(overlay, z0);
    }
  }

  function removeOverlay(overlay) {
    var i = overlays.indexOf(overlay);
    if (i >= 0) {
      overlays.splice(i, 1);
      setZ(overlay, null);
    }
  }
  
  function applyOverlayZ(overlay, aboveZ) {
    setZ(overlay.target, aboveZ + 2);
  }
  
  function setZ(element, z) {
    element.style.zIndex = z;
  }

  function currentOverlay() {
    return overlays[overlays.length-1];
  }
  
  var DEFAULT_Z = 10;
  
  function currentOverlayZ() {
    var z;
    var current = currentOverlay();
    if (current) {
      var z1 = window.getComputedStyle(current.target).zIndex;
      if (!isNaN(z1)) {
        z = Number(z1);
      }
    }
    return z || DEFAULT_Z;
  }
  
  function focusOverlay() {
    var current = currentOverlay();
    if (current) {
      current.applyFocus();
    }
  }

  var backdrops = [];
  function trackBackdrop(element) {
    if (element.opened) {
      backdrops.push(element);
    } else {
      var i = backdrops.indexOf(element);
      if (i >= 0) {
        backdrops.splice(i, 1);
      }
    }
  }

  function getBackdrops() {
    return backdrops;
  }
})();
</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
@group Paper Elements

`paper-button` is a button containing text or an image. When the user touches
the button, a ripple effect emanates from the point of contact.

A `paper-button` may be flat or raised. A raised button behaves like a piece
of paper resting on another sheet, and lifts up upon press. Flat buttons do
not raise up. Add the `raisedButton` attribute to make a raised button.

Example:

    <paper-button label="flat button"></paper-button>
    <paper-button label="raised button" raisedButton></paper-button>

A button should be styled with a background color, text color, ripple color
and hover color.

To style the background, text and hover color, apply the `background` and
`color` CSS properties to the button. To style the ripple color, apply the
`color` CSS property to the `#ripple` element in the button's shadow root:

    /* Style #my-button blue with white text and darker blue ink. */
    #my-button {
        background: #4285f4;
        color: #fff;
    }

    #my-button:hover {
        background: #2a56c6;
    }

    #my-button::shadow #ripple {
        color: #2a56c6;
    }

@element paper-button
@extends paper-focusable
-->



<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
/**
 * @group Paper Elements
 *
 * paper-focusable is a base class for paper elements that can be focused.
 *
 * @element paper-focusable
 * @status beta
 * @homepage github.io
 */
-->



<polymer-element name="paper-focusable" attributes="active focused disabled isToggle" tabindex="0" on-down="{{downAction}}" on-up="{{upAction}}" on-focus="{{focusAction}}" on-blur="{{blurAction}}" on-contextmenu="{{contextMenuAction}}" assetpath="bower_components/paper-focusable/">

  <template>
    <style>
      :host([disabled]) {
        pointer-events: none;
      }
    </style>
    <content></content>
  </template>

  <script>
    Polymer('paper-focusable', {

      publish: {

        /**
         * If true, the button is currently active either because the
         * user is holding down the button, or the button is a toggle
         * and is currently in the active state.
         *
         * @attribute active
         * @type boolean
         * @default false
         */
        active: {value: false, reflect: true},

        /**
         * If true, the element currently has focus due to keyboard
         * navigation.
         *
         * @attribute focused
         * @type boolean
         * @default false
         */
        focused: {value: false, reflect: true},

        /**
         * If true, the user is currently holding down the button.
         *
         * @attribute pressed
         * @type boolean
         * @default false
         */
        pressed: {value: false, reflect: true},

        /**
         * If true, the user cannot interact with this element.
         *
         * @attribute disabled
         * @type boolean
         * @default false
         */
        disabled: {value: false, reflect: true},

        /**
         * If true, the button toggles the active state with each tap.
         * Otherwise, the button becomes active when the user is holding
         * it down.
         *
         * @attribute isToggle
         * @type boolean
         * @default false
         */
        isToggle: {value: false, reflect: false}

      },

      disabledChanged: function() {
        if (this.disabled) {
          this.removeAttribute('tabindex');
        } else {
          this.setAttribute('tabindex', 0);
        }
      },

      downAction: function() {
        this.pressed = true;
        this.focused = false;

        if (this.isToggle) {
          this.active = !this.active;
        } else {
          this.active = true;
        }
      },

      // Pulling up the context menu for an item should focus it; but we need to
      // be careful about how we deal with down/up events surrounding context
      // menus. The up event typically does not fire until the context menu
      // closes: so we focus immediately.
      //
      // This fires _after_ downAction.
      contextMenuAction: function(e) {
        // Note that upAction may fire _again_ on the actual up event.
        this.upAction(e);
        this.focusAction();
      },

      upAction: function() {
        this.pressed = false;

        if (!this.isToggle) {
          this.active = false;
        }
      },

      focusAction: function() {
        if (!this.pressed) {
          // Only render the "focused" state if the element gains focus due to
          // keyboard navigation.
          this.focused = true;
        }
      },

      blurAction: function() {
        this.focused = false;
      }

    });

  </script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-ripple` provides a visual effect that other paper elements can
use to simulate a rippling effect emanating from the point of contact.  The
effect can be visualized as a concentric circle with motion.

Example:

    <paper-ripple></paper-ripple>

`paper-ripple` listens to "down" and "up" events so it would display ripple
effect when touches on it.  You can also defeat the default behavior and 
manually route the down and up actions to the ripple element.  Note that it is
important if you call downAction() you will have to make sure to call upAction()
so that `paper-ripple` would end the animation loop.

Example:

    <paper-ripple id="ripple" style="pointer-events: none;"></paper-ripple>
    ...
    downAction: function(e) {
      this.$.ripple.downAction({x: e.x, y: e.y});
    },
    upAction: function(e) {
      this.$.ripple.upAction();
    }

Styling ripple effect:

  Use CSS color property to style the ripple:

    paper-ripple {
      color: #4285f4;
    }

  Note that CSS color property is inherited so it is not required to set it on
  the `paper-ripple` element directly.

Apply `recenteringTouch` class to make the recentering rippling effect.

    <paper-ripple class="recenteringTouch"></paper-ripple>

Apply `circle` class to make the rippling effect within a circle.

    <paper-ripple class="circle"></paper-ripple>

@group Paper Elements
@element paper-ripple
@homepage github.io
-->



<polymer-element name="paper-ripple" attributes="initialOpacity opacityDecayVelocity" assetpath="bower_components/paper-ripple/">
<template>

  <style>

    :host {
      display: block;
      position: relative;
    }

    #canvas {
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    :host(.circle) #canvas {
      border-radius: 50%;
    }

  </style>

</template>
<script>

  (function() {

    var waveMaxRadius = 150;
    //
    // INK EQUATIONS
    //
    function waveRadiusFn(touchDownMs, touchUpMs, anim) {
      // Convert from ms to s.
      var touchDown = touchDownMs / 1000;
      var touchUp = touchUpMs / 1000;
      var totalElapsed = touchDown + touchUp;
      var ww = anim.width, hh = anim.height;
      // use diagonal size of container to avoid floating point math sadness
      var waveRadius = Math.min(Math.sqrt(ww * ww + hh * hh), waveMaxRadius) * 1.1 + 5;
      var duration = 1.1 - .2 * (waveRadius / waveMaxRadius);
      var tt = (totalElapsed / duration);

      var size = waveRadius * (1 - Math.pow(80, -tt));
      return Math.abs(size);
    }

    function waveOpacityFn(td, tu, anim) {
      // Convert from ms to s.
      var touchDown = td / 1000;
      var touchUp = tu / 1000;
      var totalElapsed = touchDown + touchUp;

      if (tu <= 0) {  // before touch up
        return anim.initialOpacity;
      }
      return Math.max(0, anim.initialOpacity - touchUp * anim.opacityDecayVelocity);
    }

    function waveOuterOpacityFn(td, tu, anim) {
      // Convert from ms to s.
      var touchDown = td / 1000;
      var touchUp = tu / 1000;

      // Linear increase in background opacity, capped at the opacity
      // of the wavefront (waveOpacity).
      var outerOpacity = touchDown * 0.3;
      var waveOpacity = waveOpacityFn(td, tu, anim);
      return Math.max(0, Math.min(outerOpacity, waveOpacity));
    }

    function waveGravityToCenterPercentageFn(td, tu, r) {
      // Convert from ms to s.
      var touchDown = td / 1000;
      var touchUp = tu / 1000;
      var totalElapsed = touchDown + touchUp;

      return Math.min(1.0, touchUp * 6);
    }

    // Determines whether the wave should be completely removed.
    function waveDidFinish(wave, radius, anim) {
      var waveOpacity = waveOpacityFn(wave.tDown, wave.tUp, anim);
      // If the wave opacity is 0 and the radius exceeds the bounds
      // of the element, then this is finished.
      if (waveOpacity < 0.01 && radius >= Math.min(wave.maxRadius, waveMaxRadius)) {
        return true;
      }
      return false;
    };

    function waveAtMaximum(wave, radius, anim) {
      var waveOpacity = waveOpacityFn(wave.tDown, wave.tUp, anim);
      if (waveOpacity >= anim.initialOpacity && radius >= Math.min(wave.maxRadius, waveMaxRadius)) {
        return true;
      }
      return false;
    }

    //
    // DRAWING
    //
    function drawRipple(ctx, x, y, radius, innerColor, outerColor) {
      if (outerColor) {
        ctx.fillStyle = outerColor;
        ctx.fillRect(0,0,ctx.canvas.width, ctx.canvas.height);
      }
      ctx.beginPath();
      ctx.arc(x, y, radius, 0, 2 * Math.PI, false);
      ctx.fillStyle = innerColor;
      ctx.fill();
    }

    //
    // SETUP
    //
    function createWave(elem) {
      var elementStyle = window.getComputedStyle(elem);
      var fgColor = elementStyle.color;

      var wave = {
        waveColor: fgColor,
        maxRadius: 0,
        isMouseDown: false,
        mouseDownStart: 0.0,
        mouseUpStart: 0.0,
        tDown: 0,
        tUp: 0
      };
      return wave;
    }

    function removeWaveFromScope(scope, wave) {
      if (scope.waves) {
        var pos = scope.waves.indexOf(wave);
        scope.waves.splice(pos, 1);
      }
    };

    // Shortcuts.
    var pow = Math.pow;
    var now = Date.now;
    if (window.performance && performance.now) {
      now = performance.now.bind(performance);
    }

    function cssColorWithAlpha(cssColor, alpha) {
        var parts = cssColor.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
        if (typeof alpha == 'undefined') {
            alpha = 1;
        }
        if (!parts) {
          return 'rgba(255, 255, 255, ' + alpha + ')';
        }
        return 'rgba(' + parts[1] + ', ' + parts[2] + ', ' + parts[3] + ', ' + alpha + ')';
    }

    function dist(p1, p2) {
      return Math.sqrt(pow(p1.x - p2.x, 2) + pow(p1.y - p2.y, 2));
    }

    function distanceFromPointToFurthestCorner(point, size) {
      var tl_d = dist(point, {x: 0, y: 0});
      var tr_d = dist(point, {x: size.w, y: 0});
      var bl_d = dist(point, {x: 0, y: size.h});
      var br_d = dist(point, {x: size.w, y: size.h});
      return Math.max(tl_d, tr_d, bl_d, br_d);
    }

    Polymer('paper-ripple', {

      /**
       * The initial opacity set on the wave.
       *
       * @attribute initialOpacity
       * @type number
       * @default 0.25
       */
      initialOpacity: 0.25,

      /**
       * How fast (opacity per second) the wave fades out.
       *
       * @attribute opacityDecayVelocity
       * @type number
       * @default 0.8
       */
      opacityDecayVelocity: 0.8,

      backgroundFill: true,
      pixelDensity: 2,

      eventDelegates: {
        down: 'downAction',
        up: 'upAction'
      },

      attached: function() {
        // create the canvas element manually becase ios
        // does not render the canvas element if it is not created in the
        // main document (component templates are created in a
        // different document). See:
        // https://bugs.webkit.org/show_bug.cgi?id=109073.
        if (!this.$.canvas) {
          var canvas = document.createElement('canvas');
          canvas.id = 'canvas';
          this.shadowRoot.appendChild(canvas);
          this.$.canvas = canvas;
        }
      },

      ready: function() {
        this.waves = [];
      },

      setupCanvas: function() {
        this.$.canvas.setAttribute('width', this.$.canvas.clientWidth * this.pixelDensity + "px");
        this.$.canvas.setAttribute('height', this.$.canvas.clientHeight * this.pixelDensity + "px");
        var ctx = this.$.canvas.getContext('2d');
        ctx.scale(this.pixelDensity, this.pixelDensity);
        if (!this._loop) {
          this._loop = this.animate.bind(this, ctx);
        }
      },

      downAction: function(e) {
        this.setupCanvas();
        var wave = createWave(this.$.canvas);

        this.cancelled = false;
        wave.isMouseDown = true;
        wave.tDown = 0.0;
        wave.tUp = 0.0;
        wave.mouseUpStart = 0.0;
        wave.mouseDownStart = now();

        var width = this.$.canvas.width / 2; // Retina canvas
        var height = this.$.canvas.height / 2;
        var rect = this.getBoundingClientRect();
        var touchX = e.x - rect.left;
        var touchY = e.y - rect.top;

        wave.startPosition = {x:touchX, y:touchY};

        if (this.classList.contains("recenteringTouch")) {
          wave.endPosition = {x: width / 2,  y: height / 2};
          wave.slideDistance = dist(wave.startPosition, wave.endPosition);
        }
        wave.containerSize = Math.max(width, height);
        wave.maxRadius = distanceFromPointToFurthestCorner(wave.startPosition, {w: width, h: height});
        this.waves.push(wave);
        requestAnimationFrame(this._loop);
      },

      upAction: function() {
        for (var i = 0; i < this.waves.length; i++) {
          // Declare the next wave that has mouse down to be mouse'ed up.
          var wave = this.waves[i];
          if (wave.isMouseDown) {
            wave.isMouseDown = false
            wave.mouseUpStart = now();
            wave.mouseDownStart = 0;
            wave.tUp = 0.0;
            break;
          }
        }
        this._loop && requestAnimationFrame(this._loop);
      },

      cancel: function() {
        this.cancelled = true;
      },

      animate: function(ctx) {
        var shouldRenderNextFrame = false;

        // Clear the canvas
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

        var deleteTheseWaves = [];
        // The oldest wave's touch down duration
        var longestTouchDownDuration = 0;
        var longestTouchUpDuration = 0;
        // Save the last known wave color
        var lastWaveColor = null;
        // wave animation values
        var anim = {
          initialOpacity: this.initialOpacity,
          opacityDecayVelocity: this.opacityDecayVelocity,
          height: ctx.canvas.height,
          width: ctx.canvas.width
        }

        for (var i = 0; i < this.waves.length; i++) {
          var wave = this.waves[i];

          if (wave.mouseDownStart > 0) {
            wave.tDown = now() - wave.mouseDownStart;
          }
          if (wave.mouseUpStart > 0) {
            wave.tUp = now() - wave.mouseUpStart;
          }

          // Determine how long the touch has been up or down.
          var tUp = wave.tUp;
          var tDown = wave.tDown;
          longestTouchDownDuration = Math.max(longestTouchDownDuration, tDown);
          longestTouchUpDuration = Math.max(longestTouchUpDuration, tUp);

          // Obtain the instantenous size and alpha of the ripple.
          var radius = waveRadiusFn(tDown, tUp, anim);
          var waveAlpha =  waveOpacityFn(tDown, tUp, anim);
          var waveColor = cssColorWithAlpha(wave.waveColor, waveAlpha);
          lastWaveColor = wave.waveColor;

          // Position of the ripple.
          var x = wave.startPosition.x;
          var y = wave.startPosition.y;

          // Ripple gravitational pull to the center of the canvas.
          if (wave.endPosition) {

            var translateFraction = waveGravityToCenterPercentageFn(tDown, tUp, wave.maxRadius);

            // This translates from the origin to the center of the view  based on the max dimension of  
            var translateFraction = Math.min(1, radius / wave.containerSize * 2 / Math.sqrt(2) );

            x += translateFraction * (wave.endPosition.x - wave.startPosition.x);
            y += translateFraction * (wave.endPosition.y - wave.startPosition.y);
          }

          // If we do a background fill fade too, work out the correct color.
          var bgFillColor = null;
          if (this.backgroundFill) {
            var bgFillAlpha = waveOuterOpacityFn(tDown, tUp, anim);
            bgFillColor = cssColorWithAlpha(wave.waveColor, bgFillAlpha);
          }

          // Draw the ripple.
          drawRipple(ctx, x, y, radius, waveColor, bgFillColor);

          // Determine whether there is any more rendering to be done.
          var maximumWave = waveAtMaximum(wave, radius, anim);
          var waveDissipated = waveDidFinish(wave, radius, anim);
          var shouldKeepWave = !waveDissipated || maximumWave;
          var shouldRenderWaveAgain = !waveDissipated && !maximumWave;
          shouldRenderNextFrame = shouldRenderNextFrame || shouldRenderWaveAgain;
          if (!shouldKeepWave || this.cancelled) {
            deleteTheseWaves.push(wave);
          }
       }

        if (shouldRenderNextFrame) {
          requestAnimationFrame(this._loop);
        }

        for (var i = 0; i < deleteTheseWaves.length; ++i) {
          var wave = deleteTheseWaves[i];
          removeWaveFromScope(this, wave);
        }

        if (!this.waves.length) {
          // If there is nothing to draw, clear any drawn waves now because
          // we're not going to get another requestAnimationFrame any more.
          ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
          this._loop = null;
        }
      }

    });

  })();

</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
The `paper-shadow` element is a helper to add shadows to elements.
Paper shadows are composed of two shadows on top of each other. We
mimic this effect by using two elements on top of each other, each with a
different drop shadow. You can apply the shadow to an element by assigning
it as the target. If you do not specify a target, the shadow is applied to
the `paper-shadow` element's parent element or shadow host element if its
parent is a shadow root. Alternatively, you can use the CSS classes included
by this element directly.

Example:

    <div id="myCard" class="card"></div>
    <paper-shadow id="myShadow" z="1"></div>

    // Assign a target explicitly
    myShadow.target = document.getElementById('myCard');

    // Auto-assign the target.
    <div class="card">
      <paper-shadow z="1"></paper-shadow>
    </div>

    // Use the classes directly
    <div class="card paper-shadow-top paper-shadow-top-z-1">
      <div class="card-inner paper-shadow-bottom paper-shadow-bottom-z-1"></div>
    </div>

If you assign a target to a `paper-shadow` element, it creates two nodes and inserts
them as the first children of the target, or the first children of the target's shadow
root if there is one. This implies:

  1. If the primary node that drops the shadow has styling that affects its shape,
     the same styling must be applied to elements with class `paper-shadow`.
     `border-radius` is a very common property and is inherited automatically.

  2. The target's overflow property will be set to `overflow: visible` because the
     shadow is rendered beyond the bounds of its container. Position the shadow as a
     separate layer and use a different child element for clipping if needed.

@group Paper Elements
@class paper-shadow
-->



<polymer-element name="paper-shadow" assetpath="bower_components/paper-shadow/">

  <template>

    <style no-shim="">.paper-shadow {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  border-radius: inherit;
  pointer-events: none;
}

.paper-shadow-animated.paper-shadow {
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.paper-shadow-top-z-1 {
  box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16);
}

.paper-shadow-bottom-z-1 {
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
}

.paper-shadow-top-z-2 {
  box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}

.paper-shadow-bottom-z-2 {
  box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);
}

.paper-shadow-top-z-3 {
  box-shadow: 0 17px 50px 0 rgba(0, 0, 0, 0.19);
}

.paper-shadow-bottom-z-3 {
  box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24);
}

.paper-shadow-top-z-4 {
  box-shadow: 0 25px 55px 0 rgba(0, 0, 0, 0.21);
}

.paper-shadow-bottom-z-4 {
  box-shadow: 0 16px 28px 0 rgba(0, 0, 0, 0.22);
}

.paper-shadow-top-z-5 {
  box-shadow: 0 40px 77px 0 rgba(0, 0, 0, 0.22);
}

.paper-shadow-bottom-z-5 {
  box-shadow: 0 27px 24px 0 rgba(0, 0, 0, 0.2);
}

.paper-shadow-animate-z-1-z-2.paper-shadow-top {
  -webkit-transition: none;
  -webkit-animation: animate-shadow-top-z-1-z-2 0.7s infinite alternate;
}

.paper-shadow-animate-z-1-z-2 .paper-shadow-bottom {
  -webkit-transition: none;
  -webkit-animation: animate-shadow-bottom-z-1-z-2 0.7s infinite alternate;
}

@-webkit-keyframes animate-shadow-top-z-1-z-2 {
  0% {
    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16);
  }
  100% {
    box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  }
}

@-webkit-keyframes animate-shadow-bottom-z-1-z-2 {
  0% {
    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  }
  100% {
    box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);
  }
}</style>

  </template>

  <script>
    Polymer('paper-shadow', {

      publish: {
        /**
         * If set, the shadow is applied to this node.
         *
         * @attribute target
         * @type Element
         * @default null
         */
        target: {value: null, reflect: true},

        /**
         * The z-depth of this shadow, from 0-5.
         *
         * @attribute z
         * @type number
         * @default 1
         */
        z: {value: 1, reflect: true},

        /**
         * If true, the shadow animates between z-depth changes.
         *
         * @attribute animated
         * @type boolean
         * @default false
         */
        animated: {value: false, reflect: true},

        /**
         * Workaround: getComputedStyle is wrong sometimes so `paper-shadow`
         * may overwrite the `position` CSS property. Set this property to
         * true to prevent this.
         *
         * @attribute hasPosition
         * @type boolean
         * @default false
         */
        hasPosition: {value: false}
      },

      // NOTE: include template so that styles are loaded, but remove
      // so that we can decide dynamically what part to include
      registerCallback: function(polymerElement) {
        var template = polymerElement.querySelector('template');
        this._style = template.content.querySelector('style');
        this._style.removeAttribute('no-shim');
      },

      fetchTemplate: function() {
        return null;
      },

      attached: function() {
        this.installScopeStyle(this._style);

        // If no target is bound at attach, default the target to the parent
        // element or shadow host.
        if (!this.target) {
          if (!this.parentElement && this.parentNode.host) {
            this.target = this.parentNode.host;
          } else if (this.parentElement && (window.ShadowDOMPolyfill ? this.parentElement !== wrap(document.body) : this.parentElement !== document.body)) {
            this.target = this.parentElement;
          }
        }
      },

      targetChanged: function(old) {
        if (old) {
          this.removeShadow(old);
        }
        if (this.target) {
          this.addShadow(this.target);
        }
      },

      zChanged: function(old) {
        if (this.target && this.target._paperShadow) {
          var shadow = this.target._paperShadow;
          ['top', 'bottom'].forEach(function(s) {
            shadow[s].classList.remove('paper-shadow-' + s + '-z-' + old);
            shadow[s].classList.add('paper-shadow-' + s + '-z-' + this.z);
          }.bind(this));
        }
      },

      animatedChanged: function() {
        if (this.target && this.target._paperShadow) {
          var shadow = this.target._paperShadow;
          ['top', 'bottom'].forEach(function(s) {
            if (this.animated) {
              shadow[s].classList.add('paper-shadow-animated');
            } else {
              shadow[s].classList.remove('paper-shadow-animated');
            }
          }.bind(this));
        }
      },

      addShadow: function(node) {
        if (node._paperShadow) {
          return;
        }

        var computed = getComputedStyle(node);
        if (!this.hasPosition && computed.position === 'static') {
          node.style.position = 'relative';
        }
        node.style.overflow = 'visible';

        // Both the top and bottom shadows are children of the target, so
        // it does not affect the classes and CSS properties of the target.
        ['top', 'bottom'].forEach(function(s) {
          var inner = (node._paperShadow && node._paperShadow[s]) || document.createElement('div');
          inner.classList.add('paper-shadow');
          inner.classList.add('paper-shadow-' + s + '-z-' + this.z);
          if (this.animated) {
            inner.classList.add('paper-shadow-animated');
          }

          if (node.shadowRoot) {
            node.shadowRoot.insertBefore(inner, node.shadowRoot.firstChild);
          } else {
            node.insertBefore(inner, node.firstChild);
          }

          node._paperShadow = node._paperShadow || {};
          node._paperShadow[s] = inner;
        }.bind(this));

      },

      removeShadow: function(node) {
        if (!node._paperShadow) {
          return;
        }

        ['top', 'bottom'].forEach(function(s) {
          node._paperShadow[s].remove();
        });
        node._paperShadow = null;

        node.style.position = null;
      }

    });
  </script>
</polymer-element>


<polymer-element name="paper-button" extends="paper-focusable" attributes="label raisedButton iconSrc icon" role="button" assetpath="bower_components/paper-button/">

  <template>

    <style>:host {
  display: inline-block;
  position: relative;
  border: 0;
  background: transparent;
  text-align: center;
  font: inherit;
  text-transform: uppercase;
  outline: none;
  border-radius: 3px;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
}

:host(.hover:hover) {
  background: #e4e4e4;
}

:host([raisedButton]) {
  background: #dfdfdf;
}

:host([raisedButton].hover:hover) {
  background: #d6d6d6;
}

:host([disabled]) {
  background: #eaeaea !important;
  color: #a8a8a8 !important;
  cursor: auto;
}

#shadow-container {
  border-radius: inherit;
}

#clip {
  position: relative;
  border-radius: inherit;
  overflow: hidden;
}

/*
#focusBg {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  opacity: 0;
  border-radius: inherit;
  background: #c3c3c3;
  -webkit-transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

:host([focused]) #focusBg {
  -webkit-transition: none;
  transition: none;
  -webkit-animation: focus-fade 0.7s infinite alternate;
  animation: focus-fade 0.7s infinite alternate;
}

@-webkit-keyframes focus-fade {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes focus-fade {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
*/

#ripple {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  color: #d1d1d1;
  pointer-events: none;
}

:host([raisedButton]) #ripple {
  color: #cecece;
}

#ripple::shadow canvas {
  top: 0;
  left: 0;
}

#content {
  /* needed to position the ink behind the content */
  position: relative;
}

#icon {
  margin: 8px;
}

#content > span {
  display: inline-block;
  margin: 0.5em;
}</style>

    <template if="{{raisedButton}}">
      <div fit="" id="shadow-container">
        <paper-shadow id="shadow" z="{{z}}" animated=""></paper-shadow>
      </div>
    </template>

    <div id="clip">
      <!-- <div id="focusBg"></div> -->
      <paper-ripple id="ripple"></paper-ripple>
      <div id="content">
        <template if="{{iconSrc || icon}}">
          <core-icon id="icon" src="{{iconSrc}}" icon="{{icon}}"></core-icon>
        </template>
        <template if="{{label}}">
          <span>{{label}}</span>
        </template>
      </div>
    </div>

  </template>

  <script>
    Polymer('paper-button', {

      publish: {

        /**
         * The label of the button.
         *
         * @attribute label
         * @type string
         * @default ''
         */
        label: '',

        /**
         * If true, the button will be styled as a "raised" button.
         *
         * @attribute raisedButton
         * @type boolean
         * @default false
         */
        raisedButton: {value: false, reflect: true},

        /**
         * (optional) The URL of an image for an icon to use in the button.
         * Should not use `icon` property if you are using this property.
         *
         * @attribute iconSrc
         * @type string
         * @default ''
         */
         iconSrc: {value: ''},

         /**
          * (optional) Specifies the icon name or index in the set of icons
          * available in the icon set. If using this property, load the icon
          * set separately where the icon is used. Should not use `src`
          * if you are using this property.
          *
          * @attribute icon
          * @type string
          * @default ''
          */
         icon: {value: ''}

      },

      z: 1,

      attached: function() {
        if (this.textContent && !this.textContent.match(/\s+/)) {
          console.warn('Using textContent to label the button is deprecated. Use the "label" property instead');
          this.label = this.textContent;
        }
      },

      activeChanged: function() {
        this.super();

        if (this.active) {
          // FIXME: remove when paper-ripple can have a default 'down' state.
          if (!this.lastEvent) {
            var rect = this.getBoundingClientRect();
            this.lastEvent = {
              x: rect.left + rect.width / 2,
              y: rect.top + rect.height / 2
            }
          }
          this.$.ripple.downAction(this.lastEvent);
        } else {
          this.$.ripple.upAction();
        }
        this.adjustZ();
      },

      focusedChanged: function() {
        this.super();
        this.adjustZ();
      },

      disabledChanged: function() {
        this.super();
        this.adjustZ();
      },

      // waitForSpillCompleted: function(callback) {
      //   this.async(callback, null, (this.$.ink.spillCompleted ? 0 : this.duration));
      // },

      // resetInk: function() {
      //   this.active = false;
      //   this.$.ink.reset();
      // },

      insideButton: function(x, y) {
        var rect = this.getBoundingClientRect();
        return (rect.left <= x) && (x <= rect.right) && (rect.top <= y) && (y <= rect.bottom);
      },

      adjustZ: function() {
        if (this.focused) {
          this.classList.add('paper-shadow-animate-z-1-z-2');
        } else {
          this.classList.remove('paper-shadow-animate-z-1-z-2');

          if (this.active) {
            this.z = 2;
          } else if (this.disabled) {
            this.z = 0;
          } else {
            this.z = 1;
          }

        }
      },

      downAction: function(e) {
        this.super(e);
        this.lastEvent = e;
      },

      labelChanged: function() {
        this.setAttribute('aria-label', this.label);
      }

    });
  </script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-icon-button` is an icon with button behaviors.

    <core-icon-button src="star.png"></core-icon-button>

`core-icon-button` includes a default icon set.  Use `icon` to specify 
which icon from the icon set to use.

    <core-icon-button icon="menu"></core-icon-button>

See [`core-iconset`](#core-iconset) for more information about 
how to use a custom icon set.

@group Polymer Core Elements
@element core-icon-button
@homepage github.io
-->




<polymer-element name="core-icon-button" attributes="src icon active" assetpath="bower_components/core-icon-button/">

  <template>

    <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
*/

:host {
  display: inline-block;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  width: 38px;
  height: 38px;
  background-image: none;
  border-radius: 2px;
  padding: 7px;
  margin: 2px;
  vertical-align: middle;
  font-size: 1rem;
  cursor: pointer;
}

:host([disabled]) {
  opacity: 0.6;
  pointer-events: none;
}

:host(.outline) {
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);
}

:host(:hover:not([disabled])) {
  box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.1);
}

:host(.selected:not([disabled])) {
  background-color: rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 0 0 rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.12);
}

:host(:active:not([disabled]), .selected:active:not([disabled])) {
  background-color: rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 0 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.12);
}

:host(.core-dark-theme.outline) {
  background-color: rgba(200, 200, 200, 0.05);
  box-shadow: 0 0 0 1px rgba(200, 200, 200, 0.1);
}

:host(.core-dark-theme:hover) {
  background-color: rgba(200, 200, 200, 0.05);
  box-shadow: 0 1px 0 0 rgba(200, 200, 200, 0.12), 0 0 0 1px rgba(200, 200, 200, 0.1);
}

:host(.core-dark-theme.selected) {
  background-color: rgba(220, 220, 220, 0.05);
  box-shadow: inset 0 1px 0 0 rgba(200, 200, 200, 0.05), 0 0 0 1px rgba(200, 200, 200, 0.12);
}

:host(.core-dark-theme:active, .core-dark-theme.selected:active) {
  background-color: rgba(200, 200, 200, 0.05);
  box-shadow: inset 0 1px 0 0 rgba(200, 200, 200, 0.1), 0 0 0 1px rgba(200, 200, 200, 0.12);
}

core-icon {
  pointer-events: none;
}
</style>

    <core-icon src="{{src}}" icon="{{icon}}"><content></content></core-icon>

  </template>

  <script>

    Polymer('core-icon-button', {

      /**
       * The URL of an image for the icon.  Should not use `icon` property
       * if you are using this property.
       *
       * @attribute src
       * @type string
       * @default ''
       */
      src: '',

      /**
       * If true, border is placed around the button to indicate it's
       * active state.
       *
       * @attribute active
       * @type boolean
       * @default false
       */
      active: false,

      /**
       * Specifies the icon name or index in the set of icons available in
       * the icon set.  Should not use `src` property if you are using this
       * property.
       *
       * @attribute icon
       * @type string
       * @default ''
       */
      icon: '',

      activeChanged: function() {
        this.classList.toggle('selected', this.active);
      }

    });

  </script>

</polymer-element>



<polymer-element name="menu-button" attributes="label selected opened valueattr" assetpath="elements/">
	<template>
		<style>
			:host {
				display: inline-block;
				position: relative;
				margin: 0;
				padding: 0;
				border-radius: 3px;
			}

			#overlay {
				position: absolute;
				left: 0px;
				top: 40px;
				background: #fff;
				border: 1px solid #ccc;
				border-radius: 3px;
				font-size: 1rem;
				overflow: auto;		
			}

			core-menu {
				margin: 0;
			}

			paper-button::shadow #icon {
				margin: 0;
			}

			paper-button::shadow #content > span {
				margin-left: 0;
			}
		</style>

		<core-overlay id="dropdown" target="{{$.overlay}}"></core-overlay>
		<paper-button icon="arrow-drop-down" id="button" on-tap="{{toggle}}" label="{{label}}" active="{{opened}}"></paper-button>
		
		<div id="overlay">
			
			<core-menu id="menu" selected="{{selected}}" selecteditem="{{selectedItem}}" selectedclass="{{selectedClass}}" valueattr="{{valueattr}}" on-core-select="{{closeAction}}">
				<content select="*"></content>
			</core-menu>

		</div>
	</template>
	<script>
	Polymer('menu-button', {
		opened: false,

		closeAction: function() {
			this.$.dropdown.opened = false;
		},

		toggle: function() {
			this.$.dropdown.toggle();
		},

		get selection() {
			return this.$.menu.selection;
		}
	});
	</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
@group Polymer Core Elements

The `core-ajax` element exposes `XMLHttpRequest` functionality.

    <core-ajax
        auto
        url="http://gdata.youtube.com/feeds/api/videos/"
        params='{"alt":"json", "q":"chrome"}'
        handleAs="json"
        on-core-response="{{handleResponse}}"></core-ajax>
 
With `auto` set to `true`, the element performs a request whenever
its `url` or `params` properties are changed.

Note: The `params` attribute must be double quoted JSON.

You can trigger a request explicitly by calling `go` on the
element.

@element core-ajax
@status beta
@homepage github.io
-->
<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--
/**
 * @group Polymer Core Elements
 *
 * core-xhr can be used to perform XMLHttpRequests.
 *
 *     <core-xhr id="xhr"></core-xhr>
 *     ...
 *     this.$.xhr.request({url: url, params: params, callback: callback});
 *
 * @element core-xhr
 */
-->



<polymer-element name="core-xhr" hidden assetpath="bower_components/core-ajax/">

  <script>

    Polymer('core-xhr', {

      /**
       * Sends a HTTP request to the server and returns the XHR object.
       *
       * @method request
       * @param {Object} inOptions
       *    @param {String} inOptions.url The url to which the request is sent.
       *    @param {String} inOptions.method The HTTP method to use, default is GET.
       *    @param {boolean} inOptions.sync By default, all requests are sent asynchronously. To send synchronous requests, set to true.
       *    @param {Object} inOptions.params Data to be sent to the server.
       *    @param {Object} inOptions.body The content for the request body for POST method.
       *    @param {Object} inOptions.headers HTTP request headers.
       *    @param {String} inOptions.responseType The response type. Default is 'text'.
       *    @param {boolean} inOptions.withCredentials Whether or not to send credentials on the request. Default is false.
       *    @param {Object} inOptions.callback Called when request is completed.
       * @returns {Object} XHR object.
       */
      request: function(options) {
        var xhr = new XMLHttpRequest();
        var url = options.url;
        var method = options.method || 'GET';
        var async = !options.sync;
        //
        var params = this.toQueryString(options.params);
        if (params && method == 'GET') {
          url += (url.indexOf('?') > 0 ? '&' : '?') + params;
        }
        var xhrParams = this.isBodyMethod(method) ? (options.body || params) : null;
        //
        xhr.open(method, url, async);
        if (options.responseType) {
          xhr.responseType = options.responseType;
        }
        if (options.withCredentials) {
          xhr.withCredentials = true;
        }
        this.makeReadyStateHandler(xhr, options.callback);
        this.setRequestHeaders(xhr, options.headers);
        xhr.send(xhrParams);
        if (!async) {
          xhr.onreadystatechange(xhr);
        }
        return xhr;
      },
    
      toQueryString: function(params) {
        var r = [];
        for (var n in params) {
          var v = params[n];
          n = encodeURIComponent(n);
          r.push(v == null ? n : (n + '=' + encodeURIComponent(v)));
        }
        return r.join('&');
      },

      isBodyMethod: function(method) {
        return this.bodyMethods[(method || '').toUpperCase()];
      },
      
      bodyMethods: {
        POST: 1,
        PUT: 1,
        DELETE: 1
      },

      makeReadyStateHandler: function(xhr, callback) {
        xhr.onreadystatechange = function() {
          if (xhr.readyState == 4) {
            callback && callback.call(null, xhr.response, xhr);
          }
        };
      },

      setRequestHeaders: function(xhr, headers) {
        if (headers) {
          for (var name in headers) {
            xhr.setRequestHeader(name, headers[name]);
          }
        }
      }

    });

  </script>
  
</polymer-element>

<polymer-element name="core-ajax" attributes="url handleAs auto params response method headers body contentType withCredentials" assetpath="bower_components/core-ajax/">
<script>

  Polymer('core-ajax', {
    /**
     * Fired when a response is received.
     * 
     * @event core-response
     */

    /**
     * Fired when an error is received.
     * 
     * @event core-error
     */

    /**
     * Fired whenever a response or an error is received.
     *
     * @event core-complete
     */

    /**
     * The URL target of the request.
     * 
     * @attribute url
     * @type string
     * @default ''
     */
    url: '',

    /**
     * Specifies what data to store in the `response` property, and
     * to deliver as `event.response` in `response` events.
     * 
     * One of:
     * 
     *    `text`: uses `XHR.responseText`.
     *    
     *    `xml`: uses `XHR.responseXML`.
     *    
     *    `json`: uses `XHR.responseText` parsed as JSON.
     *
     *    `arraybuffer`: uses `XHR.response`.
     *
     *    `blob`: uses `XHR.response`.
     *
     *    `document`: uses `XHR.response`.
     *  
     * @attribute handleAs
     * @type string
     * @default 'text'
     */
    handleAs: '',

    /**
     * If true, automatically performs an Ajax request when either `url` or `params` changes.
     *
     * @attribute auto
     * @type boolean
     * @default false
     */
    auto: false,

    /**
     * Parameters to send to the specified URL, as JSON.
     *  
     * @attribute params
     * @type string (JSON)
     * @default ''
     */
    params: '',

    /**
     * Returns the response object.
     *
     * @attribute response
     * @type Object
     * @default null
     */
    response: null,

    /**
     * The HTTP method to use such as 'GET', 'POST', 'PUT', or 'DELETE'.
     * Default is 'GET'.
     *
     * @attribute method
     * @type string
     * @default ''
     */
    method: '',

    /**
     * HTTP request headers to send.
     *
     * Example:
     *
     *     <core-ajax 
     *         auto
     *         url="http://somesite.com"
     *         headers='{"X-Requested-With": "XMLHttpRequest"}'
     *         handleAs="json"
     *         on-core-response="{{handleResponse}}"></core-ajax>
     *  
     * @attribute headers
     * @type Object
     * @default null
     */
    headers: null,

    /**
     * Optional raw body content to send when method === "POST".
     *
     * Example:
     *
     *     <core-ajax method="POST" auto url="http://somesite.com"
     *         body='{"foo":1, "bar":2}'>
     *     </core-ajax>
     *  
     * @attribute body
     * @type Object
     * @default null
     */
    body: null,

    /**
     * Content type to use when sending data.
     *
     * @attribute contentType
     * @type string
     * @default 'application/x-www-form-urlencoded'
     */
    contentType: 'application/x-www-form-urlencoded',

    /**
     * Set the withCredentials flag on the request.
     * 
     * @attribute withCredentials
     * @type boolean
     * @default false
     */
    withCredentials: false,
    
    /**
     * Additional properties to send to core-xhr.
     *
     * Can be set to an object containing default properties
     * to send as arguments to the `core-xhr.request()` method
     * which implements the low-level communication.
     * 
     * @property xhrArgs
     * @type Object
     * @default null
     */
    xhrArgs: null,
     
    ready: function() {
      this.xhr = document.createElement('core-xhr');
    },

    receive: function(response, xhr) {
      if (this.isSuccess(xhr)) {
        this.processResponse(xhr);
      } else {
        this.error(xhr);
      }
      this.complete(xhr);
    },

    isSuccess: function(xhr) {
      var status = xhr.status || 0;
      return !status || (status >= 200 && status < 300);
    },

    processResponse: function(xhr) {
      var response = this.evalResponse(xhr);
      this.response = response;
      this.fire('core-response', {response: response, xhr: xhr});
    },

    error: function(xhr) {
      var response = xhr.status + ': ' + xhr.responseText;
      this.fire('core-error', {response: response, xhr: xhr});
    },

    complete: function(xhr) {
      this.fire('core-complete', {response: xhr.status, xhr: xhr});
    },

    evalResponse: function(xhr) {
      return this[(this.handleAs || 'text') + 'Handler'](xhr);
    },

    xmlHandler: function(xhr) {
      return xhr.responseXML;
    },

    textHandler: function(xhr) {
      return xhr.responseText;
    },

    jsonHandler: function(xhr) {
      var r = xhr.responseText;
      try {
        return JSON.parse(r);
      } catch (x) {
        return r;
      }
    },

    documentHandler: function(xhr) {
      return xhr.response;
    },

    blobHandler: function(xhr) {
      return xhr.response;
    },

    arraybufferHandler: function(xhr) {
      return xhr.response;
    },

    urlChanged: function() {
      if (!this.handleAs) {
        var ext = String(this.url).split('.').pop();
        switch (ext) {
          case 'json':
            this.handleAs = 'json';
            break;
        }
      }
      this.autoGo();
    },

    paramsChanged: function() {
      this.autoGo();
    },

    autoChanged: function() {
      this.autoGo();
    },

    // TODO(sorvell): multiple side-effects could call autoGo 
    // during one micro-task, use a job to have only one action 
    // occur
    autoGo: function() {
      if (this.auto) {
        this.goJob = this.job(this.goJob, this.go, 0);
      }
    },

    /**
     * Performs an Ajax request to the specified URL.
     *
     * @method go
     */
    go: function() {
      var args = this.xhrArgs || {};
      // TODO(sjmiles): we may want XHR to default to POST if body is set
      args.body = this.body || args.body;
      args.params = this.params || args.params;
      if (args.params && typeof(args.params) == 'string') {
        args.params = JSON.parse(args.params);
      }
      args.headers = this.headers || args.headers || {};
      if (args.headers && typeof(args.headers) == 'string') {
        args.headers = JSON.parse(args.headers);
      }
      if (this.contentType) {
        args.headers['content-type'] = this.contentType;
      }
      if (this.handleAs === 'arraybuffer' || this.handleAs === 'blob' ||
          this.handleAs === 'document') {
        args.responseType = this.handleAs;
      }
      args.withCredentials = this.withCredentials;
      args.callback = this.receive.bind(this);
      args.url = this.url;
      args.method = this.method;
      return args.url && this.xhr.request(args);
    }

  });

</script>
</polymer-element>

<!-- Element representing user information card. -->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
-->

<!--
@group Paper Elements
`paper-icon-button` is a button with an image placed at the center.

Example:

    <paper-icon-button iconSrc="star.png"></paper-icon-button>

`paper-icon-button` includes a default icon set.  Use `icon` to specify 
which icon from the icon set to use.

Example:

    <paper-icon-button icon="menu"></paper-icon-button>

The icons provided by `core-icons` are SVG, and you can style them with CSS.

Example:

    <paper-icon-button icon="favorite" style="fill:red;"></paper-icon-button>

See `core-iconset` for more information about how to use a custom icon set.

@element paper-icon-button
@extends paper-button
@homepage github.io
-->




<polymer-element name="paper-icon-button" extends="paper-button" attributes="fill" assetpath="bower_components/paper-icon-button/">

  <template>

    <style>/*
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
*/

:host([disabled]) {
  background: none !important;
}

:host([disabled]) /deep/ #icon {
  fill: #c9c9c9;
}

:host(:not([fill])) /deep/ #focusBg {
  border-radius: 50%;
}</style>

    <shadow></shadow>

  </template>

  <script>
  
    Polymer('paper-icon-button', {

      publish: {

        /**
         * If true, the ripple expands to a square to fill the containing box.
         *
         * @attribute fill
         * @type boolean
         * @default false
         */
        fill: {value: false, reflect: true}

      },

      ready: function() {
        this.$.ripple.classList.add('recenteringTouch');
        this.fillChanged();
      },

      fillChanged: function() {
        this.$.ripple.classList.toggle('circle', !this.fill);
      },

      iconChanged: function(oldIcon) {
        if (!this.label) {
          this.setAttribute('aria-label', this.icon);
        }
      }

    });
    
  </script>
  
</polymer-element>



<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-toast` provides lightweight feedback about an operation in a small popup 
at the base of the screen on mobile and at the lower left on desktop. Toasts are 
above all other elements on screen, including the FAB.

Toasts automatically disappear after a timeout or after user interaction 
elsewhere on the screen, whichever comes first. Toasts can be swiped off 
screen.  There can be only one on the screen at a time.

Example:

    <paper-toast text="Your draft has been discarded." onclick="discardDraft(el)"></paper-toast>
    
    <script>
      function discardDraft(el) {
        el.show();
      }
    </script>
    
An action button can be presented in the toast.

Example (using Polymer's data-binding features):

    <paper-toast id="toast2" text="Connection timed out. Showing limited messages.">
      <div style="color: blue;" on-tap="{{retry}}">Retry</div>
    </paper-toast>
    
Positioning toast:

A standard toast appears near the lower left of the screen.  You can change the
position by overriding bottom and left positions.

    paper-toast {
      bottom: 40px;
      left: 10px;
    }
  
To make it fit at the bottom of the screen:

    paper-toast {
      bottom: 0;
      left: 0;
      width: 100%;
    }
  
When the screen size is smaller than the `responsiveWidth` (default to 480px),
the toast will automatically fits at the bottom of the screen.

@group Paper Elements
@element paper-toast
@homepage github.io
-->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->



<polymer-element name="core-transition-css" extends="core-transition" attributes="transitionType" assetpath="bower_components/core-transition/">
<template>
  <style no-shim="">/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt */

:host(.core-transition) {
  outline: none;
  overflow: hidden;
  opacity: 0;
  transition: transform 0.2s ease-in-out, opacity 0.2s ease-in;
  -webkit-transition: -webkit-transform 0.2s ease-in-out, opacity 0.2s ease-in;
}


:host(.core-transition.core-opened) {
  opacity: 1;
  transform: none;
  -webkit-transform: none;
}

:host(.core-transition-center) {
  transform: scale(0.5);
  -webkit-transform: scale(0.5);
}

:host(.core-transition-top) {
  transform: translateY(-200%);
  -webkit-transform: translateY(-200%);
}

:host(.core-transition-bottom) {
  transform: translateY(200%);
  -webkit-transform: translateY(200%);
}

:host(.core-transition-left) {
  transform: translateX(-200%);
  -webkit-transform: translateX(-200%);
}

:host(.core-transition-right) {
  transform: translateX(200%);
  -webkit-transform: translateX(200%);
}</style>
</template>
<script>

  Polymer('core-transition-css', {
    
    baseClass: 'core-transition',
    openedClass: 'core-opened',
    closedClass: 'core-closed',
    completeEventName: 'transitionend',

    registerCallback: function(element) {
      this.transitionStyle = element.templateContent().firstElementChild;
    },

    // template is just for loading styles, we don't need a shadowRoot
    fetchTemplate: function() {
      return null;
    },

    go: function(node, state) {
      if (state.opened !== undefined) {
        this.transitionOpened(node, state.opened);
      }
    },

    setup: function(node) {
      if (!node._hasTransitionStyle) {
        if (!node.shadowRoot) {
          node.createShadowRoot().innerHTML = '<content></content>';
        }
        this.installScopeStyle(this.transitionStyle, 'transition',
            node.shadowRoot);
        node._hasTransitionStyle = true;
        node.classList.add(this.baseClass);
        if (this.transitionType) {
          node.classList.add(this.baseClass + '-' + this.transitionType);
        }
      }
    },

    transitionOpened: function(node, opened) {
      this.listenOnce(node, this.completeEventName, function() {
        node.classList.toggle(this.revealedClass, opened);
        if (!opened) {
          node.classList.remove(this.closedClass);
        }
        this.complete(node);
      });
      node.classList.toggle(this.openedClass, opened);
      node.classList.toggle(this.closedClass, !opened);
    }

  });
</script>
</polymer-element>

<core-transition-css id="core-transition-fade"></core-transition-css>
<core-transition-css id="core-transition-center" transitiontype="center"></core-transition-css>
<core-transition-css id="core-transition-top" transitiontype="top"></core-transition-css>
<core-transition-css id="core-transition-bottom" transitiontype="bottom"></core-transition-css>
<core-transition-css id="core-transition-left" transitiontype="left"></core-transition-css>
<core-transition-css id="core-transition-right" transitiontype="right"></core-transition-css>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--
/**
 * @group Polymer Core Elements
 * @element core-media-query
 * @status beta
 * @homepage github.io
 *
 * core-media-query can be used to data bind to a CSS media query.
 * The "query" property is a bare CSS media query.
 * The "queryMatches" property will be a boolean representing if the page matches that media query.
 *
 * core-media-query uses media query listeners to dynamically update the "queryMatches" property.
 * A "core-media-change" event also fires when queryMatches changes.
 *
 * Example:
 *
 *      <core-media-query query="max-width: 640px" queryMatches="{{phoneScreen}}"></core-media-query>
 *
 */

 /**
  * Fired when the media query state changes
  *
  * @event core-media-change
  */
-->


<polymer-element name="core-media-query" attributes="query queryMatches" assetpath="bower_components/core-media-query/">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>
  </template>
  <script>
    Polymer('core-media-query', {

      /**
       * The Boolean return value of the media query
       *
       * @attribute queryMatches
       * @type Boolean
       * @default false
       */
      queryMatches: false,

      /**
       * The CSS media query to evaulate
       *
       * @attribute query
       * @type string
       * @default ''
       */
      query: '',
      ready: function() {
        this._mqHandler = this.queryHandler.bind(this);
        this._mq = null;
      },
      queryChanged: function() {
        if (this._mq) {
          this._mq.removeListener(this._mqHandler);
        }
        var query = this.query;
        if (query[0] !== '(') {
          query = '(' + this.query + ')';
        }
        this._mq = window.matchMedia(query);
        this._mq.addListener(this._mqHandler);
        this.queryHandler(this._mq);
      },
      queryHandler: function(mq) {
        this.queryMatches = mq.matches;
        this.asyncFire('core-media-change', mq);
      }
    });
  </script>
</polymer-element>


<polymer-element name="paper-toast" attributes="text duration opened responsiveWidth swipeDisabled" role="status" assetpath="bower_components/paper-toast/">

<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: inline-block;
  background: #323232;
  color: #f1f1f1;
  min-height: 48px;
  min-width: 288px;
  padding: 16px 24px 12px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  border-radius: 2px;
  bottom: 12px;
  left: 12px;
  font-size: 14px;
  cursor: default;
}

:host(.capsule) {
  border-radius: 24px;
}

:host(.fit-bottom) {
  bottom: 0;
  left: 0;
  width: 100%;
  min-width: 0;
  border-radius: 0;
}

:host(.core-transition.dragging) {
  transition: none;
}

:host(.core-transition.fade-out-down),
:host(.core-transition.fade-out-up),
:host(.core-transition.fade-out-right),
:host(.core-transition.fade-out-left) {
  opacity: 0;
  transition: -webkit-transform 0.08s ease-in-out, opacity 0.08s ease-in-out;
  transition: transform 0.08s ease-in-out, opacity 0.08s ease-in-out;
}

:host(.core-transition.fade-out-down) {
  -webkit-transform: translate(0, 100%);
  transform: translate(0, 100%);
}

:host(.core-transition.fade-out-up) {
  -webkit-transform: translate(0, -100%);
  transform: translate(0, -100%);
}

:host(.core-transition.fade-out-right) {
  -webkit-transform: translate(100%, 0);
  transform: translate(100%, 0);
}

:host(.core-transition.fade-out-left) {
  -webkit-transform: translate(-100%, 0);
  transform: translate(-100%, 0);
}

.toast-container {
  overflow: hidden;
}

.toast-action {
  padding-left: 24px;
  cursor: pointer;
  text-transform: uppercase;
}
</style>

  <core-overlay opened="{{opened}}" target="{{}}" sizingtarget="{{$.container}}" transition="core-transition-bottom"></core-overlay>

  <div class="toast-container" horizontal="" layout="">

    <div class="toast-text" flex="">{{text}}</div>
    
    <div class="toast-text toast-action" on-tap="{{dismiss}}">
      <content></content>
    </div>

  </div>
  
  <core-media-query query="max-width: {{responsiveWidth}}" querymatches="{{narrowMode}}"></core-media-query>

</template>
<script>

  (function() {
  
    var currentToast;
  
    Polymer('paper-toast', {
  
      /**
       * The text shows in a toast.
       *
       * @attribute text
       * @type string
       * @default ''
       */
      text: '',
      
      /**
       * The duration in milliseconds to show the toast.
       *
       * @attribute duration
       * @type number
       * @default 3000
       */
      duration: 3000,
      
      /**
       * Set opened to true to show the toast and to false to hide it.
       *
       * @attribute opened
       * @type boolean
       * @default false
       */
      opened: false,
      
      /**
       * Min-width when the toast changes to narrow layout.  In narrow layout,
       * the toast fits at the bottom of the screen when opened.
       *
       * @attribute responsiveWidth
       * @type string
       * @default '480px'
       */
      responsiveWidth: '480px',
      
      /**
       * If true, the toast can't be swiped.
       *
       * @attribute swipeDisabled
       * @type boolean
       * @default false
       */
      swipeDisabled: false,
      
      eventDelegates: {
        trackstart: 'trackStart',
        track: 'track',
        trackend: 'trackEnd',
        transitionend: 'transitionEnd'
      },
      
      narrowModeChanged: function() {
        this.classList.toggle('fit-bottom', this.narrowMode);
      },
      
      openedChanged: function() {
        if (this.opened) {
          this.dismissJob = this.job(this.dismissJob, this.dismiss, this.duration);
        } else {
          this.dismissJob && this.dismissJob.stop();
          this.dismiss();
        }
      },
      
      /** 
       * Toggle the opened state of the toast.
       * @method toggle
       */
      toggle: function() {
        this.opened = !this.opened;
      },
      
      /** 
       * Show the toast for the specified duration
       * @method show
       */
      show: function() {
        if (currentToast) {
          currentToast.dismiss();
        }
        currentToast = this;
        this.opened = true;
      },
      
      /** 
       * Dismiss the toast and hide it.
       * @method dismiss
       */
      dismiss: function() {
        if (this.dragging) {
          this.shouldDismiss = true;
        } else {
          this.opened = false;
          if (currentToast === this) {
            currentToast = null;
          }
        }
      },
      
      trackStart: function(e) {
        if (!this.swipeDisabled) {
          e.preventTap();
          this.vertical = e.yDirection;
          this.w = this.offsetWidth;
          this.h = this.offsetHeight;
          this.dragging = true;
          this.classList.add('dragging');
        }
      },
      
      track: function(e) {
        if (this.dragging) {
          var s = this.style;
          if (this.vertical) {
            var y = e.dy;
            s.opacity = (this.h - Math.abs(y)) / this.h;
            s.webkitTransform = s.transform =  'translate3d(0, ' + y + 'px, 0)';
          } else {
            var x = e.dx;
            s.opacity = (this.w - Math.abs(x)) / this.w;
            s.webkitTransform = s.transform = 'translate3d(' + x + 'px, 0, 0)';
          }
        }
      },
      
      trackEnd: function(e) {
        if (this.dragging) {
          this.classList.remove('dragging');
          this.style.opacity = null;
          this.style.webkitTransform = this.style.transform = null;
          var cl = this.classList;
          if (this.vertical) {
            cl.toggle('fade-out-down', e.yDirection === 1 && e.dy > 0);
            cl.toggle('fade-out-up', e.yDirection === -1 && e.dy < 0);
          } else {
            cl.toggle('fade-out-right', e.xDirection === 1 && e.dx > 0);
            cl.toggle('fade-out-left', e.xDirection === -1 && e.dx < 0);
          }
          this.dragging = false;
        }
      },
      
      transitionEnd: function() {
        var cl = this.classList;
        if (cl.contains('fade-out-right') || cl.contains('fade-out-left') || 
            cl.contains('fade-out-down') || cl.contains('fade-out-up')) {
          this.dismiss();
          cl.remove('fade-out-right', 'fade-out-left', 
              'fade-out-down', 'fade-out-up');
        } else if (this.shouldDismiss) {
          this.dismiss();
        }
        this.shouldDismiss = false;
      }
  
    });
    
  })();

</script>
</polymer-element>


<polymer-element name="user-card" attributes="ldap" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
				position: relative;
				background: linear-gradient(to bottom left, rgba(216, 255, 252, 0.39) , rgba(114, 250, 223, 0.20));	    
			    padding: 50px;
			    height: 100%;
			    font-size: 1.0rem;
			}
			.card-header {
				margin-bottom: 10px;
		    }
		    .card-header h2 {
		    	margin: 0;
		    	font-size: 2.1rem;
		    	font-weight: 300;
		    }
		    .card-header h3 {
		    	margin: 0;
		    	font-size: 1.8rem;
		    	font-weight: 100;
		    }
		    .card-header img {
		    	width: 80px;
		    	border-radius: 50%;
		    	margin: 10px;
		    }	

		    tr > td {
		    	vertical-align: top;
		    	padding-bottom: 5px;
		    }

		    #sshSubmit {
		    	color: #259b24;
		    }

		</style>
		<!-- Add Member Ajax call. -->
		<core-ajax id="addSSHAjax" method="PUT" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user/ssh" contenttype="text/plain" handleas="json" on-core-response="{{addSSHResponse}}" on-core-error="{{addSSHError}}">
		</core-ajax>
		
		<div class="card-header" layout="" horizontal="" center="" end-justified="">
				<div flex=""><h3>Welcome</h3></div>
				<template if="{{ldap.photo===&apos;undefined&apos;}}">
					<template if="{{ldap.isStudent}}">
						<img src="images/temp_student.svg">
					</template>
					<template if="{{!ldap.isStudent}}">
						<img src="images/temp_staff.svg">
					</template>
				</template>
				<template if="{{ldap.photo!==&apos;undefined&apos;}}">
					<img src="data:image/jpeg;base64,{{ldap.photo}}">
				</template>
				<h2>{{ldap.displayName}}</h2>
		</div>
		<div layout="" horizontal="" center="">
			<paper-input id="sshInput" floatinglabel="" value="{{ldap.ssh}}" label="Public SSH key..." validate="^\s*(ecdsa-sha2-nistp256|ecdsa-sha2-nistp384|ecdsa-sha2-nistp521|ssh-ed25519|ssh-dss|ssh-rsa)\s+[0-9A-Za-z+/]+=*(\s+.*)?$" error="Invalid Key." on-input="{{handleAddInput}}">
			</paper-input>
			<template if="{{showSubmit}}">
				<paper-icon-button id="sshSubmit" icon="check-circle" on-click="{{addSSH}}"></paper-icon-button>		
			</template>
		</div>
		<table width="50%">
			<tr><td><b>CRSID:</b></td><td>{{ldap._id}}</td></tr>
			<tr><td><b>Email:</b></td><td>{{ldap.email}}</td></tr>
			<tr><td><b>College:</b></td><td>{{ldap.college}}</td></tr>
			<tr><td><b>Institutions:</b></td><td>
				<template repeat="{{inst in ldap.institutions}}">
					{{inst}}<br>
				</template>
			</td></tr>
		</table>
		<paper-toast id="addErrorToast" text="Error updating public key." duration="3000"></paper-toast>
		<paper-toast id="addSuccessToast" text="Successfully updated the public key." dutration="3000"></paper-toast>
	</template>
	<script>
		Polymer('user-card', {
			ready: function() {

			},
			handleAddInput: function () {
				if (this.$.sshInput.invalid || this.$.sshInput.inputValue === "") {
					this.showSubmit = false;
				}
				else {
					this.showSubmit = true;
				}
			},
			addSSH: function() {
				this.$.addSSHAjax.body = this.$.sshInput.value;
				this.$.addSSHAjax.go();
			},
			addSSHResponse: function() {
				this.$.addSuccessToast.show();
			},

			addSSHError: function(e, detail) {
				this.$.addErrorToast.text = detail.xhr.responseText;
				this.$.addErrorToast.show();
			}
		});
	</script>
</polymer-element>



<polymer-element name="main-card" attributes="animated swipeable" on-trackstart="{{trackStart}}" on-track="{{track}}" on-trackend="{{trackEnd}}" on-flick="{{flick}}" assetpath="elements/">
	<template>
		<style type="text/css">:host {
	display: block;
	-webkit-transition: all 0.30s ease-out; /** Chrome & Safari **/
	-moz-transition: all 0.30s ease-out; /** Firefox **/
	-o-transition: all 0.30s ease-out; /** Opera **/
	transition: all 0.30s ease-out;
}

#card {
	display: block;
	margin: 20px;
	background-color: #fff;
	box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.26);
	border-radius: 2px;
	overflow: hidden;
	width: inherit;
}

#card.move-up {
  transition: all 0.35s ease-in-out;
  -webkit-transition: all 0.35s ease-in-out; /** Chrome & Safari **/
  -moz-transition: all 0.35s ease-in-out; /** Firefox **/
  -o-transition: all 0.35s ease-in-out; /** Opera **/
}

#card.hidden {
	display: none;
}

:host(.dragging:host) {
  -webkit-transition: none;
  transition: none;
}</style>

		<div id="card">
			<content></content>
		</div>

	</template>
	<script>
		Polymer('main-card', {

			ready: function () {
				if (this.swipeable) {
					this.setAttribute('touch-action', 'pan-y');
			        this.transitionEndListener = this.transitionEnd.bind(this);
			    }

				if (this.animated) {
					this.animateCard();
				}
			},

			animated: false,

			moveCard: function (y) {
				var s = this.$.card.style;
				s.webkitTransform = s.transform = y ? 'translate(0, ' + y + 'px)': '';
			},
			animateCard: function() {
				this.$.card.classList.remove('move-up');
		    	this.$.card.style.display = 'none';
		    	this.async(function () {
		    		this.$.card.style.display = 'block'
		    		this.moveCard(window.innerHeight);
		    		this.async(function () {
		    			this.$.card.classList.add('move-up');
		    			this.moveCard(null);
		    		}, null, 300);
	    		});
		    },

		    cardTransitionDone: function() {
		    	if (this.$.card.classList.contains('move-up')) {
		    		this.$.card.classList.remove('move-up');
		    	}
		    },

		    swipeable: false,
		    noCurve: false,
		    offsetRatio: 0.2,
		    widthRatio: 3,

		    leftView: function() {
		    	this.removeListeners();
		    },
		    addListeners: function() {
		    	this.addEventListener('webkitTransitionEnd', 
		    		this.transitionEndListener);
		    	this.addEventListener('transitionend', this.transitionEndListener);
		    },
		    removeListeners: function() {
		    	this.removeEventListener('webkitTransitionEnd', 
		    		this.transitionEndListener);
		    	this.removeEventListener('transitionend', this.transitionEndListener);
		    },
		    swipeableChanged: function() {
		    	if (this.swipeable) {
		    		this.addListeners();
		    	} else {
		    		this.removeListeners();
		    	}
		    },
		    animate: function(x) {
		    	var s = this.style;
		    	var d = x > 0 ? 1 : -1;
		    	var w = this.w * this.widthRatio;
		    	var x1 = Math.max(0, Math.abs(x) - this.w * this.offsetRatio);
		    	var r = Math.max(0, (w - x1) / w);
		    	var y = w - Math.sqrt(w * w - x1 * x1);
		    	var deg = (1 - r) * d * 90;
		    	s.opacity = r;
		    	var translate = 'translate3d(' + x + 'px,' + 
		    		(this.noCurve ? 0 : y) + 'px,0)';
				var rotate = 'rotate(' + deg + 'deg)';
				s.webkitTransform = s.mozTransform = s.msTransform = s.transform = 
				translate + (this.noCurve ? '' : ' ' + rotate);
			},

			trackStart: function(e) {
				if (this.swipeable) {
					e.preventTap();
					this.w = this.offsetWidth;
					this.classList.add('dragging');
				}
			},

			track: function(e) {
				if (this.swipeable) {
					this.animate(e.dx);
				}
			},

			trackEnd: function(e) {
				if (this.swipeable) {
					this.swipeEnd(Math.abs(e.dx) > this.w / 2 && e.dx * e.xDirection > 0, 
						e.dx > 0);
				}
			},

			flick: function(e) {
				if (this.swipeable && !this.away) {
					var v = e.xVelocity;
					this.swipeEnd(Math.abs(v) > 2, v > 0);
				}
			},

			swipeEnd: function(away, dir) {
				this.classList.remove('dragging');
				this.away = away;
				if (away) {
					var w = this.w * this.widthRatio;
					this.animate(dir ? w : -w);
				} else {
					this.animate(0);
				}
			},

			transitionEnd: function(e) {
				if (this.away && e.propertyName === "transform") {
					this.fire('main-card-swipe-away', { card: this } );
				}
			}
		});
	</script>
</polymer-element>


<polymer-element name="date-calendar" attributes="datetime hexColorPrimary hexColorSecondary" assetpath="elements/">
	<template>
		<style shim-shadowdom="">
			time.icon
			{
				font-size: 0.5em; /* change icon size */
				display: block;
				position: relative;
				width: 7em;
				height: 7em;
				background-color: #fff;
				border-radius: 0.6em;
				box-shadow: 0 1px 0 #bdbdbd, 0 2px 0 #fff, 0 3px 0 #bdbdbd, 0 4px 0 #fff, 0 5px 0 #bdbdbd, 0 0 0 1px #bdbdbd;
				overflow: hidden;
			}

			time.icon *
			{
				display: block;
				width: 100%;
				font-size: 1em;
				font-weight: 200;
				font-style: normal;
				text-align: center;
			}

			time.icon strong
			{
				position: absolute;
				top: 0;
				padding: 0.4em 0;
				color: #fff;
				background-color: {{hexColorPrimary}};
				border-bottom: 1px dashed {{hexColorSecondary}};
				box-shadow: 0 2px 0 {{hexColorPrimary}};
			}

			time.icon em
			{
				position: absolute;
				bottom: 0.3em;
				color: {{hexColorPrimary}};
			}

			time.icon span
			{
				width: 100%;
				font-size: 2.8em;
				letter-spacing: -0.05em;
				padding-top: 1em;
				color: #2f2f2f;
			}
		</style>
		<time datetime="{{tick.deadline}}" class="icon">
			  <em>{{day}}</em>
			  <strong>{{month}}</strong>
			  <span>{{date}}</span>
		</time>
	</template>
	<script>
		Polymer('date-calendar', {
			domReady: function () {
				var weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
				var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
				var d = new Date(this.datetime);
				this.date = d.getDate();
				this.day = weekdays[d.getDay()];
				this.month = months[d.getMonth()];
			}
		});
	</script>
</polymer-element>




<polymer-element name="time-clock" attributes="datetime" assetpath="elements/">
	<template>
		<style>
			:host {
				margin: 0;
				padding: 8px;
			}
			.digit {
				margin: 1px;
				padding: 5px;
				border-radius: 4px;
				background: linear-gradient(#444444, #000);
				color: #fff;
				font-size: 1.5rem;
				font-weight: 200;
				box-shadow: 0 2px 4px 0px rgba(0,0,0,.35);
			}
			.separator {
				color: #000;
				font-size: 1.5rem;
			}
		</style>
		<div class="container" layout="" horizontal="" center="">
			<div class="digit">
				{{h1}}
			</div>
			<div class="digit">
				{{h2}}
			</div>
			<div class="separator">
				:
			</div>
			<div class="digit">
				{{m1}}
			</div>
			<div class="digit">
				{{m2}}
			</div>
		</div>
	</template>
	<script>
		Polymer('time-clock', {
			domReady: function () {
				var d = new Date(this.datetime);
				var hour = d.getHours();
				var mins = d.getMinutes();
				this.h1 = Math.floor(hour / 10);
				this.h2 = hour % 10;
				this.m1 = Math.floor(mins / 10);
				this.m2 = mins % 10;

			}
		});
	</script>
</polymer-element>


<polymer-element name="slot-box" attributes="datetime tickName ticker" assetpath="elements/">
	<template>
		<style>
			:host {
				display:   block;
				border-radius: 2px;
				position: relative;
			}
			h1 {
				margin: 0;
				font-size: 1.4rem;
				font-weight: 100;
			}

			h2 {
				margin: 0;
				font-size: 0.7rem;
				color: #808080;
				font-weight: 300;
			}
			h3 {
				margin: 0;
				font-size: 1rem;
				color: #464646;
				font-weight: 200;
			}
			#container {
				padding: 10px;
			}
		</style>
		<div layout="" horizontal="" center="" id="container">
			<date-calendar hexcolorprimary="#FF8000" hexcolorsecondary="#fff" datetime="{{datetime}}"></date-calendar>
			<time-clock datetime="{{datetime}}"></time-clock>
			<div flex=""></div>
			<div layout="" vertical="" end="">
				<h3>{{groupName}}</h3>
				<h1>{{tickName}}</h1>
				<h2>Ticker: {{ticker}}</h2>
			</div>
			<paper-ripple class="recenteringTouch" fit=""></paper-ripple>
		</div>
	</template>
<script>Polymer('slot-box');</script></polymer-element>

<polymer-element name="upcoming-slots" attributes="slots" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
			}
			h1 {
				font-size: 1.8rem;
				font-weight: 100;
				padding: 0 0 0 10px;
			}
			slot-box {
				width: calc(100% / 3);
			}
			slot-box:nth-child(odd) {
				background: #f6f6f6;
			}
			slot-box:nth-child(even) {
				background: #e9e9e9;
			}
		</style>
		<div id="headerBar" layout="" horizontal="" center="">
			<h1 flex="">Upcoming Events ({{slots ? slots.length : 0}})</h1>
			<search-box id="searchBox" placeholder="Search..."></search-box>
		</div>

		<!-- Tick list. -->
		<div layout="" horizontal="" center="" wrap="">
			<template repeat="{{slot in slots | slotListFilter($.searchBox.query)}}">
				<slot-box datetime="{{slot.startTime}}" tickname="{{slot.tickName}}" ticker="{{slot.ticker}}">
				</slot-box>
			</template>
		</div>
	</template>
	<script>
		Polymer('upcoming-slots', {
			slotListFilter: function(items, q) {
				if (items && q) {
					return items.filter(this.slotFilter.bind(this));
				}
				return items;
			},

			slotFilter: function(item) {
				var q = this.$.searchBox.query.toLowerCase();
				return (item.tickName.toLowerCase().indexOf(q) > -1);
			},
		});
	</script>
</polymer-element>

<polymer-element name="user-dash" attributes="" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
			}
		</style>

		<!-- Logging in API call. -->
		<core-ajax id="loginAjax" auto="" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user" handleas="json" on-core-response="{{loginResponse}}">
		</core-ajax>

		<!-- Upcoming events API call. -->
		<core-ajax id="upcomingAPI" auto="" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/bookings" handleas="json" on-core-response="{{upcomingResponse}}">
		</core-ajax>

		<main-card animated="">
			<user-card id="userCard" ldap="{{data}}"></user-card>
		</main-card>

		<main-card animated="">
			<upcoming-slots slots="{{slots}}"></upcoming-slots>
		</main-card>
	</template>

	<script>
		Polymer('user-dash', {
			loginResponse: function() {
				this.data = this.$.loginAjax.response;
			},

			upcomingResponse: function() {
				this.slots = this.$.upcomingAPI.response;
			}
		});
	</script>
</polymer-element>
<!-- Performs actions in the background on logging in. -->



<polymer-element name="on-login" attributes="" assetpath="elements/">

	<template>
			<!-- API call: adds user if not already registered. -->
			<core-ajax id="loginAjax" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/raven/login" handleas="json" on-core-response="{{loginResponse}}">
			</core-ajax>

			<!-- API call to populate sidebar menu. -->
			<core-ajax id="sidebarAjax" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user/groups" handleas="json" on-core-response="{{sidebarResponse}}">
			</core-ajax>
			
			<!-- API call to populate sidebar tick menu. -->
			<core-ajax id="sidebarTickAjax" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user/ticks" handleas="json" on-core-response="{{sidebarTickResponse}}">
			</core-ajax>

			<!-- API call to logout. -->
			<core-ajax id="logoutAjax" method="delete" url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/raven/logout">
			</core-ajax>


	</template>
	<script>
		Polymer('on-login', {
			ready: function() {
				this.$.loginAjax.go();
			},

			loginResponse: function() {
				this.ldap = this.$.loginAjax.response;
				// Do somthing with this.$.loginAjax.response if needed.
				this.$.sidebarAjax.go();
				this.$.sidebarTickAjax.go();
			},
			
			sidebarResponse: function() {
				this.groupItems = this.$.sidebarAjax.response;
			},

			sidebarTickResponse: function() {
				this.tickItems = this.$.sidebarTickAjax.response;
			}
		});
	</script>
</polymer-element>
<!-- Element representing a 'Group' page. -->







<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->



<polymer-element name="paper-dialog-transition" extends="core-transition-css" assetpath="bower_components/paper-dialog/">

<template>
  <style no-shim="">/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt */

:host(.paper-dialog-transition) {
  outline: none;
  opacity: 0;
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

:host(.paper-dialog-transition.core-opened) {
  opacity: 1;
  transform: none;
  -webkit-transform: none;
}

:host(.paper-dialog-transition-bottom) {
  transform: scale(0.9) translateY(200%);
  -webkit-transform: scale(0.9) translateY(200%);
}

:host(.paper-dialog-transition-center.core-opened) {
  animation: paper-dialog-transition-center-keyframes 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-animation: paper-dialog-transition-center-keyframes 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes paper-dialog-transition-center-keyframes {
  0% {
    transform: scale(0.5) translateY(0);
    -webkit-transform: scale(0.5) translateY(0);
  }
  90% {
    transform: scale(1) translateY(-10px);
    -webkit-transform: scale(1) translateY(-10px);
  }
  100% {
    transform: scale(1) translateY(0);
    -webkit-transform: scale(1) translateY(0);
  }
}

@-webkit-keyframes paper-dialog-transition-center-keyframes {
  0% {
    transform: scale(0.5) translateY(0);
    -webkit-transform: scale(0.5) translateY(0);
  }
  90% {
    transform: scale(1) translateY(-10px);
    -webkit-transform: scale(1) translateY(-10px);
  }
  100% {
    transform: scale(1) translateY(0);
    -webkit-transform: scale(1) translateY(0);
  }
}
</style>
</template>

<script>
  Polymer('paper-dialog-transition',{
    baseClass: 'paper-dialog-transition'
  });
</script>

</polymer-element>

<paper-dialog-transition id="paper-dialog-transition-bottom" transitiontype="bottom"></paper-dialog-transition>
<paper-dialog-transition id="paper-dialog-transition-center" transitiontype="center"></paper-dialog-transition>


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
-->

<!--
Provides a dialog overlay.

Child elements that include a `dismissive` attribute are positioned in the lower left corner of the dialog. Elements that use the `affirmative` attribute are positioned in the lower right corner.

Child elements that include the `dismissive` or `affirmative` attribute will automatically toggle the dialog when clicked.

One child element should have the `autofocus` attribute so that the Enter key will automatically take action. This is
especially important for screen reader environments.

Example:

    <paper-dialog heading="Title for dialog">
      <p>Lorem ipsum ....</p>
      <p>Id qui scripta ...</p>
      <paper-button label="More Info..." dismissive></paper-button>
      <paper-button label="Decline" affirmative></paper-button>
      <paper-button label="Accept" affirmative autofocus></paper-button>
    </paper-dialog>

`<paper-dialog>` can be used with `<paper-transition>` to transition the overlay open and close.

Transition examples:

    <paper-dialog heading="Title for dialog" transition="paper-transition-center">

    <paper-dialog heading="Title for dialog" transition="paper-transition-bottom">

@group Paper Elements
@element paper-dialog
@homepage github.io

-->




<polymer-element name="paper-dialog" attributes="opened heading transition autoCloseDisabled backdrop layered closeSelector" role="dialog" assetpath="bower_components/paper-dialog/">

  <template>

    <style>:host {
  background: white;
  color: rgba(0, 0, 0, 0.87);
}

#shadow {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: -1;
}

#container {
  overflow: hidden;
}

#main {
  height: auto;
  -webkit-order: 1;
  -ms-flex-order: 1;
  order: 1;
  padding: 24px;
  overflow: auto;
}

h1 {
  margin: 0;
}

#actions {
  -webkit-order: 2;
  -ms-flex-order: 2;
  order: 2;
  padding: 4px 16px 20px;
}

polymer-next-selector { content: ':host > *'; }
::content > * {
  font: inherit;
  border: 0;
}
</style>

    <div id="shadow">
      <paper-shadow z="3" hasposition=""></paper-shadow>
    </div>

    <core-overlay id="overlay" opened?="{{opened}}" autoclosedisabled?="{{autoCloseDisabled}}" backdrop?="{{backdrop}}" layered?="{{layered}}" target="{{}}" sizingtarget="{{$.container}}" closeselector="{{closeSelector}}" transition="{{transition}}" margin="20"></core-overlay>

    <div id="container" layout="" vertical="">

      <div id="actions" layout="" horizontal="">
        <content select="[dismissive]"></content>
        <div flex="" auto=""></div>
        <content select="[affirmative]"></content>
      </div>

      <div id="main" flex="" auto="">
        <h1>{{heading}}</h1>
        <content></content>
      </div>

    </div>

  </template>

  <script>

    Polymer('paper-dialog', {

      /**
       * Set opened to true to show the dialog and to false to hide it.
       * A dialog may be made intially opened by setting its opened attribute.

       * @attribute opened
       * @type boolean
       * @default false
       */
      opened: false,
    
      /**
       * If true, the dialog has a backdrop darkening the rest of the screen.
       * The backdrop element is attached to the document body and may be styled
       * with the class `core-overlay-backdrop`. When opened the `core-opened`
       * class is applied.
       *
       * @attribute backdrop
       * @type boolean
       * @default false
       */    
      backdrop: false,

      /**
       * If true, the dialog is guaranteed to display above page content.
       *
       * @attribute layered
       * @type boolean
       * @default false
      */
      layered: false,

      /**
       * By default a dialog will close automatically if the user
       * taps outside it or presses the escape key. Disable this
       * behavior by setting the `autoCloseDisabled` property to true.
       * @attribute autoCloseDisabled
       * @type boolean
       * @default false
       */
      autoCloseDisabled: false,

      /**
       * This property specifies a selector matching elements that should
       * close the dialog on tap.
       *
       * @attribute closeSelector
       * @type string
       * @default ""
       */
      closeSelector: '[dismissive],[affirmative]',

      /**
       * @attribute heading
       * @type string
       * @default ''
       */
      heading: '',

      /**
       * Set this property to the id of a <core-transition> element to specify
       * the transition to use when opening/closing this dialog.
       *
       * @attribute transition
       * @type string
       * @default ''
       */
      transition: '',

      /** 
       * Toggle the dialog's opened state.
       * @method toggle
       */
      toggle: function() {
        this.$.overlay.toggle();
      },

      headingChanged: function() {
        this.setAttribute('aria-label', this.heading);
      }

    });

  </script>

</polymer-element>

<!-- List of person-box's -->




<!-- Box/card element representing a person in a list of people in a group. -->



<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->


<core-iconset-svg id="social" iconsize="24">
<svg><defs>
<g id="cake"><path d="M12,5.5c0.8,0,1.5-0.7,1.5-1.5c0-0.3-0.1-0.5-0.2-0.8L12,1l-1.3,2.2c-0.1,0.2-0.2,0.5-0.2,0.8C10.5,4.8,11.2,5.5,12,5.5z M18.5,8H13V6.5h-2V8H5.5C3,8,1,10,1,12.5c0,1.6,0.8,2.9,2,3.7V23h18v-6.8c1.2-0.8,2-2.2,2-3.7C23,10,21,8,18.5,8z M18.5,15c-0.7,0-1.3-0.3-1.8-0.7l-1.5-1.5l-1.5,1.5C13.3,14.7,12.7,15,12,15c-0.7,0-1.3-0.3-1.8-0.7l-1.5-1.5l-1.5,1.5C6.8,14.7,6.2,15,5.5,15C4.1,15,3,13.9,3,12.5S4.1,10,5.5,10h13c1.4,0,2.5,1.1,2.5,2.5S19.9,15,18.5,15z"></g>
<g id="circles"><path d="M16.7,15c-0.8,2.3-3,4-5.7,4c-3.3,0-6-2.7-6-6c0-2.6,1.7-4.8,4-5.7C9,7.2,9,7.1,9,7c0-1,0.2-2,0.5-2.9C5.3,4.8,2,8.5,2,13c0,5,4,9,9,9c4.5,0,8.2-3.3,8.9-7.5C19,14.8,18,15,17,15C16.9,15,16.8,15,16.7,15z"><path d="M17,1c-3.3,0-6,2.7-6,6s2.7,6,6,6c3.3,0,6-2.7,6-6S20.3,1,17,1z M17,10c-1.7,0-3-1.3-3-3s1.3-3,3-3c1.7,0,3,1.3,3,3S18.7,10,17,10z"></g>
<g id="circles-add"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8c4.4,0,8,3.6,8,8S16.4,20,12,20z"><path d="M13,11V8h-2v3H8v2h3v3h2v-3h3v-2H13z"></g>
<g id="circles-extended"><path d="M12,10c2.2,0,4-1.8,4-4c0-2.2-1.8-4-4-4C9.8,2,8,3.8,8,6C8,8.2,9.8,10,12,10z M12,4c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2c-1.1,0-2-0.9-2-2C10,4.9,10.9,4,12,4z M6,13c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C10,14.8,8.2,13,6,13z M6,19c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2C8,18.1,7.1,19,6,19z M12,11.1c-1,0-1.9,0.9-1.9,1.9s0.9,1.9,1.9,1.9c1,0,1.9-0.9,1.9-1.9S13,11.1,12,11.1z M18,13c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C22,14.8,20.2,13,18,13z M18,19c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2C20,18.1,19.1,19,18,19z"></g>
<g id="communities"><path d="M9,12c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S10.1,12,9,12z M14,9c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2s0.9,2,2,2C13.1,11,14,10.1,14,9z M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8c0-4.4,3.6-8,8-8c4.4,0,8,3.6,8,8C20,16.4,16.4,20,12,20z M15,12c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2S16.1,12,15,12z"></g>
<g id="domain"><path d="M12,7V3H2v18h20V7H12z M6,19H4v-2h2V19z M6,15H4v-2h2V15z M6,11H4V9h2V11z M6,7H4V5h2V7z M10,19H8v-2h2V19z M10,15H8v-2h2V15z M10,11H8V9h2V11z M10,7H8V5h2V7z M20,19h-8v-2h2v-2h-2v-2h2v-2h-2V9h8V19z M18,11h-2v2h2V11z M18,15h-2v2h2V15z"></g>
<g id="group"><path d="M16,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3C13,9.7,14.3,11,16,11z M8,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3C6.3,5,5,6.3,5,8C5,9.7,6.3,11,8,11z M8,13c-2.3,0-7,1.2-7,3.5V19h14v-2.5C15,14.2,10.3,13,8,13z M16,13c-0.3,0-0.6,0-1,0.1c1.2,0.8,2,2,2,3.4V19h6v-2.5C23,14.2,18.3,13,16,13z"></g>
<g id="group-add"><path d="M8,10H5V7H3v3H0v2h3v3h2v-3h3V10z M18,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-0.3,0-0.6,0.1-0.9,0.1C17.7,6,18,6.9,18,8s-0.3,2-0.9,2.9C17.4,10.9,17.7,11,18,11z M13,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3C10,9.7,11.3,11,13,11z M19.6,13.2c0.8,0.7,1.4,1.7,1.4,2.8v2h3v-2C24,14.5,21.6,13.5,19.6,13.2z M13,13c-2,0-6,1-6,3v2h12v-2C19,14,15,13,13,13z"></g>
<g id="location-city"><path d="M15,11V5l-3-3L9,5v2H3v14h18V11H15z M7,19H5v-2h2V19z M7,15H5v-2h2V15z M7,11H5V9h2V11z M13,19h-2v-2h2V19z M13,15h-2v-2h2V15z M13,11h-2V9h2V11z M13,7h-2V5h2V7z M19,19h-2v-2h2V19z M19,15h-2v-2h2V15z"></g>
<g id="mood"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M15.5,8C16.3,8,17,8.7,17,9.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5C14,8.7,14.7,8,15.5,8z M8.5,8C9.3,8,10,8.7,10,9.5c0,0.8-0.7,1.5-1.5,1.5C7.7,11,7,10.3,7,9.5C7,8.7,7.7,8,8.5,8z M12,18c-2.6,0-4.8-1.7-5.6-4h11.2C16.8,16.3,14.6,18,12,18z"></g>
<g id="notifications"><path d="M11.5,22c1.1,0,2-0.9,2-2h-4C9.5,21.1,10.4,22,11.5,22z M18,16v-5.5c0-3.1-2.1-5.6-5-6.3V3.5C13,2.7,12.3,2,11.5,2C10.7,2,10,2.7,10,3.5v0.7c-2.9,0.7-5,3.2-5,6.3V16l-2,2v1h17v-1L18,16z"></g>
<g id="notifications-none"><path d="M11.5,22c1.1,0,2-0.9,2-2h-4C9.5,21.1,10.4,22,11.5,22z M18,16v-5.5c0-3.1-2.1-5.6-5-6.3V3.5C13,2.7,12.3,2,11.5,2C10.7,2,10,2.7,10,3.5v0.7c-2.9,0.7-5,3.2-5,6.3V16l-2,2v1h17v-1L18,16z M16,17H7v-6.5C7,8,9,6,11.5,6C14,6,16,8,16,10.5V17z"></g>
<g id="notifications-off"><path d="M11.5,22c1.1,0,2-0.9,2-2h-4C9.5,21.1,10.4,22,11.5,22z M18,10.5c0-3.1-2.1-5.6-5-6.3V3.5C13,2.7,12.3,2,11.5,2C10.7,2,10,2.7,10,3.5v0.7C9.5,4.3,9,4.5,8.6,4.7l9.4,9.4V10.5z M17.7,19l2,2l1.3-1.3L4.3,3L3,4.3l2.9,2.9C5.3,8.2,5,9.3,5,10.5V16l-2,2v1H17.7z"></g>
<g id="notifications-on"><path d="M6.6,3.6L5.2,2.2C2.8,4,1.2,6.8,1,10h2C3.2,7.3,4.5,5,6.6,3.6z M20,10h2c-0.2-3.2-1.7-6-4.1-7.8l-1.4,1.4C18.5,5,19.8,7.3,20,10z M18,10.5c0-3.1-2.1-5.6-5-6.3V3.5C13,2.7,12.3,2,11.5,2C10.7,2,10,2.7,10,3.5v0.7c-2.9,0.7-5,3.2-5,6.3V16l-2,2v1h17v-1l-2-2V10.5z M11.5,22c0.1,0,0.3,0,0.4,0c0.7-0.1,1.2-0.6,1.4-1.2c0.1-0.2,0.2-0.5,0.2-0.8h-4C9.5,21.1,10.4,22,11.5,22z"></g>
<g id="notifications-paused"><path d="M11.5,22c1.1,0,2-0.9,2-2h-4C9.5,21.1,10.4,22,11.5,22z M18,16v-5.5c0-3.1-2.1-5.6-5-6.3V3.5C13,2.7,12.3,2,11.5,2C10.7,2,10,2.7,10,3.5v0.7c-2.9,0.7-5,3.2-5,6.3V16l-2,2v1h17v-1L18,16z M14,9.8l-2.8,3.4H14V15H9v-1.8l2.8-3.4H9V8h5V9.8z"></g>
<g id="pages"><path d="M3,5v6h5L7,7l4,1V3H5C3.9,3,3,3.9,3,5z M8,13H3v6c0,1.1,0.9,2,2,2h6v-4.8L7,17L8,13z M17,17l-4-0.8V21h6c1.1,0,2-0.9,2-2v-6h-4.8L17,17z M19,3h-6v5l4-1l-1,4h5V5C21,3.9,20.1,3,19,3z"></g>
<g id="party-mode"><path d="M20,4h-3.2L15,2H9L7.2,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M12,7c1.6,0,3.1,0.8,4,2h-4c-1.7,0-3,1.3-3,3c0,0.4,0.1,0.7,0.2,1H7.1C7,12.7,7,12.3,7,12C7,9.2,9.2,7,12,7z M12,17c-1.6,0-3.1-0.8-4-2h4c1.7,0,3-1.3,3-3c0-0.4-0.1-0.7-0.2-1h2.1c0.1,0.3,0.1,0.7,0.1,1C17,14.8,14.8,17,12,17z"></g>
<g id="people"><path d="M16,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3C13,9.7,14.3,11,16,11z M8,11c1.7,0,3-1.3,3-3c0-1.7-1.3-3-3-3C6.3,5,5,6.3,5,8C5,9.7,6.3,11,8,11z M8,13c-2.3,0-7,1.2-7,3.5V19h14v-2.5C15,14.2,10.3,13,8,13z M16,13c-0.3,0-0.6,0-1,0.1c1.2,0.8,2,2,2,3.4V19h6v-2.5C23,14.2,18.3,13,16,13z"></g>
<g id="person"><path d="M12,12c2.2,0,4-1.8,4-4c0-2.2-1.8-4-4-4C9.8,4,8,5.8,8,8C8,10.2,9.8,12,12,12z M12,14c-2.7,0-8,1.3-8,4v2h16v-2C20,15.3,14.7,14,12,14z"></g>
<g id="person-add"><path d="M15,12c2.2,0,4-1.8,4-4c0-2.2-1.8-4-4-4c-2.2,0-4,1.8-4,4C11,10.2,12.8,12,15,12z M6,10V7H4v3H1v2h3v3h2v-3h3v-2H6z M15,14c-2.7,0-8,1.3-8,4v2h16v-2C23,15.3,17.7,14,15,14z"></g>
<g id="person-outline"><path d="M12,5.9c1.2,0,2.1,0.9,2.1,2.1s-0.9,2.1-2.1,2.1S9.9,9.2,9.9,8S10.8,5.9,12,5.9 M12,14.9c3,0,6.1,1.5,6.1,2.1v1.1H5.9V17C5.9,16.4,9,14.9,12,14.9 M12,4C9.8,4,8,5.8,8,8c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,5.8,14.2,4,12,4L12,4z M12,13c-2.7,0-8,1.3-8,4v3h16v-3C20,14.3,14.7,13,12,13L12,13z"></g>
<g id="plus-one"><polygon points="10,8 8,8 8,12 4,12 4,14 8,14 8,18 10,18 10,14 14,14 14,12 10,12 "><polygon points="14.5,6.1 14.5,7.9 17,7.4 17,18 19,18 19,5 "></polygon></polygon></g>
<g id="poll"><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M9,17H7v-7h2V17z M13,17h-2V7h2V17z M17,17h-2v-4h2V17z"></g>
<g id="post-blogger"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M16,9v1c0,0.6,0.4,1,1,1c0.6,0,1,0.4,1,1v3c0,1.7-1.3,3-3,3H9c-1.7,0-3-1.3-3-3V8c0-1.7,1.3-3,3-3h4c1.7,0,3,1.3,3,3V9z M10,10h2.6c0.6,0,1-0.4,1-1c0-0.6-0.4-1-1-1H10C9.4,8,9,8.4,9,9C9,9.6,9.4,10,10,10z M14,13h-4c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1C15,13.4,14.6,13,14,13z"></g>
<g id="post-facebook"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M19,4v3h-2c-0.6,0-1,0.4-1,1v2h3v3h-3v7h-3v-7h-2v-3h2V7.5C13,5.6,14.6,4,16.5,4H19z"></g>
<g id="post-gplus"><path d="M11.2,8.9c0-1-0.6-3-2.1-3c-0.6,0-1.3,0.4-1.3,1.7c0,1.2,0.6,2.9,2,2.9C9.8,10.5,11.2,10.4,11.2,8.9z M10.6,13.8c-0.1,0-0.2,0-0.3,0h0c-0.3,0-1.2,0.1-1.8,0.3C7.8,14.3,7,14.8,7,15.8c0,1.1,1,2.2,3,2.2c1.5,0,2.4-1,2.4-2C12.4,15.3,11.9,14.8,10.6,13.8z M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M9.1,19.2c-2.8,0-4.1-1.6-4.1-3c0-0.5,0.1-1.6,1.5-2.4c0.8-0.5,1.8-0.8,3.1-0.9c-0.2-0.2-0.3-0.5-0.3-1c0-0.2,0-0.3,0.1-0.5H9c-2,0-3.2-1.5-3.2-3c0-1.7,1.3-3.6,4.1-3.6h4.2l-0.3,0.3l-0.7,0.7L13,5.9h-0.7c0.4,0.4,0.9,1.1,0.9,2.2c0,1.4-0.7,2.1-1.6,2.7c-0.2,0.1-0.4,0.4-0.4,0.7c0,0.3,0.2,0.5,0.4,0.6c0.1,0.1,0.3,0.2,0.5,0.3c0.8,0.6,1.9,1.3,1.9,2.9C14,17.1,12.7,19.2,9.1,19.2z M19,12h-2v2h-1v-2h-2v-1h2V9h1v2h2V12z"></g>
<g id="post-instagram"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M12,8c2.2,0,4,1.8,4,4s-1.8,4-4,4c-2.2,0-4-1.8-4-4S9.8,8,12,8z M4.5,20C4.2,20,4,19.8,4,19.5V11h2.1C6,11.3,6,11.7,6,12c0,3.3,2.7,6,6,6c3.3,0,6-2.7,6-6c0-0.3,0-0.7-0.1-1H20v8.5c0,0.3-0.2,0.5-0.5,0.5H4.5z M20,6.5C20,6.8,19.8,7,19.5,7h-2C17.2,7,17,6.8,17,6.5v-2C17,4.2,17.2,4,17.5,4h2C19.8,4,20,4.2,20,4.5V6.5z"></g>
<g id="post-linkedin"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M8,19H5v-9h3V19z M6.5,8.3c-1,0-1.8-0.8-1.8-1.8s0.8-1.8,1.8-1.8s1.8,0.8,1.8,1.8S7.5,8.3,6.5,8.3z M19,19h-3v-5.3c0-0.8-0.7-1.5-1.5-1.5c-0.8,0-1.5,0.7-1.5,1.5V19h-3v-9h3v1.2c0.5-0.8,1.6-1.4,2.5-1.4c1.9,0,3.5,1.6,3.5,3.5V19z"></g>
<g id="post-pinterest"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M13,16.2c-0.8,0-1.6-0.3-2.1-0.9l-1,3.2l-0.1,0.2l0,0c-0.2,0.3-0.5,0.5-0.9,0.5c-0.6,0-1.1-0.5-1.1-1.1c0-0.1,0-0.1,0-0.1l0,0l0.1-0.2l1.8-5.6c0,0-0.2-0.6-0.2-1.5c0-1.7,0.9-2.2,1.7-2.2c0.7,0,1.4,0.3,1.4,1.3c0,1.3-0.9,2-0.9,3c0,0.7,0.6,1.3,1.3,1.3c2.3,0,3.2-1.8,3.2-3.4c0-2.2-1.9-4-4.2-4c-2.3,0-4.2,1.8-4.2,4c0,0.7,0.2,1.3,0.5,1.9c0.1,0.2,0.1,0.3,0.1,0.5c0,0.6-0.4,1-1,1c-0.4,0-0.7-0.2-0.9-0.5c-0.5-0.9-0.8-1.9-0.8-3c0-3.3,2.8-6,6.2-6c3.4,0,6.2,2.7,6.2,6C18.2,13.4,16.6,16.2,13,16.2z"></g>
<g id="post-tumblr"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M16,11h-3c0,0,0,3.8,0,3.9c0,0.7,0.1,1.1,1.1,1.1c0.9,0,1.9,0,1.9,0v3c0,0-1,0.1-2.1,0.1c-2.6,0-3.9-1.6-3.9-3.4c0-1.2,0-4.7,0-4.7H8V8.2c2.4-0.2,2.6-2,2.8-3.2H13v3h3V11z"></g>
<g id="post-twitter"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M17.7,9.3c-0.1,4.6-3,7.8-7.4,8c-1.8,0.1-3.1-0.5-4.3-1.2c1.3,0.2,3-0.3,3.9-1.1c-1.3-0.1-2.1-0.8-2.5-1.9c0.4,0.1,0.8,0,1.1,0c-1.2-0.4-2-1.1-2.1-2.7c0.3,0.2,0.7,0.3,1.1,0.3c-0.9-0.5-1.5-2.4-0.8-3.6c1.3,1.4,2.9,2.6,5.5,2.8c-0.7-2.8,3.1-4.3,4.6-2.4c0.7-0.1,1.2-0.4,1.7-0.6c-0.2,0.7-0.6,1.1-1.1,1.5c0.5-0.1,1-0.2,1.4-0.4C18.7,8.5,18.2,8.9,17.7,9.3z"></g>
<g id="public"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M11,19.9c-3.9-0.5-7-3.9-7-7.9c0-0.6,0.1-1.2,0.2-1.8L9,15v1c0,1.1,0.9,2,2,2V19.9z M17.9,17.4c-0.3-0.8-1-1.4-1.9-1.4h-1v-3c0-0.6-0.4-1-1-1H8v-2h2c0.6,0,1-0.4,1-1V7h2c1.1,0,2-0.9,2-2V4.6c2.9,1.2,5,4.1,5,7.4C20,14.1,19.2,16,17.9,17.4z"></g>
<g id="school"><path d="M5,13.2v4l7,3.8l7-3.8v-4L12,17L5,13.2z M12,3L1,9l11,6l9-4.9V17h2V9L12,3z"></g>
<g id="share"><path d="M21,11l-7-7v4C7,9,4,14,3,19c2.5-3.5,6-5.1,11-5.1V18L21,11z"></g>
<g id="share-alt"><path d="M18,9c-0.8,0-1.5,0.3-2,0.8L8.9,5.7C9,5.5,9,5.2,9,5c0-1.7-1.3-3-3-3C4.3,2,3,3.3,3,5s1.3,3,3,3c0.8,0,1.5-0.3,2-0.8l7.1,4.1C15,11.5,15,11.8,15,12s0,0.5,0.1,0.7L8,16.9c-0.5-0.5-1.2-0.8-2-0.8c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9c0-0.2,0-0.4-0.1-0.7l7.1-4.2c0.5,0.5,1.2,0.8,2,0.8c1.7,0,3-1.3,3-3S19.7,9,18,9z"></g>
<g id="whatshot"><path d="M14,2c0,0,0.6,2.5,0.6,4.5c0,1.9-1.3,3.5-3.2,3.5C9.5,10,8,8.4,8,6.5l0-0.3c-1.9,2.3-3,5.2-3,8.3c0,4.1,3.4,7.5,7.5,7.5c4.1,0,7.5-3.4,7.5-7.5C20,9.4,17.7,4.9,14,2z M12.5,19c-1.7,0-3-1.3-3-2.9c0-1.5,1-2.6,2.6-2.9c1.7-0.3,3.4-1.1,4.3-2.4c0.4,1.2,0.6,2.5,0.6,3.8C17,17,15,19,12.5,19z"></g>
</defs></svg>
</core-iconset-svg>



<polymer-element name="person-box" attributes="name crsid college isStudent" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
				border-radius: 2px;
				position: relative;
			}

			h1 {
				margin: 0;
				font-size: 1.4rem;
				font-weight: 100;
			}

			h2 {
				margin: 0;
				font-size: 0.7rem;
				color: #808080;
				font-weight: 300;
			}

			core-icon {
				color: rgb(112, 81, 236);
			}

			#container {
				padding: 10px;
			}
		</style>

		<div layout="" horizontal="" center="">
			<core-icon flex="" icon="{{icon}}" size="40"></core-icon>
			<div id="container" layout="" vertical="">
				<h1>{{name}}</h1>
				<div layout="" horizontal="" center="">
					<h2 flex="">{{college}}</h2>
					<h2>{{crsid}}</h2>
				</div>
				<paper-ripple class="recenteringTouch" fit=""></paper-ripple>
			</div>
		</div>
	</template>
	<script>
		Polymer('person-box', {
			domReady: function() {
				this.icon = "social:person"
				if (this.isStudent) {
					this.icon = "social:school";
				}
			}
		});
	</script>
</polymer-element>

<polymer-element name="person-list" attributes="people boxWidth query" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
				width: 100%;
			}
			core-selector {
				width: 100%;
				height: 100%;
			}
			person-box {
				width: calc(100% / 3);
			}
			person-box:nth-child(odd) {
				background: #f6f6f6;
			}
			person-box:nth-child(even) {
				background: #e9e9e9;
			}

			/* Styles of selected box. */
			person-box.core-selected{
				background: linear-gradient(#E1BEE7, #D697EE);
				color: #6300CE;
			}
			person-box.core-selected::shadow h2 {
				color: #000;
			}
			person-box::shadow paper-ripple {
				color: #3C00FF;
			}
		</style>
		<core-selector multi="" layout="" horizontal="" center="" wrap="" id="memberSelector" valueattr="crsid">
			<template repeat="{{person in people | filter(query) }}">
					<person-box name="{{person.displayName}}" crsid="{{person._id}}" college="{{person.college == &apos;Unknown&apos; ? &apos;&apos; : person.college}}" isstudent="{{person.isStudent}}">
					</person-box>	
			</template>	
		</core-selector>
	</template>
	<script>
		Polymer('person-list', {

			listFilter: function(item) {
				var q = this.query.toLowerCase();
				return (item.displayName.toLowerCase().indexOf(q) > -1 ||
						item._id.toLowerCase().indexOf(q) > -1 ||
						item.college.toLowerCase().indexOf(q) > -1);
			},

			filter: function(items, q) {
				if (items && q) {
					return items.filter(this.listFilter.bind(this));
				}
				return items;
			}
		});
	</script>
</polymer-element>




<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
-->

<!--
`paper-input` is a single- or multi-line text field where user can enter input.
It can optionally have a label.

Example:

    <paper-input label="Your Name"></paper-input>
    <paper-input multiline label="Enter multiple lines here"></paper-input>

@group Paper Elements
@element paper-input
@extends core-input
@homepage github.io
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
-->

<!--
/**
 * core-input is an unstyled single- or multi-line text field where user can
 * enter input.
 *
 * Example:
 *
 *     <core-input placeholder="Placeholder text here"></core-input>
 *
 *     <core-input multiline placeholder="Enter multiple lines here"></core-input>
 *
 * The text input's value is considered "committed" if the user hits the `enter`
 * key or blurs the input after changing the value. The "change" event is fired
 * when the value becomes committed, and the committed value is stored in the
 * "value" property. The current value of the input is stored in the "inputValue"
 * property.
 *
 * core-input also can optionally validate the value by providing it with a
 * regular expression to match against, or a validation function. The
 * "input-invalid" event is fired if the input value changes and is invalid.
 * The "invalid" property is also available for observation.
 *
 * Example:
 *
 *     // valid only if the value is a number
 *     <core-input validate="^[0-9]*$" on-input-invalid="{{inputInvalidAction}}"></core-input>
 *
 *     this.$.input.validate = /^[0-9]*$/;  // valid only if the value is a number
 *
 *     this.$.input2.validate = function(value) {
 *       return value === 'foo';  // valid only if the value is 'foo'
 *     }
 *
 * @group Polymer Core Elements
 * @element core-input
 * @homepage github.io
 */
-->

<!--
Fired when the inputValue of is changed. This is the same event as the DOM
"input" event.

@event input
-->

<!--
Fired when the user commits the value of the input, either by the hitting the
`enter` key or blurring the input after the changing the inputValue. Also see the
DOM "change" event.

@event change
-->

<!--
Fired when the inputValue of this text input changes and fails validation.

@event input-invalid
@param {Object} detail
@param {string} value The text input's inputValue.
-->

<!--
Fired when the inputValue of this text input changes and passes validation.

@event input-valid
@param {Object} detail
@param {string} value The text input's inputValue.
-->


<polymer-element name="core-input" assetpath="bower_components/core-input/">

  <template>

    <style>:host {
  display: inline-block;
  text-align: inherit;
  color: #ccc;
  position: relative;
  width: 20em;
}

:host:hover {
  cursor: text;
}

input,
textarea {
  font: inherit;
  width: 100%;
  margin: 0;
  padding: 0;
  background-color: transparent;
  border: none;
  outline: none;
  width: 100%;
}

textarea {
  resize: none;
}

textarea[fit] {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}</style>

    <template if="{{multiline}}">
      <textarea id="input" value="{{inputValue}}" rows="{{rows}}" fit?="{{rows === &apos;fit&apos;}}" disabled?="{{disabled}}" placeholder="{{placeholder}}" required?="{{required}}" readonly?="{{readonly}}" aria-label="{{label || placeholder}}" aria-invalid="{{invalid}}" on-change="{{inputChangeAction}}" on-focus="{{focusAction}}" on-blur="{{blurAction}}"></textarea>
    </template>

    <template if="{{!multiline}}">
      <input id="input" value="{{inputValue}}" disabled?="{{disabled}}" type="{{type}}" placeholder="{{placeholder}}" required?="{{required}}" readonly?="{{readonly}}" aria-label="{{label || placeholder}}" aria-invalid="{{invalid}}" on-change="{{inputChangeAction}}" on-focus="{{focusAction}}" on-blur="{{blurAction}}">
    </template>

  </template>

  <script>

    Polymer('core-input', {
      publish: {
        /**
         * Placeholder text that hints to the user what can be entered in
         * the input.
         *
         * @attribute placeholder
         * @type string
         * @default ''
         */
        placeholder: '',
  
        /**
         * If true, this input cannot be focused and the user cannot change
         * its value.
         *
         * @attribute disabled
         * @type boolean
         * @default false
         */
        disabled: false,
  
        /**
         * Set the input type. Not supported for `multiline`.
         *
         * @attribute type
         * @type string
         * @default text
         */
        type: 'text',

        /**
         * If true, the user cannot modify the value of the input.
         *
         * @attribute readonly
         * @type boolean
         * @default false
         */
        readonly: false,

        /**
         * If true, the input is invalid until the value becomes non-null.
         *
         * @attribute required
         * @type boolean
         * @default false
         */
        required: false,
        
        /**
         * If true, this input accepts multi-line input like a `<textarea>`
         *
         * @attribute multiline
         * @type boolean
         * @default false
         */
        multiline: false,
  
        /**
         * (multiline only) The height of this text input in rows. The input
         * will scroll internally if more input is entered beyond the size
         * of the component. This property is meaningless if multiline is
         * false. You can also set this property to "fit" and size the
         * component with CSS to make the input fit the CSS size.
         *
         * @attribute rows
         * @type number|'fit'
         * @default 'fit'
         */
        rows: 'fit',
  
        /**
         * The current value of this input. Changing inputValue programmatically
         * will cause value to be out of sync. Instead, change value directly
         * or call commit() after changing inputValue.
         *
         * @attribute inputValue
         * @type string
         * @default ''
         */
        inputValue: '',
  
        /**
         * The value of the input committed by the user, either by changing the
         * inputValue and blurring the input, or by hitting the `enter` key.
         *
         * @attribute value
         * @type string
         * @default ''
         */
        value: '',
  
        /**
         * If this property is not null, the text input's inputValue will be
         * validated. You can validate the value with either a regular expression
         * or a custom function.
         *
         * To use a regular expression, set this property to a RegExp object or
         * a string containing the regular expression to match against. To use a
         * custom validator, set this property to a function with the signature
         * function(value) that returns a boolean. The input is valid if the
         * function returns true.
         *
         * Example:
         *
         *     // valid only if the value is a number
         *     <core-input validate="^[0-9]*$"></core-input> 
         * 
         *     // valid only if the value is a number
         *     this.$.input.validate = /^[0-9]*$/;
         *
         *     this.$.input2.validate = function(value) {
         *         // valid only if the value is 'foo'
         *         return value === 'foo';  
         *     }
         *
         * @attribute validate
         * @type string|RegExp|Function(value)
         * @default null
         */
        validate: null,
  
        /**
         * If this property is true, the text input's inputValue failed validation.
         *
         * @attribute invalid
         * @type boolean
         * @default false
         */
        invalid: false,
      },
      
      validateValue: function() {
        var valid = true;

        if (this.validate) {

          if (!this.inputValue) {
            valid = !this.required;
          } else if (typeof this.validate === 'string') {
            valid = new RegExp(this.validate).exec(this.inputValue);
          } else if (this.validate.exec) {
            valid = this.validate.exec(this.inputValue);
          } else if (this.validate instanceof Function) {
            valid = this.validate.call(this, this.inputValue);
          }

        } else if (this.required) {
          valid = !!this.inputValue;
        }

        this.invalid = !valid;
      },

      invalidChanged: function() {
        this.classList.toggle('invalid', this.invalid);
        if (this.invalid) {
          this.fire('input-invalid', {value: this.inputValue});
        } else {
          this.fire('input-valid', {value: this.inputValue});
        }
      },

      inputValueChanged: function() {
        if (this.validate || this.required) {
          this.validateValue();
        }
      },

      valueChanged: function() {
        this.inputValue = this.value;
      },

      requiredChanged: function() {
        this.validateValue();
      },

      /**
       * Commits the inputValue to value.
       *
       * @method commit
       */
      commit: function() {
         this.value = this.inputValue;
      },

      inputChangeAction: function() {
        this.commit();
        if (!window.ShadowDOMPolyfill) {
          // re-fire non-bubbling event
          this.fire('change', null, this, false);
        }
      },

      focusAction: function() {
        // re-fire non-bubbling event
        this.fire('focus', null, this, false);
      },

      blurAction: function() {
        // re-fire non-bubbling event
        this.fire('blur', null, this, false);
      }

    });

    CoreInput = function() {
      return document.createElement('core-input');
    };
    CoreInput.validate = {
      number: /^[0-9]*$/
    };
  </script>

</polymer-element>


<polymer-element name="paper-input" extends="core-input" attributes="label floatingLabel maxRows error" on-down="{{downAction}}" on-up="{{upAction}}" assetpath="bower_components/paper-input/">

  <template>

    <style>:host {
  display: inline-block;
  outline: none;
  text-align: inherit;
  color: #757575;
}
:host(:hover) {
  cursor: text;
}

#container {
  position: relative;
}

#inputClone,
#minInputHeight,
#maxInputHeight {
  position: absolute;
  top: 0;
  left: 0;
  visibility: hidden;
  padding: 0.5em 0;
}

:host /deep/ input,
:host /deep/ textarea {
  font: inherit;
  color: #000;
  padding: 0;
  /* Important to use margin here so the margin remains visible
   * when textarea scrolls internally. */
  margin: 0.5em 0;
  background-color: transparent;
  border: none;
  outline: none;
  width: 100%;
}

.host /deep/ textarea {
  resize: none;
}

.focusedColor {
  color: #4059a9;
  background: #4059a9;
}

:host(.invalid) #underline,
:host(.invalid) #underlineHighlight,
:host(.invalid) .focusedColor {
  color: #d34336;
  background: #d34336;
}
:host(.invalid) #floatedLabel {
  color: #d34336;
}

#floatedLabel {
  font-size: 0.75em;
  background: transparent;
  white-space: nowrap;
}
#floatedLabel.hidden {
  visibility: hidden;
}
#floatedLabel.focused {
  visibility: visible;
}

#label {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  padding: 0.5em 0;
  background: transparent;
  -webkit-transform-origin: 0% 0%;
  transform-origin: 0% 0%;
}
#label.hidden {
  display: none;
}
#label.animating {
  /* TODO: transforms are unprefixed in M36/ Remove when stable. */
  -webkit-transition: -webkit-transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
  transition: transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
}

#labelSpan {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  max-width: 100%;
}

#errorContainer {
  visibility: hidden;
  display: -webkit-flex;
  display: flex;
  -webkit-align-items: center;
  align-items: center;
}

:host(.invalid) #errorContainer {
  visibility: visible;
}

#error {
  -webkit-flex: 1;
  flex: 1;
  color: #d34336;
  font-size: 0.75em;
  padding: 0.5em 0;
}

#errorIcon {
  background-image: url(bower_components/paper-input/error-100.png);
  background-size: 24px 24px;
  height: 24px;
  width: 24px;
}


@media (min-resolution: 2dppx) {
  #errorIcon {
    background-image: url(bower_components/paper-input/error-200.png);
    background-size: 24px 24px;
  }
}

#underlineContainer {
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1;
}

:host([multiline]) #underlineContainer {
  bottom: auto;
}

:host([multiline]) #underlineContainer.animating {
  -webkit-transition: top 0.2s ease-in;
  transition: top 0.2s ease-in;
}

#underline {
  height: 1px;
  background: #757575;
  border-bottom-color: #757575;
}

:host([disabled]) #underline {
  border-bottom: 1px dashed;
  height: 0px;
  background: transparent;
}

#underlineHighlight {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 2px;
  -webkit-transform: scale(0,2);
  transform: scale(0,2);
}
#underlineHighlight.pressed {
  -webkit-transform: scale(0.1,2);
  transform: scale(0.1,2);
  /* TODO: transforms are unprefixed in M36/ Remove when stable. */
  -webkit-transition: -webkit-transform 0.1s cubic-bezier(0.2, 0, 0.03, 1);
  transition: transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
}
#underlineHighlight.animating {
  /* TODO: transforms are unprefixed in M36/ Remove when stable. */
  -webkit-transition: -webkit-transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
  transition: transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
}
#underlineHighlight.focused {
  -webkit-transform: scale(1);
  transform: scale(1);
}

#caret {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0;
  -webkit-transform-origin-x: 0%;
  transform-origin-x: 0%;
  -webkit-transform: scaleX(1) translateX(10%);
  transform: scaleX(1) translateX(10%);
}
#caret.animating {
  display: block;
   /* TODO: transforms are unprefixed in M36/ Remove when stable. */
  -webkit-transition: -webkit-transform 0.2s ease-out, opacity 0.2s ease-out;
  transition: transform 0.3s cubic-bezier(0.2, 0, 0.03, 1);
}
#caret.focused {
  display: block;
  opacity: 0.75;
  -webkit-transform: scaleX(0) translateX(0);
  transform: scaleX(0) translateX(0);
}
#caretInner {
  position: absolute;
  top: 0.6em;
  left: 0;
  height: 1.2em;
  width: 25%;
}
</style>

    <div id="floatedLabel" class="hidden" hidden?="{{!floatingLabel}}"><span id="floatedLabelSpan">{{label}}</span></div>

    <div id="container" on-transitionend="{{transitionEndAction}}" on-webkittransitionend="{{transitionEndAction}}">

      <div id="label"><span id="labelSpan">{{label}}</span></div>

      <div id="inputContainer">

        <div id="inputClone">
          <span id="inputCloneSpan" aria-hidden="true">&#xA0;</span>
        </div>

        <template if="{{multiline}}">
          <div id="minInputHeight"></div>
          <div id="maxInputHeight"></div>
        </template>

        <shadow></shadow>

      </div>

      <div id="underlineContainer">
        <div id="underline"></div>
        <div id="underlineHighlight" class="focusedColor"></div>
      </div>

      <div id="caret">
        <div id="caretInner" class="focusedColor"></div>
      </div>

    </div>

    <div id="errorContainer">
      <div id="error" role="alert" aria-hidden="{{!invalid}}">{{error}}</div>
      <div id="errorIcon"></div>
    </div>

  </template>

  <script>

    Polymer('paper-input', {

      /**
       * The label for this input. It normally appears as grey text inside
       * the text input and disappears once the user enters text.
       *
       * @attribute label
       * @type string
       * @default ''
       */
      label: '',

      /**
       * If true, the label will "float" above the text input once the
       * user enters text instead of disappearing.
       *
       * @attribute floatingLabel
       * @type boolean
       * @default false
       */
      floatingLabel: false,

      /**
       * (multiline only) If set to a non-zero value, the height of this
       * text input will grow with the value changes until it is maxRows
       * rows tall. If the maximum size does not fit the value, the text
       * input will scroll internally.
       *
       * @attribute maxRows
       * @type number
       * @default 0
       */
      maxRows: 0,

      focused: false,
      pressed: false,

      attached: function() {
        if (this.multiline) {
          this.resizeInput();
          window.requestAnimationFrame(function() {
            this.$.underlineContainer.classList.add('animating');
          }.bind(this));
        }
      },

      resizeInput: function() {
        var height = this.$.inputClone.getBoundingClientRect().height;
        var bounded = this.maxRows > 0 || this.rows > 0;
        if (bounded) {
          var minHeight = this.$.minInputHeight.getBoundingClientRect().height;
          var maxHeight = this.$.maxInputHeight.getBoundingClientRect().height;
          height = Math.max(minHeight, Math.min(height, maxHeight));
        }
        this.$.inputContainer.style.height = height + 'px';
        this.$.underlineContainer.style.top = height + 'px';
      },

      rowsChanged: function() {
        if (this.multiline && !isNaN(parseInt(this.rows))) {
          this.$.minInputHeight.innerHTML = '';
          for (var i = 0; i < this.rows; i++) {
            this.$.minInputHeight.appendChild(document.createElement('br'));
          }
          this.resizeInput();
        }
      },

      maxRowsChanged: function() {
        if (this.multiline && !isNaN(parseInt(this.maxRows))) {
          this.$.maxInputHeight.innerHTML = '';
          for (var i = 0; i < this.maxRows; i++) {
            this.$.maxInputHeight.appendChild(document.createElement('br'));
          }
          this.resizeInput();
        }
      },

      inputValueChanged: function() {
        this.super();

        if (this.multiline) {
          var escaped = this.inputValue.replace(/\n/gm, '<br>');
          if (!escaped || escaped.lastIndexOf('<br>') === escaped.length - 4) {
            escaped += '&nbsp';
          }
          this.$.inputCloneSpan.innerHTML = escaped;
          this.resizeInput();
        }

        if (!this.floatingLabel) {
          this.$.label.classList.toggle('hidden', this.inputValue);
        }

        if (this.floatingLabel && !this.focused) {
          this.$.label.classList.toggle('hidden', this.inputValue);
          this.$.floatedLabel.classList.toggle('hidden', !this.inputValue);
        }
      },

      labelChanged: function() {
        if (this.floatingLabel && this.$.floatedLabel && this.$.label) {
          var toRect = this.$.floatedLabelSpan.getBoundingClientRect();
          var fromRect = this.$.labelSpan.getBoundingClientRect();
          this.$.label.cachedTransform = 'scale(' + (toRect.width / fromRect.width) + ') ' +
            'translateY(' + (toRect.bottom - fromRect.bottom) + 'px)'
        }
      },

      placeholderChanged: function() {
        this.label = this.placeholder;
      },

      focusAction: function(e) {
        if (!this.pressed) {
          if (this.floatingLabel) {
            this.$.floatedLabel.classList.remove('hidden');
            this.$.floatedLabel.classList.add('focused');
            this.$.floatedLabel.classList.add('focusedColor');
          }
          this.$.label.classList.add('hidden');
          this.$.underlineHighlight.classList.add('focused');
          this.$.caret.classList.add('focused');
          this.$.input.focus();
        }
        this.focused = true;
      },

      blurAction: function() {
        this.$.underlineHighlight.classList.remove('focused');
        this.$.caret.classList.remove('focused');
        if (this.floatingLabel) {
          this.$.floatedLabel.classList.remove('focused');
          this.$.floatedLabel.classList.remove('focusedColor');
          if (!this.inputValue) {
            this.$.floatedLabel.classList.add('hidden');
          }
        }
        if (!this.inputValue) {
          this.$.label.classList.remove('hidden');
          this.$.label.classList.add('animating');
          this.async(function() {
            this.$.label.style.webkitTransform = 'none';
            this.$.label.style.transform = 'none';
          });
        }
        this.focused = false;
      },

      downAction: function(e) {
        if (this.disabled) {
          return;
        }

        if (this.focused) {
          return;
        }

        this.pressed = true;
        var rect = this.$.underline.getBoundingClientRect();
        var right = e.x - rect.left;
        this.$.underlineHighlight.style.webkitTransformOriginX = right + 'px';
        this.$.underlineHighlight.style.transformOriginX = right + 'px';
        this.$.underlineHighlight.classList.remove('focused');
        this.underlineAsync = this.async(function() {
          this.$.underlineHighlight.classList.add('pressed');
        }, null, 200);

        // No caret animation if there is text in the input.
        if (!this.inputValue) {
          var width = this.$.inputCloneSpan.getBoundingClientRect().width;
          if (width < right) {
            this.$.caret.style.left = width + 'px';
            this.$.caret.classList.remove('focused');
          }
        }
      },

      upAction: function(e) {
        if (this.disabled) {
          return;
        }

        if (!this.pressed) {
          return;
        }

        // if a touchevent caused the up, the synthentic mouseevents will blur
        // the input, make sure to prevent those from being generated.
        if (e._source === 'touch') {
          e.preventDefault();
        }

        if (this.underlineAsync) {
          clearTimeout(this.underlineAsync);
          this.underlineAsync = null;
        }

        // Focus the input here to bring up the virtual keyboard.
        this.$.input.focus();
        this.pressed = false;
        this.animating = true;

        this.$.underlineHighlight.classList.remove('pressed');
        this.$.underlineHighlight.classList.add('animating');
        this.async(function() {
          this.$.underlineHighlight.classList.add('focused');
        });

        // No caret animation if there is text in the input.
        if (!this.inputValue) {
          this.$.caret.classList.add('animating');
          this.async(function() {
            this.$.caret.classList.add('focused');
          }, null, 100);
        }

        if (this.floatingLabel) {
          this.$.label.classList.add('focusedColor');
          this.$.label.classList.add('animating');
          this.$.label.style.webkitTransform = this.$.label.cachedTransform;
          this.$.label.style.transform = this.$.label.cachedTransform;
        }
      },

      keypressAction: function() {
        if (this.animating) {
          this.transitionEndAction();
        }
      },

      transitionEndAction: function(e) {
        this.animating = false;
        if (this.pressed) {
          return;
        }

        if (this.focused) {

          if (this.floatingLabel || this.inputValue) {
            this.$.label.classList.add('hidden');
          }

          if (this.floatingLabel) {
            this.$.label.classList.remove('focusedColor');
            this.$.label.classList.remove('animating');
            this.$.floatedLabel.classList.remove('hidden');
            this.$.floatedLabel.classList.add('focused');
            this.$.floatedLabel.classList.add('focusedColor');
          }

          this.async(function() {
            this.$.underlineHighlight.classList.remove('animating');
            this.$.caret.classList.remove('animating');
          }, null, 100);

        } else {

          this.$.label.classList.remove('animating');

        }
      }

    });

  </script>

</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-checkbox` is a button that can be either checked or unchecked.  User
can tap the checkbox to check or uncheck it.  Usually you use checkboxes
to allow user to select multiple options from a set.  If you have a single
ON/OFF option, avoid using a single checkbox and use `paper-toggle-button`
instead.

Example:

    <paper-checkbox></paper-checkbox>

    <paper-checkbox checked></paper-checkbox>
    
Styling checkbox:

To change the ink color for checked state:

    paper-checkbox::shadow #ink[checked] {
      color: #4285f4;
    }
    
To change the checkbox checked color:

    paper-checkbox::shadow #checkbox.checked {
      border-color: #4285f4;
    }

To change the ink color for unchecked state:

    paper-checkbox::shadow #ink {
      color: #b5b5b5;
    }

To change the checbox unchecked color:

    paper-checkbox::shadow #checkbox {
      border-color: #b5b5b5;
    }

@group Paper Elements
@element paper-checkbox
@extends paper-radio-button
@homepage github.io
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-radio-button` is a button that can be either checked or unchecked.
User can tap the radio button to check it.  But it cannot be unchecked by
tapping once checked.

Use `paper-radio-group` to group a set of radio buttons.  When radio buttons
are inside a radio group, only one radio button in the group can be checked.

Example:

    <paper-radio-button></paper-radio-button>
    
Styling radio button:

To change the ink color for checked state:

    paper-radio-button::shadow #ink[checked] {
      color: #4285f4;
    }
    
To change the radio checked color:
    
    paper-radio-button::shadow #onRadio {
      background-color: #4285f4;
    }
    
To change the ink color for unchecked state:

    paper-radio-button::shadow #ink {
      color: #b5b5b5;
    }
    
To change the radio unchecked color:
    
    paper-radio-button::shadow #offRadio {
      border-color: #b5b5b5;
    }

@group Paper Elements
@element paper-radio-button
@homepage github.io
-->



<polymer-element name="paper-radio-button" role="radio" tabindex="0" aria-checked="false" assetpath="bower_components/paper-radio-button/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: inline-block;
  white-space: nowrap;
}

:host(:focus) {
  outline: none;
}

#radioContainer {
  position: relative;
  width: 16px;
  height: 16px;
  cursor: pointer;
}

#radioContainer.labeled {
  display: inline-block;
  vertical-align: middle;
}

#ink {
  position: absolute;
  top: -17px;
  left: -17px;
  width: 50px;
  height: 50px;
  color: #5a5a5a;
}

#ink[checked] {
  color: #0f9d58;
}

#offRadio {
  position: absolute;
  top: 0px;
  left: 0px; 
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: solid 2px;
  border-color: #5a5a5a;
}

#onRadio {
  position: absolute;
  top: 0;
  left: 0;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background-color: #0f9d58;
  -webkit-transform: scale(0);
  transform: scale(0);
  transition: -webkit-transform ease 0.28s;
  transition: transform ease 0.28s;
}

#onRadio.fill {
  -webkit-transform: scale(1.1);
  transform: scale(1.1);
}

#radioLabel {
  position: relative;
  display: inline-block;
  vertical-align: middle;
  margin-left: 10px;
  white-space: normal;
  pointer-events: none;
}

#radioLabel[hidden] {
  display: none;
}

/* disabled state */
:host([disabled]) {
  pointer-events: none;
}

:host([disabled]) #offRadio {
  border-color: #eaeaea !important;
}

:host([disabled]) #onRadio {
  background-color: #eaeaea !important;
}
</style>
  
  <div id="radioContainer" class="{{ {labeled: label} | tokenList }}">
  
    <div id="offRadio"></div>
    <div id="onRadio"></div>
    
    <paper-ripple id="ink" class="circle recenteringTouch" checked?="{{!checked}}"></paper-ripple>
    
  </div>
  
  <div id="radioLabel" aria-hidden="true" hidden?="{{!label}}">{{label}}<content></content></div>
  
</template>
<script>

  Polymer('paper-radio-button', {
    
    /**
     * Fired when the checked state changes.
     *
     * @event change
     */
    
    publish: {
      /**
       * Gets or sets the state, `true` is checked and `false` is unchecked.
       *
       * @attribute checked
       * @type boolean
       * @default false
       */
      checked: {value: false, reflect: true},
      
      /**
       * The label for the radio button.
       *
       * @attribute label
       * @type string
       * @default ''
       */
      label: '',
      
      /**
       * Normally the user cannot uncheck the radio button by tapping once
       * checked.  Setting this property to `true` makes the radio button
       * toggleable from checked to unchecked.
       *
       * @attribute toggles
       * @type boolean
       * @default false
       */
      toggles: false,
      
      /**
       * If true, the user cannot interact with this element.
       *
       * @attribute disabled
       * @type boolean
       * @default false
       */
      disabled: {value: false, reflect: true}
    },
    
    eventDelegates: {
      tap: 'tap'
    },
    
    tap: function() {
      this.toggle();
      this.fire('paper-radio-button-activate');
    },
    
    toggle: function() {
      this.checked = !this.toggles || !this.checked;
    },
    
    checkedChanged: function() {
      this.$.onRadio.classList.toggle('fill', this.checked);
      this.setAttribute('aria-checked', this.checked ? 'true': 'false');
      this.fire('change');
    },
    
    labelChanged: function() {
      this.setAttribute('aria-label', this.label);
    }
    
  });
  
</script>
</polymer-element>


<polymer-element name="paper-checkbox" extends="paper-radio-button" role="checkbox" assetpath="bower_components/paper-checkbox/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: inline-block;
  white-space: nowrap;
}

:host(:focus) {
  outline: none;
}

#checkboxContainer {
  position: relative;
  width: 18px;
  height: 18px;
  cursor: pointer;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

#checkboxContainer.labeled {
  display: inline-block;
  vertical-align: middle;
}

#ink {
  position: absolute;
  top: -29px;
  left: -29px;
  width: 76px;
  height: 76px;
  color: #5a5f5a;
}

#ink[checked] {
  color: #0f9d58;
}

#checkbox {
  position: absolute;
  box-sizing: border-box;
  top: 0px;
  left: 0px; 
  width: 18px;
  height: 18px;
  border: solid 2px;
  border-color: #5a5a5a;
  pointer-events: none;
}

/* checkbox checked animations */
#checkbox.checked.box {
  border: solid 2px;
  -webkit-animation: box-shrink 140ms ease-out forwards;
  animation: box-shrink 140ms ease-out forwards;
}

@-webkit-keyframes box-shrink {
  0% {
    -webkit-transform: rotate(0deg);
    top: 0px;
    left: 0px;
    width: 18px;
    height: 18px;
  }
  100% {
    -webkit-transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
}

@keyframes box-shrink {
  0% {
    transform: rotate(0deg);
    top: 0px;
    left: 0px;
    width: 18px;
    height: 18px;
  }
  100% {
    transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
}

#checkbox.checked.checkmark {
  border-left: none;
  border-top: none;
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand {
  0% {
    -webkit-transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
  100% {
    -webkit-transform: rotate(45deg);
    top: -4px;
    left: 6px; 
    width: 10px;
    height: 21px;
    border-right-width: 2px;
    border-bottom-width: 2px;
  }
}

@keyframes checkmark-expand {
  0% {
    transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
  100% {
    transform: rotate(45deg);
    top: -4px;
    left: 6px; 
    width: 10px;
    height: 21px;
    border-right-width: 2px;
    border-bottom-width: 2px;
  }
}

#checkbox.checked {
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
  top: -4px;
  left: 6px;
  width: 10px;
  height: 21px;
  border-top: none;
  border-left: none;
  border-right-width: 2px;
  border-bottom-width: 2px;
  border-color: #0f9d58;
}

/* checkbox unchecked animations */
#checkbox.unchecked.checkmark {
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
  border-left: none;
  border-top: none;
  -webkit-animation: checkmark-shrink 140ms ease-out forwards;
  animation: checkmark-shrink 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-shrink {
  0% {
    top: -4px;
    left: 6px; 
    width: 10px;
    height: 21px;
    border-right-width: 2px;
    border-bottom-width: 2px;
  }
  100% {
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
}

@keyframes checkmark-shrink {
  0% {
    top: -4px;
    left: 6px; 
    width: 10px;
    height: 21px;
    border-right-width: 2px;
    border-bottom-width: 2px;
  }
  100% {
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
}

#checkbox.unchecked.box {
  -webkit-animation: box-expand 140ms ease-out forwards;
  animation: box-expand 140ms ease-out forwards;
}

@-webkit-keyframes box-expand {
  0% {
    -webkit-transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
  100% {
    -webkit-transform: rotate(0deg);
    top: 0px;
    left: 0px;
    width: 18px;
    height: 18px;
  }
}

@keyframes box-expand {
  0% {
    transform: rotate(45deg);
    top: 13px;
    left: 5px;
    width: 4px;
    height: 4px;
  }
  100% {
    transform: rotate(0deg);
    top: 0px;
    left: 0px;
    width: 18px;
    height: 18px;
  }
}

/* label */
#checkboxLabel {
  position: relative;
  display: inline-block;
  vertical-align: middle;
  padding-left: 8px;
  white-space: normal;
  pointer-events: none;
}

#checkboxLabel[hidden] {
  display: none;
}

/* disabled state */
:host([disabled]) {
  pointer-events: none;
}

:host([disabled]) #checkbox {
  border-color: #eaeaea !important;
}
</style>

  <div id="checkboxContainer" class="{{ {labeled: label} | tokenList }}">
  
    <paper-ripple id="ink" class="circle recenteringTouch" checked?="{{!checked}}"></paper-ripple>
     
    <div id="checkbox" on-animationend="{{checkboxAnimationEnd}}" on-webkitanimationend="{{checkboxAnimationEnd}}"></div>
    
  </div>
  
  <div id="checkboxLabel" hidden?="{{!label}}">{{label}}<content></content></div>

</template>
<script>

  Polymer('paper-checkbox', {
    
    /**
     * Fired when the checked state changes.
     *
     * @event change
     */
    
    toggles: true,

    checkedChanged: function() {
      var cl = this.$.checkbox.classList;
      cl.toggle('checked', this.checked);
      cl.toggle('unchecked', !this.checked);
      cl.toggle('checkmark', !this.checked);
      cl.toggle('box', this.checked);
      this.setAttribute('aria-checked', this.checked ? 'true': 'false');
      this.fire('change');
    },

    checkboxAnimationEnd: function() {
      var cl = this.$.checkbox.classList;
      cl.toggle('checkmark', this.checked && !cl.contains('checkmark'));
      cl.toggle('box', !this.checked && !cl.contains('box'));
    }

  });
  
</script>
</polymer-element>




<polymer-element name="my-dialog" attributes="transition" assetpath="elements/">
	<template>
		<style type="text/css" shim-shadowdom="">:host {
	box-sizing: border-box;
	-moz-box-sizing: border-box;
	-webkit-user-select: none;
	-moz-user-select: none;
	overflow: auto;
	background: white;
	padding:30px 42px;
	outline: 1px solid rgba(0,0,0,0.2);
	box-shadow: 0 4px 16px rgba(0,0,0,0.2);
}
polyfill-next-selector { content: 'h2'; }
::content h2 {
	font-size: 1.4rem;
	font-weight: 200;
}
polyfill-next-selector { content: 'h2'; }
::content h3 {
	font-size: 1.2rem;
	font-weight: 200;
}

polyfill-next-selector { content: ':host .button'; }
::content .button {
	margin: 5px;
	background: #4285f4;
	color: #fff;
}

polyfill-next-selector { content: ':host .hidden'; }
::content .hidden {
	display: none;
}

#cancel {
	color: rgba(255, 0, 0, 0.7);
	border-radius: 20px;
	border: 0;
	position: absolute;
	top: 0px;
	right: 0px;
}</style>
		
		<core-overlay id="overlay" layered="" backdrop="" transition="{{transition}}">
		</core-overlay>

		<!-- Top right cancel button -->
		<paper-icon-button icon="cancel" id="cancel" on-click="{{toggle}}"></paper-icon-button>
			<content></content>
	</template>
	<script>

	Polymer('my-dialog', {
	
		ready: function() {
			this.$.overlay.target = this;
		},

		toggle: function() {
			this.$.overlay.toggle();
		},

		transition: "core-transition-bottom"

	});

	</script>
</polymer-element>



<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-collapse` creates a collapsible block of content.  By default, the content
will be collapsed.  Use `opened` to show/hide the content.

    <button on-click="{{toggle}}">toggle collapse</button>
    
    <core-collapse id="collapse"></core-collapse>
      ...
    </core-collapse>
    
    ...

    toggle: function() {
      this.$.collapse.toggle();
    }

@group Polymer Core Elements
@element core-collapse
-->



<style shim-shadowdom="">/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

html /deep/ core-collapse {
  display: block;
}

html /deep/ .core-collapse-closed {
  display: none;
}
</style>

<polymer-element name="core-collapse" attributes="target horizontal opened duration fixedSize" assetpath="bower_components/core-collapse/">
<template>

  <content></content>

</template>
<script>

  Polymer('core-collapse', {
    /**
     * Fired when the target element has been resized as a result of the opened
     * state changing.
     * 
     * @event core-resize
    */

    /**
     * The target element.
     *
     * @attribute target
     * @type object
     * @default null
     */
    target: null,

    /**
     * If true, the orientation is horizontal; otherwise is vertical.
     *
     * @attribute horizontal
     * @type boolean
     * @default false
     */
    horizontal: false,

    /**
     * Set opened to true to show the collapse element and to false to hide it.
     *
     * @attribute opened
     * @type boolean
     * @default false
     */
    opened: false,

    /**
     * Collapsing/expanding animation duration in second.
     *
     * @attribute duration
     * @type number
     * @default 0.33
     */
    duration: 0.33,

    /**
     * If true, the size of the target element is fixed and is set
     * on the element.  Otherwise it will try to 
     * use auto to determine the natural size to use
     * for collapsing/expanding.
     *
     * @attribute fixedSize
     * @type boolean
     * @default false
     */
    fixedSize: false,

    created: function() {
      this.transitionEndListener = this.transitionEnd.bind(this);
    },
    
    ready: function() {
      this.target = this.target || this;
    },

    domReady: function() {
      this.async(function() {
        this.afterInitialUpdate = true;
      });
    },

    detached: function() {
      if (this.target) {
        this.removeListeners(this.target);
      }
    },

    targetChanged: function(old) {
      if (old) {
        this.removeListeners(old);
      }
      if (!this.target) {
        return;
      }
      this.isTargetReady = !!this.target;
      this.classList.toggle('core-collapse-closed', this.target !== this);
      this.target.style.overflow = 'hidden';
      this.horizontalChanged();
      this.addListeners(this.target);
      // set core-collapse-closed class initially to hide the target
      this.toggleClosedClass(true);
      this.update();
    },

    addListeners: function(node) {
      node.addEventListener('transitionend', this.transitionEndListener);
    },

    removeListeners: function(node) {
      node.removeEventListener('transitionend', this.transitionEndListener);
    },

    horizontalChanged: function() {
      this.dimension = this.horizontal ? 'width' : 'height';
    },

    openedChanged: function() {
      this.update();
    },

    /**
     * Toggle the opened state.
     *
     * @method toggle
     */
    toggle: function() {
      this.opened = !this.opened;
    },

    setTransitionDuration: function(duration) {
      var s = this.target.style;
      s.transition = duration ? (this.dimension + ' ' + duration + 's') : null;
      if (duration === 0) {
        this.async('transitionEnd');
      }
    },

    transitionEnd: function() {
      if (this.opened && !this.fixedSize) {
        this.updateSize('auto', null);
      }
      this.setTransitionDuration(null);
      this.toggleClosedClass(!this.opened);
      this.asyncFire('core-resize', null, this.target);
    },

    toggleClosedClass: function(closed) {
      this.hasClosedClass = closed;
      this.target.classList.toggle('core-collapse-closed', closed);
    },

    updateSize: function(size, duration, forceEnd) {
      this.setTransitionDuration(duration);
      this.calcSize();
      var s = this.target.style;
      var nochange = s[this.dimension] === size;
      s[this.dimension] = size;
      // transitonEnd will not be called if the size has not changed
      if (forceEnd && nochange) {
        this.transitionEnd();
      }
    },

    update: function() {
      if (!this.target) {
        return;
      }
      if (!this.isTargetReady) {
        this.targetChanged(); 
      }
      this.horizontalChanged();
      this[this.opened ? 'show' : 'hide']();
    },

    calcSize: function() {
      return this.target.getBoundingClientRect()[this.dimension] + 'px';
    },

    getComputedSize: function() {
      return getComputedStyle(this.target)[this.dimension];
    },

    show: function() {
      this.toggleClosedClass(false);
      // for initial update, skip the expanding animation to optimize
      // performance e.g. skip calcSize
      if (!this.afterInitialUpdate) {
        this.transitionEnd();
        return;
      }
      if (!this.fixedSize) {
        this.updateSize('auto', null);
        var s = this.calcSize();
        this.updateSize(0, null);
      }
      this.async(function() {
        this.updateSize(this.size || s, this.duration, true);
      });
    },

    hide: function() {
      // don't need to do anything if it's already hidden
      if (this.hasClosedClass && !this.fixedSize) {
        return;
      }
      if (this.fixedSize) {
        // save the size before hiding it
        this.size = this.getComputedSize();
      } else {
        this.updateSize(this.calcSize(), null);
      }
      this.async(function() {
        this.updateSize(0, this.duration);
      });
    }

  });

</script>
</polymer-element>

<polymer-element name="search-box" attributes="placeholder query" assetpath="elements/">
	<template>
		<style>
			:host {
				display: block;
			}

			#queryField {
				font-weight: 200;
			}

			#clearButton {
				color: #9C9C9C;
			}
		</style>
		<core-collapse horizontal="" id="collapse" duration="0.2" on-core-resize="{{collapseClosed}}">
			<div layout="" horizontal="" center="">
				<core-input id="queryField" placeholder="{{placeholder}}" on-input="{{inputChangeHandler}}">
				</core-input>
				<paper-icon-button id="clearButton" icon="clear" on-click="{{hideBox}}"></paper-icon-button>
			</div>
		</core-collapse>	
		<template if="{{showSearchButton}}">
			<paper-icon-button id="searchButton" icon="search" on-click="{{showBox}}"></paper-icon-button>			
		</template>
	</template>
	<script>
		Polymer('search-box', {
			domReady: function () {
				this.showSearchButton = true;
			},

			showBox: function () {
				this.$.collapse.toggle();
				this.showSearchButton = false;

				// Input focus hack. Ref: http://stackoverflow.com/questions/2074347/focus-not-working-in-safari-or-chrome
				setTimeout(function() {this.$.queryField.$.input.focus();}.bind(this), 0);
			},

			hideBox: function() {
				this.$.collapse.toggle();
				this.$.queryField.inputValue = "";
				this.query = "";
			},

			inputChangeHandler: function () {
				this.query = this.$.queryField.inputValue;
			},

			collapseClosed: function () {
				if (!this.$.collapse.opened) {
					this.showSearchButton = true;
				}
			}
		});
	</script>
</polymer-element>

<polymer-element name="group-members" attributes="gid allowAdd rows" assetpath="elements/">
	<template>
		<style type="text/css">:host {
	display: block;
	width: 100%;
}

#personListContainer {
	width: 100%;
	max-height: calc(60px * {{rows}});
	overflow: auto;
}

h1 {
	font-size: 1.8rem;
	font-weight: 100;
	padding: 0 0 0 10px;
}</style>
		<style type="text/css">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>

		<!-- Add Member Ajax call. -->
		<core-ajax id="addMemberAjax" method="POST" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/grouping/&apos; + gid}}" contenttype="application/json" handleas="json" on-core-response="{{addMemberResponse}}" on-core-error="{{addMemberError}}">
		</core-ajax>

		<!-- Member list Ajax call. -->
		<core-ajax id="listAjax" auto="" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/group/&apos; + gid + &apos;/users&apos;}}" handleas="json" on-core-response="{{listResponse}}">
		</core-ajax>

		<!-- Delete member Ajax call. -->
		<core-ajax id="deleteAjax" method="DELETE" contenttype="application/json" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/grouping/&apos; + gid}}" on-core-response="{{deleteResponse}}" on-core-error="{{deleteError}}">
		</core-ajax>


		<!-- Card heading. -->
		<div id="headerBar" layout="" horizontal="" center="">
			<!--<h1 flex>Members ({{number}})</h1>-->
            <span flex=""></span>
			<template if="{{allowAdd}}">
				<paper-icon-button icon="delete" on-click="{{deleteMemberClicked}}"></paper-icon-button>
				<paper-icon-button icon="add" on-click="{{addMemberClicked}}" core-overlay-toggle=""></paper-icon-button>
			</template>
			<search-box id="searchBox" placeholder="Search..."></search-box>
		</div>

		<!-- Member list. -->
		<div id="personListContainer">
			<person-list id="members" query="{{searchQuery}}" on-core-select="{{personSelectionChanged}}"></person-list>
		</div>

		<!-- Add Member dialog. -->
		<paper-dialog id="addDialog" heading="Add new member:" backdrop="" transition="core-transition-top">
			<paper-input id="addInput" class="dialogInput" floatinglabel="" label="CRSid(s)..." error="Invalid CRSid(s)." validate="^([a-zA-Z]+\d+[^\w\d]*)+$" on-input="{{handleAddInput}}">
			</paper-input>
			<h2 class="subtitle">Roles:</h2>
			<div layout="" vertical="" style="width: 100%;">
				<div layout="" horizontal="" center="" style="width: 100%;">
					<paper-checkbox id="authBox"></paper-checkbox>
					<div flex="">Author</div>
					<paper-checkbox id="markBox"></paper-checkbox>
					<div flex="">Marker</div>
				</div>
				<div layout="" horizontal="" center="" style="width: 100%;">
					<paper-checkbox id="overBox"></paper-checkbox>
					<div flex="">Overview</div>
					<paper-checkbox id="subBox"></paper-checkbox>
					<div flex="">Submitter</div>
				</div>
			</div>
			<template if="{{showSubmit}}">
				<paper-button id="addSubmit" class="dialogSubmit" label="ADD" on-click="{{addMember}}" affirmative=""></paper-button>
			</template>
		</paper-dialog>

		<!-- Add member success/error toasts. -->
		<paper-toast id="addErrorToast" text="Error adding new member." duration="3000"></paper-toast>
		<paper-toast id="addSuccessToast" text="Successfully added new member." dutration="3000"></paper-toast>

		<!-- Delete member success/error toasts. -->
		<paper-toast id="deleteErrorToast" text="Error removing member." duration="3000"></paper-toast>
		<paper-toast id="deleteSuccessToast" text="Successfully removed member(s)." duration="3000"></paper-toast>

	</template>
	<script>
		Polymer('group-members', {

			allowAdd: false,

			observe: {
				'$.searchBox.query' : 'searchBoxChanged'
			},

			searchBoxChanged: function (oldValue, newValue) {
				this.searchQuery = newValue;
			},

			personSelectionChanged: function () {
				this.selectedPeople = this.$.members.$.memberSelector.selected;
			},

			listResponse: function() {
				var list = this.$.listAjax.response;
				this.number = list.length;
				this.$.members.people = list;
			},

			// Add member(s) functionality:

			addMember: function() {
				var newCRSIDs = this.$.addInput.value.trim().split(/[^\w\d]+/);
				var roles = [];
				if (this.$.authBox.checked) roles.push('AUTHOR');
				if (this.$.markBox.checked) roles.push('MARKER');
				if (this.$.overBox.checked) roles.push('OVERVIEW');
				if (this.$.subBox.checked) roles.push('SUBMITTER');
				var jsonRoles = JSON.stringify(roles);
				var jsonCRSids = JSON.stringify(newCRSIDs);
				this.$.addMemberAjax.body = '{ "crsids": ' + jsonCRSids + ', "roles" : ' + jsonRoles + '}';
				this.$.addMemberAjax.go();
			},

			handleAddInput: function () {
				if (this.$.addInput.invalid || this.$.addInput.inputValue === "") {
					this.showSubmit = false;
				}
				else {
					this.showSubmit = true;
				}
			},

			addMemberClicked: function () {
				this.$.addDialog.toggle();
			},

			addMemberResponse: function() {
				var list = this.$.addMemberAjax.response;
				this.number = list.length;
				this.$.members.people = list;

				this.$.addSuccessToast.show();
			},

			addMemberError: function(e, detail) {
				this.$.addErrorToast.text = detail.xhr.responseText;
				this.$.addErrorToast.show();
			},


			// Delete member(s) funcitonality:

			deleteMemberClicked: function () {
				if (this.selectedPeople) {
					var jsonSelectedPeople = JSON.stringify(this.selectedPeople);
					console.log(jsonSelectedPeople);
					this.$.deleteAjax.body = '{ "crsids" : ' + jsonSelectedPeople + ', "roles" : [] }';
					this.$.deleteAjax.go();
				}
			},

			deleteResponse: function (e, detail) {
				this.$.deleteSuccessToast.text = detail.xhr.responseText;
				this.$.deleteSuccessToast.show();
				this.$.members.$.memberSelector.selected = undefined;
				this.$.listAjax.go();
			},

			deleteError: function (e, detail) {
				this.$.deleteErrorToast.text = detail.xhr.responseText;
				this.$.deleteErrorToast.show();
			},

		});
	</script>
</polymer-element>




<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->


<core-iconset-svg id="communication" iconsize="24">
<svg><defs>
<g id="call"><path d="M6.6,10.8c1.4,2.8,3.8,5.1,6.6,6.6l2.2-2.2c0.3-0.3,0.7-0.4,1-0.2c1.1,0.4,2.3,0.6,3.6,0.6c0.6,0,1,0.4,1,1V20c0,0.6-0.4,1-1,1C10.6,21,3,13.4,3,4c0-0.6,0.4-1,1-1h3.5c0.6,0,1,0.4,1,1c0,1.2,0.2,2.4,0.6,3.6c0.1,0.3,0,0.7-0.2,1L6.6,10.8z"></g>
<g id="call-end"><path d="M12,9c-1.6,0-3.1,0.3-4.6,0.7l0,3.1c0,0.4-0.2,0.7-0.6,0.9c-1,0.5-1.9,1.1-2.7,1.9c-0.2,0.2-0.4,0.3-0.7,0.3c-0.3,0-0.5-0.1-0.7-0.3l-2.5-2.5C0.1,12.9,0,12.7,0,12.4c0-0.3,0.1-0.5,0.3-0.7C3.3,8.8,7.5,7,12,7s8.7,1.8,11.7,4.7c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-2.5,2.5c-0.2,0.2-0.4,0.3-0.7,0.3c-0.3,0-0.5-0.1-0.7-0.3c-0.8-0.7-1.7-1.4-2.7-1.9c-0.3-0.2-0.6-0.5-0.6-0.9l0-3.1C15.1,9.3,13.6,9,12,9z"></g>
<g id="call-made"><polygon points="9,5 9,7 15.6,7 3,19.6 4.4,21 17,8.4 17,15 19,15 19,5 "></polygon></g>
<g id="call-merge"><path d="M17,20.4l1.4-1.4L15,15.6L13.6,17L17,20.4z M7.5,8H11v5.6L5.6,19L7,20.4l6-6V8h3.5L12,3.5L7.5,8z"></g>
<g id="call-missed"><polygon points="19.6,7 12,14.6 6.4,9 11,9 11,7 3,7 3,15 5,15 5,10.4 12,17.4 21,8.4 "></polygon></g>
<g id="call-received"><polygon points="21,4.4 19.6,3 7,15.6 7,9 5,9 5,19 15,19 15,17 8.4,17 "></polygon></g>
<g id="call-split"><polygon points="14,4 16.3,6.3 13.4,9.2 14.8,10.6 17.7,7.7 20,10 20,4 "><polygon points="10,4 4,4 4,10 6.3,7.7 11,12.4 11,20 13,20 13,11.6 7.7,6.3 "></polygon></polygon></g>
<g id="chat"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M6,9h12v2H6V9z M14,14H6v-2h8V14z M18,8H6V6h12V8z"></g>
<g id="comment"><path d="M22,4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v12c0,1.1,0.9,2,2,2h14l4,4L22,4z M18,14H6v-2h12V14z M18,11H6V9h12V11z M18,8H6V6h12V8z"></g>
<g id="dialpad"><path d="M12,19c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,19.9,13.1,19,12,19z M6,1C4.9,1,4,1.9,4,3c0,1.1,0.9,2,2,2s2-0.9,2-2C8,1.9,7.1,1,6,1z M6,7C4.9,7,4,7.9,4,9c0,1.1,0.9,2,2,2s2-0.9,2-2C8,7.9,7.1,7,6,7z M6,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C8,13.9,7.1,13,6,13z M18,5c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2C16,4.1,16.9,5,18,5z M12,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,13.9,13.1,13,12,13z M18,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C20,13.9,19.1,13,18,13z M18,7c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C20,7.9,19.1,7,18,7z M12,7c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,7.9,13.1,7,12,7z M12,1c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,1.9,13.1,1,12,1z"></g>
<g id="email"><path d="M20,4H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,8l-8,5L4,8V6l8,5l8-5V8z"></g>
<g id="forum"><path d="M21,6h-2v9H6v2c0,0.6,0.4,1,1,1h11l4,4V7C22,6.4,21.6,6,21,6z M17,12V3c0-0.6-0.4-1-1-1H3C2.4,2,2,2.4,2,3v14l4-4h10C16.6,13,17,12.6,17,12z"></g>
<g id="gmail"><path d="M20,4H4C2.9,4,2,4.9,2,6l0,12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,18h-2V9.2L12,13L6,9.2V18H4V6h1.2l6.8,4.2L18.8,6H20V18z"></g>
<g id="hangout"><path d="M11.5,2C6.8,2,3,5.8,3,10.5S6.8,19,11.5,19H12v3.5c4.9-2.3,8-7.5,8-12C20,5.8,16.2,2,11.5,2z M11,11l-1,2H8.5l1-2H8V8h3V11z M15,11l-1,2h-1.5l1-2H12V8h3V11z"></g>
<g id="hangout-video"><path d="M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M18,16l-4-3.2V16H6V8h8v3.2L18,8V16z"></g>
<g id="hangout-video-off"><path d="M20,4H7.8l4,4H14v2.2l0.6,0.6L18,8v6.2l4,4c0-0.1,0-0.1,0-0.2V6C22,4.9,21.1,4,20,4z M2.3,1L1,2.3l2,2C2.4,4.6,2,5.3,2,6v12c0,1.1,0.9,2,2,2h14.7l2,2l1.3-1.3L2.3,1z M6,8h0.7l7.3,7.3V16H6V8z"></g>
<g id="import-export"><path d="M9,3L5,7h3v7h2V7h3L9,3z M16,17v-7h-2v7h-3l4,4l4-4H16z"></g>
<g id="live-help"><path d="M19,2H5C3.9,2,3,2.9,3,4v14c0,1.1,0.9,2,2,2h4l3,3l3-3h4c1.1,0,2-0.9,2-2V4C21,2.9,20.1,2,19,2z M13,18h-2v-2h2V18z M15.1,10.3l-0.9,0.9C13.4,11.9,13,12.5,13,14h-2v-0.5c0-1.1,0.4-2.1,1.2-2.8l1.2-1.3C13.8,9.1,14,8.6,14,8c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2H8c0-2.2,1.8-4,4-4s4,1.8,4,4C16,8.9,15.6,9.7,15.1,10.3z"></g>
<g id="message"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M18,14H6v-2h12V14z M18,11H6V9h12V11z M18,8H6V6h12V8z"></g>
<g id="messenger"><path d="M20,2H4C2.9,2,2,2.9,2,4v18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z"></g>
<g id="phone"><path d="M6.6,10.8c1.4,2.8,3.8,5.1,6.6,6.6l2.2-2.2c0.3-0.3,0.7-0.4,1-0.2c1.1,0.4,2.3,0.6,3.6,0.6c0.6,0,1,0.4,1,1V20c0,0.6-0.4,1-1,1C10.6,21,3,13.4,3,4c0-0.6,0.4-1,1-1h3.5c0.6,0,1,0.4,1,1c0,1.2,0.2,2.4,0.6,3.6c0.1,0.3,0,0.7-0.2,1L6.6,10.8z"></g>
<g id="ring-volume"><path d="M23.7,16.7c-3-2.9-7.2-4.7-11.7-4.7c-4.5,0-8.7,1.8-11.7,4.7C0.1,16.9,0,17.1,0,17.4c0,0.3,0.1,0.5,0.3,0.7l2.5,2.5c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3c0.8-0.7,1.7-1.4,2.7-1.9c0.3-0.2,0.6-0.5,0.6-0.9l0-3.1c1.4-0.5,3-0.7,4.6-0.7s3.1,0.3,4.6,0.7l0,3.1c0,0.4,0.2,0.7,0.6,0.9c1,0.5,1.9,1.1,2.7,1.9c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3l2.5-2.5c0.2-0.2,0.3-0.4,0.3-0.7C24,17.1,23.9,16.9,23.7,16.7z M21.2,6.3l-1.4-1.4l-3.6,3.6l1.4,1.4C17.6,9.8,21,6.3,21.2,6.3z M13,2h-2v5h2V2z M6.4,9.8l1.4-1.4L4.3,4.8L2.8,6.3C3,6.3,6.4,9.8,6.4,9.8z"></g>
<g id="textsms"><path d="M20,2H4C2.9,2,2,2.9,2,4l0,18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M9,11H7V9h2V11z M13,11h-2V9h2V11z M17,11h-2V9h2V11z"></g>
<g id="voicemail"><path d="M18.5,6c-3,0-5.5,2.5-5.5,5.5c0,1.3,0.5,2.5,1.3,3.5H9.7c0.8-1,1.3-2.2,1.3-3.5C11,8.5,8.5,6,5.5,6S0,8.5,0,11.5S2.5,17,5.5,17h13c3,0,5.5-2.5,5.5-5.5S21.5,6,18.5,6z M5.5,15C3.6,15,2,13.4,2,11.5C2,9.6,3.6,8,5.5,8C7.4,8,9,9.6,9,11.5C9,13.4,7.4,15,5.5,15z M18.5,15c-1.9,0-3.5-1.6-3.5-3.5C15,9.6,16.6,8,18.5,8c1.9,0,3.5,1.6,3.5,3.5C22,13.4,20.4,15,18.5,15z"></g>
</defs></svg>
</core-iconset-svg>




<polymer-element name="tick-box" attributes="tick tickId" assetpath="elements/">
	<template>
		<style>
			:host {
				display:   block;
				border-radius: 2px;
				position: relative;
			}
			h1 {
				margin: 0;
				font-size: 1.4rem;
				font-weight: 100;
			}

			h2 {
				margin: 0;
				font-size: 0.7rem;
				color: #808080;
				font-weight: 300;
			}
			#container {
				padding: 10px;
			}
		</style>
		<div layout="" horizontal="" center="" id="container">
			<date-calendar datetime="{{tick.deadline}}" hexcolorprimary="#F75EA7" hexcolorsecondary="#CE00E0"></date-calendar>
			<div flex=""></div>
			<div layout="" vertical="" end="">
				<h1>{{tick.name}}</h1>
				<h2>Author: {{tick.author}}</h2>
			</div>
			<paper-ripple class="recenteringTouch" fit=""></paper-ripple>
		</div>
	</template>
<script>Polymer('tick-box');</script></polymer-element>

<polymer-element name="tick-list" attributes="gid canFork" assetpath="elements/">
	<template>
		<style shim-shadowdom="">
			:host {
				display: block;
			}
			h1 {
				font-size: 1.8rem;
				font-weight: 100;
				padding: 0 0 0 10px;
			}
			tick-box {
				width: calc(100% / 3);
			}
			tick-box:nth-child(odd) {
				background: #f6f6f6;
			}
			tick-box:nth-child(even) {
				background: #e9e9e9;
			}
			tick-box.core-selected{
				background: linear-gradient(#E1BEE7, #D697EE);
				color: #6300CE;
			}
			tick-box.core-selected::shadow h2 {
				color: #000;
			}
			tick-box::shadow paper-ripple {
				color: #3C00FF;
			}
	</style>
		<core-ajax auto="" id="tickListAPI" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/tick/list/&apos; + gid}}" handleas="json" on-core-response="{{tickListResponse}}">
		</core-ajax>


		<!-- Tick list card header. -->
		<div id="headerBar" layout="" horizontal="" center="">
			<!--<h1 flex>Ticks ({{ticks ? ticks.length : 0}})</h1>-->
            <span flex=""></span>
			<template if="{{canFork}}">
				<paper-icon-button icon="communication:call-split" on-click="{{forkClicked}}"></paper-icon-button>
			</template>
			<search-box id="searchBox" placeholder="Search..."></search-box>
		</div>

		<!-- Tick list. -->
		<core-selector id="selector" on-core-select="{{selected}}" valueattr="tick" layout="" horizontal="" center="" wrap="">
			<template repeat="{{tick in ticks | tickListFilter($.searchBox.query)}}">
				<tick-box tickid="{{tick._id}}" tickname="{{tick.name}}" tick="{{tick}}"></tick-box>
			</template>
		</core-selector>

	</template>
	<script>
		Polymer('tick-list', {
			tickListResponse: function () {
				this.ticks = this.$.tickListAPI.response;
			},

			tickListFilter: function(items, q) {
				if (items && q) {
					return items.filter(this.tickFilter.bind(this));
				}
				return items;
			},

			tickFilter: function(item) {
				var q = this.$.searchBox.query.toLowerCase();
				return (item.name.toLowerCase().indexOf(q) > -1 ||
						item.author.toLowerCase().indexOf(q) > -1);
			},

			selected: function() {
				var sel = this.$.selector.selected;
				this.selectedTickId = sel._id;
				this.selectedTickIdName = sel.name;
			},

			forkClicked: function () {
				if (this.selectedTickId)
					this.fire('fork-clicked', {
						tickId: this.selectedTickId,
						tickName: this.selectedTickIdName
					});
			}
		});
	</script>
</polymer-element>





<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
The progress bars are for situations where the percentage completed can be 
determined. They give users a quick sense of how much longer an operation 
will take.

Example:

    <paper-progress value="10"></paper-progress>
    
There is also a secondary progress which is useful for displaying intermediate 
progress, such as the buffer level during a streaming playback progress bar.

Example:

    <paper-progress value="10" secondaryProgesss="30"></paper-progress>

Styling progress bar:

To change the active progress bar color:

    paper-progress::shadow #activeProgress {
      background-color: #e91e63;
    }

To change the secondary progress bar color:

    paper-progress::shadow #secondaryProgress {
      background-color: #f8bbd0;
    }
    
To change the progress bar background color:

    paper-progress::shadow #progressContainer {
      background-color: #64ffda;
    }

@group Paper Elements
@element paper-progress
@extends core-range
@homepage github.io
-->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
The `core-range` element is used for managing a numberic value within a given 
range.  It has no visual appearance and is typically used in conjunciton with 
another element.

One can build a progress bar using `core-range` like this:

    <core-range min="0" max="200" value="100" ratio="{{ratio}}"></core-range>
    <div class="progress-bar" style="width: {{ratio}}%;"></div>

@group Polymer Core Elements
@element core-range
@homepage github.io

-->



<polymer-element name="core-range" attributes="value min max step ratio" assetpath="bower_components/core-range/">
<script>

  Polymer('core-range', {
    
    /**
     * The number that represents the current value.
     *
     * @attribute value
     * @type number
     * @default 0
     */
    value: 0,
    
    /**
     * The number that indicates the minimum value of the range.
     *
     * @attribute min
     * @type number
     * @default 0
     */
    min: 0,
    
    /**
     * The number that indicates the maximum value of the range.
     *
     * @attribute max
     * @type number
     * @default 100
     */
    max: 100,
    
    /**
     * Specifies the value granularity of the range's value.
     *
     * @attribute step
     * @type number
     * @default 1
     */
    step: 1,
    
    /**
     * Returns the ratio of the value.
     *
     * @attribute ratio
     * @type number
     * @default 0
     */
    ratio: 0,
    
    observe: {
      'value min max step': 'update'
    },
    
    calcRatio: function(value) {
      return (this.clampValue(value) - this.min) / (this.max - this.min);
    },
    
    clampValue: function(value) {
      return Math.min(this.max, Math.max(this.min, this.calcStep(value)));
    },
    
    calcStep: function(value) {
      return this.step ? (Math.round(value / this.step) / (1 / this.step)) : value;
    },
    
    validateValue: function() {
      var v = this.clampValue(this.value);
      this.value = this.oldValue = isNaN(v) ? this.oldValue : v;
      return this.value !== v;
    },
    
    update: function() {
      this.validateValue();
      this.ratio = this.calcRatio(this.value) * 100;
    }
    
  });
  
</script>
</polymer-element>


<polymer-element name="paper-progress" extends="core-range" attributes="secondaryProgress" assetpath="bower_components/paper-progress/">

  <template>
  
    <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: inline-block;
  width: 200px;
  height: 4px;
}

#progressContainer {
  position: relative;
  height: 100%;
  background-color: #c8c8c8;
}

#activeProgress, #secondaryProgress {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
}

#activeProgress {
  background-color: #0f9d58;
}

#secondaryProgress {
  background-color: #87ceac;
}</style>
  
    <div id="progressContainer" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="{{min}}" aria-valuemax="{{max}}">
    
      <div id="secondaryProgress" style="width: {{secondaryRatio}}%;"></div>
      <div id="activeProgress" style="width: {{ratio}}%;"></div>
      
    </div>
    
  </template>
  
  <script>
  
    Polymer('paper-progress', {
      
      /**
       * The number that represents the current secondary progress.
       *
       * @attribute secondaryProgress
       * @type number
       * @default 0
       */
      secondaryProgress: 0,
      
      step: 0,
      
      observe: {
        'value secondaryProgress min max': 'update'
      },
      
      update: function() {
        this.super();
        this.secondaryProgress = this.clampValue(this.secondaryProgress);
        this.secondaryRatio = this.calcRatio(this.secondaryProgress) * 100;
      }
      
    });
    
  </script>
  
</polymer-element>





<polymer-element name="submit-service" attributes="tickId status testRunning unitPass reportAvailable" assetpath="elements/tick-card/">
    <template>
        <!-- submit this tick for testing -->
        <core-ajax id="ajaxSubmit" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/submission/&apos; + tickId + &apos;/&apos;}}" handleas="json" method="POST" on-core-response="{{startPolling}}" on-core-error="{{submitError}}">
        </core-ajax>

        <!-- poll the tick's status -->
        <core-ajax id="ajaxPoll" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/submission/&apos; + tickId + &apos;/running&apos;}}" handleas="json" on-core-response="{{pollNext}}" on-core-error="{{pollError}}">
        </core-ajax>

        <paper-toast id="toastSubmitError" text="Error submitting. Have you recently submitted this tick in another tab?"></paper-toast>
        <paper-toast id="toastPollError" text="Error obtaining submission status. Try refreshing the page."></paper-toast>
    </template>
    <script>
        Polymer('submit-service', {
            created: function() {
                this.status = {};
            },

            /**
             * Submits the user's tick for testing
             */
            submit: function() {
                console.log("submit request received");
                console.log(this.tickId);
                if (!(this.testRunning)) {
                    this.status = {progress: 0, maxProgress: 1, info: "Starting..."};
                    this.testRunning = true;
                    this.$.ajaxSubmit.go();
                }
            },

            /**
             * Fired when submitting the tick failed.
             */
            submitError: function(e, detail) {
                this.testRunning = false;

                if (detail.xhr.responseText.lastIndexOf("NoCommitsToRepoException") > -1) {
                    this.$.toastSubmitError.text = "Error submitting. Your repository is empty.";
                } else {
                    this.$.toastSubmitError.text = "Error submitting. Have you recently submitted this tick in another tab?";
                }

                this.$.toastSubmitError.show();
            },

            startPolling: function() {
                console.log("Starting Polling");
                this.testRunning = true;
                this.status = {progress: 0, maxProgress: 1, info: "Starting..."};
                this.$.ajaxPoll.go();
            },

            pollError: function(e, detail) {
                console.log("poll error");

                if (detail.xhr.responseText.indexOf("NoSuchTestException") > -1) {
                    //assume last test finished
                    this.testRunning = false;
                } else {
                    //no idea what could have happened. Assume connection failed (e.g. timed out) and try again
                    this.$.toastPollError.show();

                    this.job('polymer-is-forcing-me-to-name-this-job', function() {
                        this.startPolling();
                    }, 4000);
                }
            },

            /**
             * Sets the published status attribute to the response of a pollStatus request, and starts another poll
             * if the test is incomplete
             */
            pollNext: function() {
                this.status = this.$.ajaxPoll.response;

                if (this.status.progress == this.status.maxProgress) {
                    console.log(this.status);
                    this.testRunning = false;
                    this.reportAvailable = true;
                    console.log(this.status.info);
                    if (this.status.info == "PASS") {
                        this.unitPass = true;
                    }
                } else {
                    this.job('delayed-re-poll', function() {
                        this.$.ajaxPoll.go();
                    }, 500);
                }
            }
        });
    </script>
</polymer-element>

<polymer-element name="submit-component" attributes="tickId signedUp testRunning reportAvailable unitPass humanPass" assetpath="elements/tick-card/">
    <template>
        <!-- STYLES -->
        <style type="text/css" shim-shadowdom="">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
        <style type="text/css" shim-shadowdom="">paper-button {
    width: 100%;
    background: #4285f4;
    color: #fff;
}

paper-progress {
    width: 100%;
}

.error {
    text-align: center;
    color: #757575;
}

#progressCaption {
    color: #757575;
}</style>

        <submit-service id="service" tickid="{{tickId}}" status="{{status}}" testrunning="{{testRunning}}" reportavailable="{{reportAvailable}}" unitpass="{{unitPass}}">
        </submit-service>

        <!--Submit button -->
        <core-collapse opened?="{{!testRunning &amp;&amp; !signedUp &amp;&amp; !humanPass}}">
            <paper-button label="SUBMIT" on-tap="{{submit}}" disabled?="{{signedUp || testRunning}}">
            </paper-button>
        </core-collapse>

        <!-- Progress bar (with caption) -->
        <core-collapse opened?="{{testRunning &amp;&amp; !humanPass}}">
            <paper-progress id="progressBar" value="{{displayProgress}}"></paper-progress>
            <div id="progressCaption">{{status.info}}</div>
        </core-collapse>

        <!-- Disabled because signed up message -->
        <core-collapse opened?="{{signedUp &amp;&amp; !humanPass}}">
            <div class="error">To resubmit, cancel your ticking session</div>
        </core-collapse>

        <core-collapse opened?="{{humanPass}}">
            <div class="error">PASSED</div>
        </core-collapse>
    </template>
    <script src="bower_components/web-animations-js/web-animations.js"></script>
    <script>
        Polymer('submit-component', {
            observe: {
                'status.progress': 'progressUpdated'
            },

            created: function() {
                this.status = {progress: 0, maxProgress: 1, info: null};
                this.displayProgress = 0;
                this.targetProgress = 0;
            },

            progressUpdated: function() {
                //this.displayProgress = this.status.progress;
                this.targetProgress = this.status.progress / this.status.maxProgress * 100;
                this.startProgressAnimation();
            },

            startProgressAnimation: function() {
                //this.stepProgressAnimation();
                this.stepProgressAnimation();
            },

            stepProgressAnimation: function() {
                if (this.displayProgress < this.targetProgress) {
                    this.displayProgress+= Math.ceil(.001 * (this.targetProgress - this.displayProgress));
                    var that = this;
                    this.job('animate', function() {
                        that.stepProgressAnimation();
                    }, 16);
                }
            },

            statusChanged: function() {
                if (this.status.progress == 0) {
                    this.displayProgress = 0;
                    this.targetProgress = 0;
                }
            },

            submit: function() {
                this.$.service.submit();
            },

            /**
             * Expected to be called when a tick card is loaded and the test is still running
             */
            continuePolling: function() {
                this.$.service.startPolling();
            }
        });
    </script>
</polymer-element>



<polymer-element name="report-component" attributes="reportAvailable repoName repo testRunning unitPass" assetpath="elements/tick-card/">
    <template>
        <style type="text/css" shim-shadowdom="">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
        <style type="text/css" shim-shadowdom="">paper-button {
    width: 100%;
    background: #4285f4;
    color: #fff;
}

paper-progress {
    width: 100%;
}

.error {
    text-align: center;
    color: #757575;
}

#progressCaption {
    color: #757575;
}</style>
        <style>
            .redButton {
                background: #e51c23;
            }
            .amberButton {

            }
            .greenButton {
                background: #259b24;
            }
        </style>

        <!-- View report button -->
        <core-collapse opened?="{{reportAvailable}}">
            <paper-button class="{{unitPass ? &apos;greenButton&apos; : &apos;redButton&apos;}}" label="LATEST REPORT" on-tap="{{showReport}}"></paper-button>
        </core-collapse>

        <!-- No report available error message -->
        <core-collapse opened?="{{!reportAvailable}}">
            <div class="error">No reports available</div>
        </core-collapse>
    </template>
    <script>
        Polymer('report-component', {
            ready: function() {
                this.testRan = null;
            },

            showReport: function() {
                var regex = /urop2014\.dtg\.cl\.cam\.ac\.uk\/(.*)\.git/;
                this.repoName = this.repo.match(regex)[1];
            }

            /*testRunningChanged: function() {
                if (this.testRunning) {
                    this.testRan = true;
                } else {
                    if (this.testRan) {
                        this.showReport();
                    }
                }
            }*/
        });
    </script>
</polymer-element>







<polymer-element name="sheet-selector" attributes="sheets tickId" assetpath="elements/">
	<template>
		<style type="text/css">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
		<style type="text/css">:host {
	display: block;
}
.custom-dropdown {
	width: 100%;
	padding: 5px 0 5px 0;
}

.custom-dropdown__select{
	width: 100%;
	font-size: 1rem; 
	padding: .5em; /* add some space*/
	margin: 0; /* remove default margins */
	background: #f0f0f0;
}

@supports (pointer-events: none) and
((-webkit-appearance: none) or
	(-moz-appearance: none) or
	(appearance: none)) {

	.custom-dropdown {
		position: relative;
		display: inline-block;
		vertical-align: middle;
	}

	.custom-dropdown__select {
		padding-right: 2.5em; /* accommodate with the pseudo elements for the dropdown arrow */
		border: 0;
		border-radius: 3px;
		-webkit-appearance: none;
		-moz-appearance: none;
		appearance: none;    
	}

	.custom-dropdown::before, .custom-dropdown::after {
		content: "";
		position: absolute;
		pointer-events: none;
	}

	.custom-dropdown::after { /*  Custom dropdown arrow */
		content: "\25BC";
		height: 1em;
		font-size: .625em;
		line-height: 1;
		right: 1.2em;
		top: 50%; margin-top: -.5em;
	}

	.custom-dropdown::before { /*  Custom dropdown arrow cover */
		width: 2em;
		right: 0; top: 0; bottom: 0;
		border-radius: 0 3px 3px 0;
	}

	/* FF only temp fix */
	@-moz-document url-prefix() {
		.custom-dropdown__select { padding-right: .9em }
	}
}</style>

		<!-- Signup slots API. -->
		<core-ajax id="slotsAPI" url="" handleas="json" on-core-response="{{slotsResponse}}">
		</core-ajax>

		<!-- Signup make bookings API. -->
		<core-ajax id="bookingsAPI" url="" contenttype="application/json" handleas="json" method="POST" on-core-response="{{bookingsResponse}}" on-core-error="{{bookingsError}}">
		</core-ajax>

		<paper-dialog id="dialog" backdrop="" heading="Book a Ticking Slot:" transition="core-transition-top">
		<div layout="" vertical="" center="">
			<div class="custom-dropdown">
				<select id="selector" on-change="{{sheetSelectionChanged}}" class="custom-dropdown__select">
					<option disabled selected>Select Ticking Session...</option>
					<template repeat="{{sheet in sheets}}">
						<option sheetid="{{sheet._id}}">{{sheet.title}}</option>
						</template>
				</select>
			</div>
			<div class="custom-dropdown">
				<select id="slotSelector" on-change="{{slotSelectionChanged}}" class="custom-dropdown__select">
					<option disabled selected>Select Ticking Slot...</option>
					<template repeat="{{date in dates}}">
						<option value="{{date}}">{{date | dateFilter}}</option>
					</template>
				</select>
			</div>
		</div>

			<template if="{{slotSelection}}">
				<paper-button id="sheetSubmit" class="dialogSubmit" label="SIGN UP" on-click="{{signUpClicked}}" affirmative=""></paper-button>
			</template>

		</paper-dialog>

		<!-- Booking response toasts. -->
		<paper-toast id="bookingSucessfulToast" duration="3000"></paper-toast>
		<paper-toast id="bookingErrorToast" duration="3000"></paper-toast>

	</template>
	<script>
		Polymer('sheet-selector', {
			toggle: function () {
				this.$.dialog.toggle();
			},

			sheetSelectionChanged: function () {
				var sel = this.$.selector;
				this.sheetSelection = sel.options[sel.selectedIndex].getAttribute('sheetid');
				this.$.slotsAPI.url = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/sheets/" +
					 this.sheetSelection + "/times/" + this.tickId;
				this.$.slotsAPI.go();
			},

			signUpClicked: function () {
				console.log('Book:\nSheet: ' + this.sheetSelection + 'Slot: ' + this.slotSelection);
				this.$.bookingsAPI.url = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/sheets/" +
					this.sheetSelection + "/bookings";
				var parseDate = Date.parse(this.slotSelection);
				this.$.bookingsAPI.body = '{ "tickID" : "' + this.tickId + '", "startTime" : "' + parseDate + '" }';
				this.$.bookingsAPI.go();
			},

			slotsResponse: function () {
				var r = this.$.slotsAPI.response;
				this.dates = r.map(function (obj) {
					return new Date(obj);
				});
			},

			slotSelectionChanged: function () {
				var sel = this.$.slotSelector;
				this.slotSelection = sel.options[sel.selectedIndex].value;
			},

			dateFilter: function(item) {
				return item.toLocaleString();
			},

			bookingsResponse: function () {
				this.$.bookingSucessfulToast.text = "Booking created for " + (new Date(this.slotSelection)).toLocaleString() + ".";
				this.$.bookingSucessfulToast.show();

				this.fire('slot-booked', {
					sheetId: this.sheetSelection,
					slot: (new Date(this.slotSelection))
				})
			},

			bookingsError: function (e, detail) {
				this.$.bookingErrorToast.text = detail.xhr.responseText;
				this.$.bookingErrorToast.show();
			}

		});
	</script>
</polymer-element>



<polymer-element name="signup-component" attributes="tickId sheets signedUp unitPass testRunning humanPass" assetpath="elements/tick-card/">
    <template>
        <style type="text/css" shim-shadowdom="">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
        <style type="text/css" shim-shadowdom="">paper-button {
    width: 100%;
    background: #4285f4;
    color: #fff;
}

paper-progress {
    width: 100%;
}

.error {
    text-align: center;
    color: #757575;
}

#progressCaption {
    color: #757575;
}</style>

        <style>
            .dialogYes {
                background-color: #259b24; /* Material Green 500 */
                color: #FFFFFF;
                margin-left: 5px;
            }
            .dialogNo {
                background-color: #e51c23; /* Material Red 500 */
                color: #FFFFFF;
                margin-right: 5px;
            }
        </style>

        <!-- Call to delete a sign up -->
        <core-ajax id="ajaxDeleteBooking" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/bookings/&apos; + tickId + &apos;/&apos;}}" handleas="json" method="DELETE" on-core-response="{{deleteSuccess}}" on-core-error="{{deleteError}}">
        </core-ajax>



        <!-- Sign up button -->
        <core-collapse opened?="{{!signedUp &amp;&amp; !testRunning &amp;&amp; unitPass &amp;&amp; !humanPass}}">
            <paper-button label="SIGN UP" on-tap="{{openSignupDialog}}"></paper-button>
        </core-collapse>

        <!-- Cancel sign up button -->
        <core-collapse opened?="{{signedUp &amp;&amp; !humanPass}}">
            <paper-button label="CANCEL SIGN UP" on-tap="{{showCancelDialog}}"></paper-button>
        </core-collapse>

        <!-- Error message: sign up unavailable because the unit tester has not been passed -->
        <core-collapse opened?="{{!testRunning &amp;&amp; !unitPass &amp;&amp; !humanPass}}">
            <div class="error">Sign up unavailable (automated tests not passed)</div>
        </core-collapse>

        <!-- Error message: sign up unavailable because a test is running -->
        <core-collapse opened?="{{testRunning &amp;&amp; !humanPass}}">
            <div class="error">Sign up unavailable (test running)</div>
        </core-collapse>

        <!-- Error message: tick has been passed -->
        <core-collapse opened?="{{humanPass}}">
            <div class="error">PASSED</div>
        </core-collapse>

        <!-- Sign ups dialog -->
        <sheet-selector id="signupDialog" sheets="{{sheets}}" tickid="{{tickId}}"></sheet-selector>

        <paper-dialog id="cancelDialog" heading="Cancel Sign up?" backdrop="" transition="core-transition-top">
            <paper-button class="dialogNo" dismissive="" label="No"></paper-button>
            <paper-button class="dialogYes" affirmative="" label="Yes" on-tap="{{deleteBooking}}"></paper-button>
        </paper-dialog>

        <paper-toast id="toastDeleteSuccess" text="Booking cancelled."></paper-toast>
        <paper-toast id="toastDeleteError" text="Error cancelling booking."></paper-toast>
    </template>
    <script>
        Polymer('signup-component', {
            domReady: function() {
                var that = this;
                this.$.signupDialog.addEventListener('slot-booked', function(e){
                    console.log(e);
                    that.signedUp = true;
                });
            },

            openSignupDialog: function() {
                this.$.signupDialog.toggle();
            },

            showCancelDialog: function() {
                this.$.cancelDialog.toggle();
            },

            deleteBooking: function() {
                this.$.ajaxDeleteBooking.go();
            },

            deleteSuccess: function() {
                this.signedUp = false;
                this.$.toastDeleteSuccess.toggle();
            },

            deleteError: function() {
                this.$.toastDeleteError.toggle();
            }
        });
    </script>
</polymer-element>



<polymer-element name="fork-service" attributes="unitPass humanPass signedUp testRunning reportAvailable repo tickId" assetpath="elements/tick-card/">
    <template>
        <style>
            :host {
                display: none;
            }
        </style>

        <!-- Load fork object for this tick -->
        <core-ajax id="ajaxLoad" auto="" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/fork/&apos; + tickId + &apos;/&apos;}}" handleas="json" method="POST" on-core-response="{{forkObjectLoaded}}">
        </core-ajax>

        <!--<core-ajax
                auto
                url="http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/fork/as2388,test3"
                method="POST"
                handleAs="json"
                ></core-ajax>-->
    </template>
    <script>
        Polymer('fork-service', {
            forkObjectLoaded: function() {
                console.log("fork loaded");

                var forkObj = this.$.ajaxLoad.response;
                console.log(forkObj);

                this.unitPass = forkObj.unitPass;
                this.humanPass = forkObj.humanPass;
                this.signedUp = forkObj.signedUp;
                this.testRunning = forkObj.testing;
                this.reportAvailable = forkObj.reportAvailable;
                this.repo = forkObj.repo;

                if (this.testRunning) {
                    this.fire('test-running')
                }

                /*this.unitPass = true;
                this.humanPass = false;
                this.signedUp = true;
                this.testRunning = false;
                this.reportAvailable = true;
                this.repo = "http://stuff";*/
            }

            //TODO: handle ajaxLoad on-core-error
        });
    </script>
</polymer-element>

<polymer-element name="tick-card" attributes="tickName tickId sheets repoName" assetpath="elements/tick-card/">
    <template>
        <style>:host {
	display: block;
	width: 100%;
}

#personListContainer {
	width: 100%;
	max-height: calc(60px * {{rows}});
	overflow: auto;
}

h1 {
	font-size: 1.8rem;
	font-weight: 100;
	padding: 0 0 0 10px;
}</style>
        <style>
            .spacer {
                width: 10px;
            }
        </style>

        <!-- for managing fork object data -->
        <fork-service id="forkService" tickid="{{tickId}}" unitpass="{{unitPass}}" humanpass="{{humanPass}}" signedup="{{signedUp}}" testrunning="{{testRunning}}" reportavailable="{{reportAvailable}}" repo="{{repo}}">
        </fork-service>

        <div id="mainContainer">
            <h1>{{tickName}}</h1>
            <div layout="" horizontal="">
                <div class="spacer"></div>
                <div>{{repo}}</div>
            </div>

            <br>

            <div layout="" horizontal="">
                <div class="spacer"></div>
                <submit-component flex="" id="submitComponent" tickid="{{tickId}}" signedup="{{signedUp}}" testrunning="{{testRunning}}" reportavailable="{{reportAvailable}}" unitpass="{{unitPass}}" humanpass="{{humanPass}}">
                </submit-component>
                <div class="spacer"></div>
                <report-component flex="" reportavailable="{{reportAvailable}}" reponame="{{repoName}}" repo="{{repo}}" testrunning="{{testRunning}}" unitpass="{{unitPass}}"></report-component>
                <div class="spacer"></div>
                <signup-component flex="" sheets="{{sheets}}" signedup="{{signedUp}}" unitpass="{{unitPass}}" testrunning="{{testRunning}}" tickid="{{tickId}}" humanpass="{{humanPass}}">
                </signup-component>
                <div class="spacer"></div>
            </div>
        </div>
        <br><br>
    </template>
    <script>
        Polymer('tick-card', {
            created: function() {
                this.unitPass = null;
                this.humanPass = null;
                this.signedUp = null;
                this.testRunning = null;
                this.reportAvailable  = null;
                this.repo = null;

                this.repoName = null;
            },

            domReady: function() {
                var that = this.$;
                this.$.forkService.addEventListener('test-running', function(e) {
                    that.submitComponent.continuePolling();
                });
            }



           /* testRunningChanged: function() {
                console.log(this.testRunning);

                if (this.testRunning == true) {
                    this.$.submitComponent.continuePolling();
                }
            }*/
        });
    </script>
</polymer-element>












<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-radio-group` allows user to select only one radio button from a set.
Checking one radio button that belongs to a radio group unchecks any 
previously checked radio button within the same group. Use
`selected` to get or set the selected radio button.

Example:

    <paper-radio-group selected="small">
      <paper-radio-button name="small" label="Small"></paper-radio-button>
      <paper-radio-button name="medium" label="Medium"></paper-radio-button>
      <paper-radio-button name="large" label="Large"></paper-radio-button>
    </paper-radio-group>

See <a href="../paper-radio-button/">paper-radio-button</a> for more
information about `paper-radio-button`.

@group Paper Elements
@element paper-radio-group
@extends core-selector
@homepage github.io
-->




<polymer-element name="paper-radio-group" extends="core-selector" role="radiogroup" assetpath="bower_components/paper-radio-group/">

  <template>
  
    <style>
    
      :host {
        display: inline-block;
      }
  
      polyfill-next-selector { content: ':host > *'; }
      ::content > * {
        padding: 12px;
      }
    
    </style>
  
    <shadow></shadow>
    
  </template>
  
  <script>
  
    Polymer('paper-radio-group', {
      
      selectedAttribute: 'checked',
      activateEvent: 'paper-radio-button-activate'
      
    });
  
  </script>
  
</polymer-element>




<polymer-element name="ticker-signups-viewport" attributes="sessionId description location crsId tickId repoName ticker" assetpath="elements/tickerSignupsView/">
  <template>
    <style>
    :host {
      background-color: white;
      padding: 10px;
      width: 100%;
      font-size: 1.2rem;
	  color: black;
      font-weight: 300;
    }
    .card-header {
	  padding-top: 5px
      margin-bottom: 10px;
    }
    </style>
	
	<!-- Get tickers for this session -->
    <core-ajax id="ajaxLoadTickers" url="{{pathLoadTickers}}" handleas="json" contenttype="application/json" on-core-response="{{tickersDataLoaded}}" on-core-error="{{alertError}}">
    </core-ajax>
	
	<!-- Get slots for this session and ticker -->
    <core-ajax id="ajaxLoadSlots" url="{{pathLoadSlots}}" handleas="json" contenttype="application/json" on-core-response="{{slotsDataLoaded}}" on-core-error="{{alertError}}">
    </core-ajax>
	
	<div layout="" vertical="">
		<div id="card-header" align="left">
			<core-item icon="home" label="{{location}}"></core-item>
			<core-item icon="today" label="Date : {{date}}"></core-item>
			<core-item icon="info" label="{{description}}"></core-item>
			<!-- would it be possible for class to contain date of session too? -->
		</div>
		<div id="ticker-select-panel" align="center">
			<paper-radio-group selected="{{selected}}" on-change="{{tickerChange}}" layout="" horizontal="" flex="">
				<template repeat="{{ticker in tickers}}">
					<paper-radio-button label="{{ticker.name}}" flex=""></paper-radio-button>
				</template>
			</paper-radio-group>
		</div>
		<div id="slots-view-panel" align="center">
				<template repeat="{{slot in slots}}">
					<span layout="" horizontal="" center="" style="border:black solid 1px" flex="">
						<div align="left" flex="" three="">
							<core-item label="{{slot.student==&apos;&apos; ? slot.timeStamp + &apos;  Empty Slot&apos; : slot.timeStamp + &apos;  crsid : &apos; + slot.student + &apos; ,  tick : &apos; + slot.comment}}" style="min-height:20px" span=""></core-item>
						</div>
						<div hidden?="{{slot.hidden}}" flex="">
							<span>View Report</span>
							<core-icon-button on-tap="{{getReport}}" label="View Report" align="right" id="{{slot._id}}" icon="archive" size="1"></core-icon-button>
						</div>
					</span>
				</template>
		</div>
	</div>
	
  </template>
  <script>
  Polymer('ticker-signups-viewport', {
			ready: function() {
			},
			refresh: function() {
				this.crsId = "";
				this.tickId = "";
				this.repoName = "";
				this.pathLoadTickers = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/sheets/" + this.sessionId;
				if (this.location === "Location : undefined") {
					this.location = "Location : No location is available";
				}
				if (this.description === "Description : undefined") {
					this.description = "Description : No description is available";
				}
				this.$.ajaxLoadTickers.go();
			},
			tickersDataLoaded: function() {
				var loadedTickers = this.$.ajaxLoadTickers.response.slice(0);
				this.tickers = [];
				for (var i = 0; i < loadedTickers.length; i++) {
					this.tickers.push({name: loadedTickers[i].name});
				}
				this.selected = 0;
				this.ticker = this.tickers[0].name;
			},	
			slotsDataLoaded: function() {
				var loadedSlots = this.$.ajaxLoadSlots.response.slice(0);
				this.slots = [];
				for (var i = 0; i < loadedSlots.length; i++) {
					var hour = loadedSlots[i].startTime.split(":")[0].split("T")[1];
					var min = loadedSlots[i].startTime.split(":")[1];
					var timeSlot = hour + ":" + min;
					<!-- check this conversion is right -->
					var durationInMinutes = loadedSlots[i].duration/60000;
					var student = loadedSlots[i].bookedUser;
					var comment = loadedSlots[i].comment;
					var hidden = false;
					if(student === undefined || student===null) {
						student = "";
						comment = "Empty Slot";
						hidden = true;
					}
					<!-- sort out leading zero -->
					var endMin = parseInt(min) + parseInt(durationInMinutes);
					var endHour = parseInt(hour);
					while (endMin >= 60) {
						endMin = endMin%60;
						endHour++;
					}
					var leadingZero = "";
					if (endMin < 10) {
						leadingZero = "0";
					}
					var timeStamp = hour + ":" + min + " - " + endHour + ":" + leadingZero + endMin;
					this.slots.push({_id: loadedSlots[i]._id , duration: durationInMinutes , student: student, comment: comment,
									 time : timeSlot, timeStamp: timeStamp, hidden : hidden});
				}
				this.date = loadedSlots[0].startTime.split(":")[0].split("T")[0];
			},
			alertError: function() {
				alert("Sorry, something went wrong accessing signups data");
			},
			tickerChange: function(event) {
				if(event.target.checked) {
					this.ticker = event.target.label;
					this.pathLoadSlots = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/sheets/" + this.sessionId + "/tickers/" + this.ticker;
					this.$.ajaxLoadSlots.go();
				}
			},
			getReport : function(event) {
				var slotId = event.target.id;
				for(i=0;i<this.slots.length;i++) {
					if(this.slots[i]._id === slotId) {
						this.crsId = this.slots[i].student;
						this.tickId = this.slots[i].comment;
						this.repoName = this.crsId + "/" + this.tickId.replace(",","/");
						break;
					}
				}
			}
		})
  </script>
</polymer-element>


<polymer-element name="ticker-signups-card" attributes="crsId tickId repoName ticker groupId sessionId" assetpath="elements/tickerSignupsView/">
    <template>
        <style>
            :host {
                width: 100%;
                font-size: 1.2rem;
                font-weight: 300;
            }
            .topBar {
                height : 100%;
                width : 100%;
            }
            .viewer-panel {
                padding: 20px;
				padding-top: 5px;
                width: 100%;
                font-size: 1.2rem;
                font-weight: 300;
            }
            core-item.core-selected {
                color: purple;
            }

        </style>

        <!-- Get sessions for this group - note group context will need to be provided! -->
        <core-ajax id="ajaxLoadSessions" url="{{pathLoadGroupSessions}}" handleas="json" contenttype="application/json" on-core-response="{{sessionsDataLoaded}}" on-core-error="{{alertError}}">
        </core-ajax>
        <div class="topBar" layout="" horizontal="">
            <core-toolbar flex="" style="background:#afbfff">
                <paper-icon-button id="navicon" icon="list" size="5" align="left" on-tap="{{toggleMenu}}"></paper-icon-button>
                <div id="title"></div>
            </core-toolbar>
        </div>

        <div layout="" horizontal="">
            <div class="navigation-panel" layout="" horizontal="">
                <core-collapse id="panel" horizontal="true" opened="true" layout="" vertical="" style="background:#e8eaf6;border-color:#1a237e;border-right-style:
					   solid;border-bottom-style:solid;border-width:1px" on-core-select="{{panelAction1}}">
                    <core-menu>
                        <template repeat="{{session in sessions}}">
                            <core-item icon="book" label="{{session.name}}" id="{{session._id}}" on-tap="{{panelAction2}}"></core-item>
                        </template>
                    </core-menu>
                </core-collapse>
            </div>
            <div flex="" class="viewer-panel">
                <ticker-signups-viewport crsid="{{crsId}}" tickid="{{tickId}}" reponame="{{repoName}}" ticker="{{ticker}}" id="view" sessionid="{{sessionId}}" description="{{description}}" location="{{location}}"></ticker-signups-viewport>
            </div>
        </div>


    </template>
    <script>
        Polymer( 'ticker-signups-card', {
            domReady: function() {
                this.pathLoadGroupSessions = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/groups/" + this.groupId;
                this.$.title.innerHTML ="Please Select a Session to View";
                this.$.ajaxLoadSessions.go();
                this.$.view.hidden = true;
            },
            toggleMenu: function() {
                this.$.panel.toggle();
            },
            sessionsDataLoaded: function() {
                var loadedSessions = this.$.ajaxLoadSessions.response.slice(0);
                this.sessions = [];

                for (var i = 0; i < loadedSessions.length; i++) {
                    this.sessions.push({_id: loadedSessions[i]._id, name: loadedSessions[i].title, location: loadedSessions[i].location, description: loadedSessions[i].description});
                }

                if (this.sessions.length === 0) {
                    this.$.title.innerHTML ="Sorry, there are no Ticking Sessions available for this Group yet";
                }
            },
            panelAction1: function(e,detail) {
                if (detail.isSelected) {
                    var selectedItem = detail.item.label;
                    var selectedItemId = detail.item.id;
                    for(i=0;i<this.sessions.length;i++){
                        if(this.sessions[i]._id === selectedItemId) {
                            var selectedItemLocation = "Location : " + this.sessions[i].location;
                            var selectedItemDescription = "Description : " + this.sessions[i].description;
                            break;
                        }
                    }
                    this.$.title.innerHTML ="Signups Sheet for " + selectedItem;
                    this.sessionId = selectedItemId;
                    this.description = selectedItemDescription;
                    this.location = selectedItemLocation;
                    this.$.view.hidden = false;
                    this.$.view.refresh();
                }
            },
            panelAction2: function() {
                this.toggleMenu();
            },
            alertError: function() {
                alert("Sorry, something went wrong");
            },
            crsIdChanged: function() {
                console.log("Switching report to: crsid: " + this.crsId + ", tickId: " + this.tickId + ", repoName: " + this.repoName + ", ticker: " + this.ticker);
            }
        })
    </script>
</polymer-element>


<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`core-splitter` provides a spilt bar and dragging on the split bar
will resize the sibling element.  Use its `direction` property to indicate
which sibling element to be resized and the orientation.  Usually you would want
to use `core-splitter` along with flex layout so that the other sibling
element can be _flexible_.

Example:

    <div horizontal layout>
      <div>left</div>
      <core-splitter direction="left"></core-splitter>
      <div flex>right</div>
    </div>

In the above example, dragging the splitter will resize the _left_ element.  And
since the parent container is a flexbox and the _right_ element has
`flex`, the _right_ elemnt will be auto-resized.

For horizontal splitter set `direction` to "up" or "down".

Example:

    <div vertical layout>
      <div>top</div>
      <core-splitter direction="up"></core-splitter>
      <div flex>bottom</div>
    </div>

@group Polymer Core Elements
@element core-splitter
@homepage github.io
-->



<polymer-element name="core-splitter" attributes="direction locked minSize allowOverflow disableSelection" on-trackstart="{{trackStart}}" on-track="{{track}}" on-trackend="{{trackEnd}}" assetpath="bower_components/core-splitter/">

<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: block;
  width: 12px;
  background: #efefef url(bower_components/core-splitter/handle.svg) no-repeat center;
  box-shadow: inset 0 0 2px 1px #ccc;
  cursor: col-resize;
}

:host(.horizontal) {
  width: auto;
  height: 12px;
  cursor: row-resize;
  background-image: url(bower_components/core-splitter/handle-h.svg);
}

:host(:hover, :active) {
  background-color: #ddd;
}
</style>

</template>
<script>

  Polymer('core-splitter', {

    /**
     * Possible values are "left", "right", "up" and "down".
     *
     * @attribute direction
     * @type string
     * @default 'left'
     */
    direction: 'left',

    /**
     * Minimum width to which the splitter target can be sized
     *
     * @attribute minSize
     * @type number
     * @default 0
     */
    minSize: 0,

    /**
     * Locks the split bar so it can't be dragged.
     *
     * @attribute locked
     * @type boolean
     * @default false
     */
    locked: false,

    /**
     * By default the parent and siblings of the splitter are set to overflow hidden. This helps
     * avoid elements bleeding outside the splitter regions. Set this property to true to allow
     * these elements to overflow.
     *
     * @attribute allowOverflow
     * @type boolean
     * @default false
     */
    allowOverflow: false,

    /**
     * Disables the selection of text while the splitter is being moved
     *
     * @attribute disableSelection
     * @type boolean
     * @type default false
     */
     disableSelection: false,

    ready: function() {
      this.directionChanged();
    },

    domReady: function() {
      if (!this.allowOverflow) {
        this.parentNode.style.overflow = this.nextElementSibling.style.overflow =
            this.previousElementSibling.style.overflow = 'hidden';
      }
    },

    directionChanged: function() {
      this.isNext = this.direction === 'right' || this.direction === 'down';
      this.horizontal = this.direction === 'up' || this.direction === 'down';
      this.update();
    },

    update: function() {
      this.target = this.isNext ? this.nextElementSibling : this.previousElementSibling;
      this.dimension = this.horizontal ? 'height' : 'width';
      this.classList.toggle('horizontal', this.horizontal);
    },

    targetChanged: function(old) {
      if (old) {
        old.style[old.__splitterMinSize] = '';
      }
      var min = this.target.__splitterMinSize = this.horizontal ? 'minHeight' : 'minWidth';
      this.target.style[min] = this.minSize + 'px';
    },

    trackStart: function() {
      this.update();
      this.size = parseInt(getComputedStyle(this.target)[this.dimension]);
      if (this.disableSelection) {
        var s = this.parentNode.style;
        s.webkitUserSelect = s.MozUserSelect = s.msUserSelect = 'none';
      }
    },

    track: function(e) {
      if (this.locked) {
        return;
      }
      var d = e[this.horizontal ? 'dy' : 'dx'];
      this.target.style[this.dimension] =
        this.size + (this.isNext ? -d : d) + 'px';
    },
    trackEnd: function (e) {
      if (this.disableSelection) {
        var s = this.parentNode.style;
        s.webkitUserSelect = s.MozUserSelect = s.msUserSelect = '';
      }
    }

  });

</script>
</polymer-element>

<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->


<script src="bower_components/marked/lib/marked.js"></script>


<!--
Element wrapper for the `marked` (http://marked.org/) library.

@class marked-element
@blurb Element wrapper for the marked library.
@status alpha
@snap snap.png
-->
<polymer-element name="marked-element" attributes="text" assetpath="bower_components/marked-element/">
<script>

  Polymer('marked-element', {

    text: '',

    attached: function() {
      marked.setOptions({
        highlight: this.highlight.bind(this)
      });
      if (!this.text) {
        this.text = this.innerHTML;
      }
    },

    textChanged: function () {
      this.innerHTML = marked(this.text);
    },

    highlight: function(code, lang) {
      var event = this.fire('marked-js-highlight', {code: code, lang: lang});
      return event.detail.code || code;
    }

  });

</script>
</polymer-element>


<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->


<polymer-element name="files-service" attributes="date
                files
                crsid
                errors
                tickId
                comments
                commitId
                repoName
                testCount
                testResult
                tickerResult
                reportResult
                reportCreationDate" assetpath="elements/file-browser/">
  <template>
    <style>
    :host {
      display: none;
    }
    </style>
    <core-ajax id="report" auto="" on-core-response="{{reportLoaded}}" handleas="json">
    </core-ajax>
    <core-ajax id="fileContent" auto="" on-core-response="{{filesLoaded}}" handleas="json">
    </core-ajax>
  </template>
  <script src="hardcoded.js"></script>
  <script>
  Polymer('files-service'
    , {   repoNameChanged:
          function ()
          {
            "use strict";

            if (typeof this.crsid == typeof undefined
              ||this.crsid == null)
            {
              this.$.report.url =
                ticking_service + "/submission/" + this.tickId + "/last";
            }
            else
            {
              this.$.report.url =
                ticking_service + "/submission/" + this.tickId + "/last"
                + "?crsid=" + this.crsid;
            }

          }

        , reportLoaded:
          function()
          {
            "use strict";

            if (typeof this.$.report.response != typeof Object())
            {
              this.testResult = "FAIL";
              this.tickerResult = "FAIL";
              this.reportResult = "FAIL";
              this.testResult = "FAIL";
              this.errors = [];
              this.files =
                [{   "name": "Error"
                   , "content": "Failed to load report!"
                }]
                this.fire('files-loaded');

                return;
            }
            /* Load files, fires due to auto attribute */
            if (typeof this.crsid == typeof undefined
              ||this.crsid == null)
            {
              this.$.fileContent.url =
                ticking_service + "/fork/"
                + this.tickId + "/"
                + this.$.report.response.commitId
                + "/files";
            }
            else
            {
              this.$.fileContent.url =
                ticking_service + "/fork/"
                + this.tickId + "/"
                + this.$.report.response.commitId
                + "/files?crsid="
                + this.crsid;
            }

            /* Make a copy of the loaded data */
            this.testResult   = this.$.report.response.testResult;
            this.tickerResult = this.$.report.response.tickerResult;
            this.reportResult = this.$.report.response.reportResult;
            this.comments     = this.$.report.response.tickerComments;
            this.errors       = this.$.report.response.items;
            this.commitId     = this.$.report.response.commitId;
            this.date         = new Date(this.$.report.response
                                                    .creationDate);
            this.testCount    = this.$.report.response.noOfTests;

            var i;
            for (i = 0; i < this.errors.length; i++)
            {
              this.errors[i].id = i;
            }
          }

        , filesLoaded:
          function ()
          {
            "use strict";

            this.files = this.$.fileContent.response;

            var i;
            for (i = 0; i < this.files.length; i++)
            {
              this.files[i].id = i;
            }

            this.fire('files-loaded');
          }
      });
  </script>
</polymer-element>

<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->

<script src="bower_components/highlightjs/highlight.pack.js"></script>



<!--
Element wrapper for the `highlightjs` (http://highlightjs.org/) library.

##### Example

    <highlightjs-element text="def somefunc(param1='', param2=0):"></highlightjs-element>

##### Example

    <highlightjs-element>
      <template>
    
        <link rel="import" href="/components/polymer/polymer.html">
        <polymer-element name="proto-element">
        <template>
          <span>I'm <b>proto-element</b>. Check out my prototype.</span>
        </template>
        <script>
          Polymer({
          });
        </script>
        </polymer-element>
    
      </template>
    </highlightjs-element>

@class highlightjs-element
@blurb Element wrapper for the highlightjs library.
@status alpha
@snap snap.png
-->
<polymer-element name="highlightjs-element" attributes="text" assetpath="bower_components/highlightjs-element/">

  <template>

    <style>
      :host {
        display: block;
      }
    </style>

    <style>/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>

*/

.hljs {
  display: block; padding: 0.5em;
  background: #F0F0F0;
}

.hljs,
.hljs-subst,
.hljs-tag .hljs-title,
.lisp .hljs-title,
.clojure .hljs-built_in,
.nginx .hljs-title {
  color: black;
}

.hljs-string,
.hljs-title,
.hljs-constant,
.hljs-parent,
.hljs-tag .hljs-value,
.hljs-rules .hljs-value,
.hljs-rules .hljs-value .hljs-number,
.hljs-preprocessor,
.hljs-pragma,
.haml .hljs-symbol,
.ruby .hljs-symbol,
.ruby .hljs-symbol .hljs-string,
.hljs-aggregate,
.hljs-template_tag,
.django .hljs-variable,
.smalltalk .hljs-class,
.hljs-addition,
.hljs-flow,
.hljs-stream,
.bash .hljs-variable,
.apache .hljs-tag,
.apache .hljs-cbracket,
.tex .hljs-command,
.tex .hljs-special,
.erlang_repl .hljs-function_or_atom,
.asciidoc .hljs-header,
.markdown .hljs-header,
.coffeescript .hljs-attribute {
  color: #800;
}

.smartquote,
.hljs-comment,
.hljs-annotation,
.hljs-template_comment,
.diff .hljs-header,
.hljs-chunk,
.asciidoc .hljs-blockquote,
.markdown .hljs-blockquote {
  color: #888;
}

.hljs-number,
.hljs-date,
.hljs-regexp,
.hljs-literal,
.hljs-hexcolor,
.smalltalk .hljs-symbol,
.smalltalk .hljs-char,
.go .hljs-constant,
.hljs-change,
.lasso .hljs-variable,
.makefile .hljs-variable,
.asciidoc .hljs-bullet,
.markdown .hljs-bullet,
.asciidoc .hljs-link_url,
.markdown .hljs-link_url {
  color: #080;
}

.hljs-label,
.hljs-javadoc,
.ruby .hljs-string,
.hljs-decorator,
.hljs-filter .hljs-argument,
.hljs-localvars,
.hljs-array,
.hljs-attr_selector,
.hljs-important,
.hljs-pseudo,
.hljs-pi,
.haml .hljs-bullet,
.hljs-doctype,
.hljs-deletion,
.hljs-envvar,
.hljs-shebang,
.apache .hljs-sqbracket,
.nginx .hljs-built_in,
.tex .hljs-formula,
.erlang_repl .hljs-reserved,
.hljs-prompt,
.asciidoc .hljs-link_label,
.markdown .hljs-link_label,
.vhdl .hljs-attribute,
.clojure .hljs-attribute,
.asciidoc .hljs-attribute,
.lasso .hljs-attribute,
.coffeescript .hljs-property,
.hljs-phony {
  color: #88F
}

.hljs-keyword,
.hljs-id,
.hljs-title,
.hljs-built_in,
.hljs-aggregate,
.css .hljs-tag,
.hljs-javadoctag,
.hljs-phpdoc,
.hljs-yardoctag,
.smalltalk .hljs-class,
.hljs-winutils,
.bash .hljs-variable,
.apache .hljs-tag,
.go .hljs-typename,
.tex .hljs-command,
.asciidoc .hljs-strong,
.markdown .hljs-strong,
.hljs-request,
.hljs-status {
  font-weight: bold;
}

.asciidoc .hljs-emphasis,
.markdown .hljs-emphasis {
  font-style: italic;
}

.nginx .hljs-built_in {
  font-weight: normal;
}

.coffeescript .javascript,
.javascript .xml,
.lasso .markup,
.tex .hljs-formula,
.xml .javascript,
.xml .vbscript,
.xml .css,
.xml .hljs-cdata {
  opacity: 0.5;
}
</style>
    <style>/* Base16 Atelier Forest Light - Theme */
/* by Bram de Haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest) */ 
/* Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16) */
/* https://github.com/jmblog/color-themes-for-highlightjs */

/* Atelier Forest Light Comment */
.hljs-comment,
.hljs-title {
  color: #766e6b;
}

/* Atelier Forest Light Red */
.hljs-variable,
.hljs-attribute,
.hljs-tag,
.hljs-regexp,
.ruby .hljs-constant,
.xml .hljs-tag .hljs-title,
.xml .hljs-pi,
.xml .hljs-doctype,
.html .hljs-doctype,
.css .hljs-id,
.css .hljs-class,
.css .hljs-pseudo {
  color: #f22c40;
}

/* Atelier Forest Light Orange */
.hljs-number,
.hljs-preprocessor,
.hljs-pragma,
.hljs-built_in,
.hljs-literal,
.hljs-params,
.hljs-constant {
  color: #df5320;
}

/* Atelier Forest Light Yellow */
.hljs-ruby .hljs-class .hljs-title,
.css .hljs-rules .hljs-attribute {
  color: #d5911a;
}

/* Atelier Forest Light Green */
.hljs-string,
.hljs-value,
.hljs-inheritance,
.hljs-header,
.ruby .hljs-symbol,
.xml .hljs-cdata {
  color: #5ab738;
}

/* Atelier Forest Light Aqua */
.css .hljs-hexcolor {
  color: #00ad9c;
}

/* Atelier Forest Light Blue */
.hljs-function,
.python .hljs-decorator,
.python .hljs-title,
.ruby .hljs-function .hljs-title,
.ruby .hljs-title .hljs-keyword,
.perl .hljs-sub,
.javascript .hljs-title,
.coffeescript .hljs-title {
  color: #407ee7;
}

/* Atelier Forest Light Purple */
.hljs-keyword,
.javascript .hljs-function {
  color: #6666ea;
}

.hljs {
  display: block;
  background: #f1efee;
  color: #68615e;
  padding: 0.5em;
}

.coffeescript .javascript,
.javascript .xml,
.tex .hljs-formula,
.xml .javascript,
.xml .vbscript,
.xml .css,
.xml .hljs-cdata {
  opacity: 0.5;
}
</style>

    <pre id="content"></pre>

  </template>

  <script>

    Polymer('highlightjs-element', {

      domReady: function() {
        if (!this.text) {
          if (this.firstElementChild && this.firstElementChild.localName === 'template') {
            this.text = this.firstElementChild.innerHTML;
          } else {
            this.text = this.innerHTML;
          }
        }
      },

      textChanged: function() {
        this.$.content.innerHTML = hljs.highlightAuto(this.text || '').value;
      }

    });

  </script>

</polymer-element>



<style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.checkboxContainer {
  padding: 20px 20px 20px 0;
  margin: 0;
}
h4 {
  padding: 0;
  margin-bottom: -10px;
}
#mainContainer {
  margin-top: 0;
  padding: 0 20px;
}
paper-checkbox::shadow #ink {
  top: -16px;
  left: -16px;
  width: 50px;
  height: 50px;
}
paper-checkbox {
  /* Firefox/IE compatibility */
  width: 15px;
  height: 15px;
}

paper-button {
  margin: 20px;
  width: 10em;
  height: 35px; /* Firefox/IE compatibility */
}
paper-button.green {
  background: #009933;
  color: #fff;
}
paper-button.red {
  background: #e51c23;
  color: #fff;
}
paper-button.bluegrey {
  background: #607d8b;
  color: #fff;
}

paper-toggle-button {
  margin-top: 23px;
  margin-left: 8px;
}
#cmdRestoreDefaults {
  width: 165px;
  margin: 0;
  font-size: 15px;
}
#day, #month {
  width: 50px;
}
#year {
  width: 100px;
}

#sidebar
{
  width: 15%;
}
</style>

<polymer-element name="file-card" attributes="content comments
                name id highlight
                syntaxStyleSheet" assetpath="elements/file-browser/">
  <template>
    <!-- HighlightJS colourscheme -->
    <core-ajax id="syntaxAjax" auto="" method="GET" on-core-response="{{assignStylesheet}}" handleas="text"></core-ajax>
    <style id="syntaxStyle"></style>

    <style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.code-container
{
  margin: 0;
  padding: 0;
}

pre
{
  font-family: monospace;
  white-space: pre-wrap;       /* CSS 3 */
  white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
  white-space: -pre-wrap;      /* Opera 4-6 */
  white-space: -o-pre-wrap;    /* Opera 7 */
  word-wrap: break-word;       /* Internet Explorer 5.5+ */
  word-break: break-all;       /* Words not only broken at spaces */
}

code ol
{
  margin: 0 4rem;
  padding: 0 0.5rem;
  border-left: thin solid;
  list-style: decimal-leading-zero outside;
}

code ol li
{
  padding-left: 0.5rem;

  /* Line continuation */
  background-image: url(images/line-continuation-right.svg);
  background-attachment: local;
  background-position: 100% 14px;
  background-repeat: no-repeat;
  padding-right: 14px;
}

.file-name
{
  margin: 0.5rem 1.5rem;
  font-size: 14pt;
  font-weight: 500;
}

.comment
{
  background-color: #ccc;
}

.warning
{
  background-color: #ffb;
}

.error
{
  background-color: #faa;
}
</style>

    <div class="container" vertical="" layout="">
      <span class="file-name"> {{name}} </span>
      <main-card unresolved="">
        <pre class="hljs code-container">
          <code>
  <!-- Deliberately unindented (because of pre tag) -->
  <content id="codeContent" select="code"></content>
          </code>
        </pre>
      </main-card>
    </div>
  </template>
  <script src="elements/file-browser/mixin_comments_with_data.js"></script>
  <script>
    Polymer('file-card'
      , {   domReady:
            function ()
            {
              /* If we get don't have the content attribute */
              if (!this.content)
              {
                this.content = this.$.codeContent.innerHTML;
              }

              this.styleSheetElement.id = "syntaxStyle";
              if (typeof this.shadowRoot != typeof undefined)
              {
                this.shadowRoot.appendChild(this.styleSheetElement);
              }
              else
              {
                document.head.appendChild(this.styleSheetElement);
              }
            }
          , styleSheetElement: document.createElement('style')

            /* http://www.polymer-project.org/docs/polymer/polymer.html#change-watchers */
          , contentChanged:
            function ()
            {
              if (typeof this.comments == typeof undefined)
              {
                var comments = [];
              }
              else
              {
                /* A note about the general layout of comment
                 *
                 * Current:
                 * [ {   fileDetails:
                 *       [ {   detail: (Description)
                 *           , file:   (File name)
                 *           , lineNumber: (Starting from 1)
                 *       } ]
                 *     , outcome: (ERROR/WARNING/PASS)
                 *     , problemDescription: (Short, human readable.)
                 * } ]
                 *
                 * However, it is a lot easier for us to use the
                 * following format:
                 * [ {   message: (Description)
                 *     , line:    (Starting from 1)
                 *     , class:   (For enclosing span tags)
                 *      (^ Generated using error.id)
                 * } ]
                 *
                 * The reason I am not changing mixin_comments_with_data
                 * is because this way is easier and allows other code
                 * using the latter format to be used.
                 */

                /* To take advantage of closures, as this is always
                 * local */
                var filename = this.name

                /* Apologies about this, unfortunately the prototyping
                 * nature of JavaScript can mean difficulties with
                 * looping over arrays, so I use native array functions
                 */
                var comments =
                  this.comments.reduce(/* Same as foldl */
                    function(previousValue, currentValue)
                    {
                      /* Re-format errors; isCurrentFile and
                       * refactorData declared after the return */
                      var errors =
                        currentValue.fileDetails
                          .filter(isCurrentFile)
                          .map(refactorData);

                      return previousValue.concat(errors);

                      /* Does the refactoring of data, as outlined in
                       * the above comment.
                       */
                      function refactorData (error)
                      {
                        var rtn = new Object();
                        rtn.line = error.lineNumber;
                        rtn.message = error.detail;

                        /* Generate CSS classes for error */
                        rtn.class = [ currentValue.outcome
                                      , "highlight"
                                        + currentValue.id
                                      , "highlight"
                                    ].join(" ");

                        return rtn;
                      }

                      /* Filter for this file */
                      function isCurrentFile (error)
                      {
                        return error.file == filename;
                      }
                    }
                    , /* initial value of */ new Array());

                /* mixin_comments_with_data works with start and end
                 * characters, so we use this to convert line numbers */
                comments = lines_to_chars(this.content, comments);
              }

              /* We convert the HighlighJS spans to comments, so that we
               * can use it with our highlighting function. */
              var syntax   = spans_to_comments(hljs
                               .highlightAuto(this.content || '').value)

              this.$.codeContent.innerHTML =
                  mixin_comments_with_data(this.content
                    , comments.concat(syntax));
            }
          , commentsChanged:
            function (oldValue, newValue)
            {
              this.contentChanged();
            }

          , highlightChanged:
            function ()
            {
              /* To use closures */
              var highlightSpans =
                this.$.codeContent.getElementsByClassName("highlight");
              var toHighlight = this.highlight;
            }

          , syntaxStyleSheetChanged:
            function ()
            {
              this.$.syntaxAjax.url =
                "bower_components/highlightjs/styles/"
                + this.syntaxStyleSheet + ".css";
            }

          , assignStylesheet:
            function ()
            {
              if (typeof this.$ != typeof undefined
                &&typeof this.$.syntaxStyle != typeof undefined)
              {
                this.$.syntaxStyle.textContent =
                  this.$.syntaxAjax.response;
              }
              else if (typeof this.shadowRoot != typeof undefined
                &&this.shadowRoot.getElementById("syntaxStyle") != null)
              {
                this.shadowRoot.getElementById("syntaxStyle").textContent =
                  this.$.syntaxAjax.response;
              }
              else if (document.getElementById("syntaxStyle") != null)
              {
                document.getElementById("syntaxStyle").textContent =
                  this.$.syntaxAjax.response;
              }
              else
              {
                this.styleSheetElement.textContent =
                  this.$.syntaxAjax.response;
              }
            }
        });
  </script>
</polymer-element>

<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->




<polymer-element name="files-list" attributes="files selectedFileId" assetpath="elements/file-browser/">
  <template>
    <style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.checkboxContainer {
  padding: 20px 20px 20px 0;
  margin: 0;
}
h4 {
  padding: 0;
  margin-bottom: -10px;
}
#mainContainer {
  margin-top: 0;
  padding: 0 20px;
}
paper-checkbox::shadow #ink {
  top: -16px;
  left: -16px;
  width: 50px;
  height: 50px;
}
paper-checkbox {
  /* Firefox/IE compatibility */
  width: 15px;
  height: 15px;
}

paper-button {
  margin: 20px;
  width: 10em;
  height: 35px; /* Firefox/IE compatibility */
}
paper-button.green {
  background: #009933;
  color: #fff;
}
paper-button.red {
  background: #e51c23;
  color: #fff;
}
paper-button.bluegrey {
  background: #607d8b;
  color: #fff;
}

paper-toggle-button {
  margin-top: 23px;
  margin-left: 8px;
}
#cmdRestoreDefaults {
  width: 165px;
  margin: 0;
  font-size: 15px;
}
#day, #month {
  width: 50px;
}
#year {
  width: 100px;
}

#sidebar
{
  width: 15%;
}
</style>
    <core-selector id="selector" selected="{{selectedFileId}}" valueattr="id">
      <template repeat="{{file in files}}">
        <core-item icon="drive-file" id="file{{file.id}}" label="{{file.name}}">
      </core-item></template>
    </core-selector>
  </template>
  <script>
    Polymer('files-list'
      , {   filesChanged:
            function ()
            {
              "use strict";
              /* Collapse common substrings
               * Changes
               * ["a/b/c", "a/b/d", "a/e/", "f"]
               *
               * to
               * [["a", "b", "c"], ["a", "b", "d"], ["a", "e"], ["f"]]
               *
               * then to
               * [["a", [["b", ["c", "d"]], "e"]], "f"]
               */
              this.files.sort();
              /*this.files.map(function (x) { return x.split("/"); });*/

              /* TODO: above collapse of common substrings. */
            }
        });
  </script>
</polymer-element>

<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->




<polymer-element name="status-list" attributes="errors highlight" assetpath="elements/file-browser/">
  <template>
    <style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.checkboxContainer {
  padding: 20px 20px 20px 0;
  margin: 0;
}
h4 {
  padding: 0;
  margin-bottom: -10px;
}
#mainContainer {
  margin-top: 0;
  padding: 0 20px;
}
paper-checkbox::shadow #ink {
  top: -16px;
  left: -16px;
  width: 50px;
  height: 50px;
}
paper-checkbox {
  /* Firefox/IE compatibility */
  width: 15px;
  height: 15px;
}

paper-button {
  margin: 20px;
  width: 10em;
  height: 35px; /* Firefox/IE compatibility */
}
paper-button.green {
  background: #009933;
  color: #fff;
}
paper-button.red {
  background: #e51c23;
  color: #fff;
}
paper-button.bluegrey {
  background: #607d8b;
  color: #fff;
}

paper-toggle-button {
  margin-top: 23px;
  margin-left: 8px;
}
#cmdRestoreDefaults {
  width: 165px;
  margin: 0;
  font-size: 15px;
}
#day, #month {
  width: 50px;
}
#year {
  width: 100px;
}

#sidebar
{
  width: 15%;
}
</style>
    <style>.error
{
    color: #b0120a;
}

.warning
{
    color: #ffab00;
}

.pass
{
    color: #33691e;
}
</style>

    <core-selector multi="" id="selector" valueattr="label">
      <template repeat="{{item in errors}}">
        <core-item icon="{{item.outcome}}" class="{{item.className}}" label="{{item.problemDescription}}">
        </core-item>
      </template> 
    </core-selector>
    <p>
      {{tickerComments==null?&quot;&quot;:tickerComments}}
    </p>
  </template>
  <script>
    Polymer('status-list'
      , {   errorsChanged:
            function ()
            {
              this.highlight = [];
              var i;
              for (i = 0; i < this.errors.length; i++)
              {
                switch (this.errors[i].outcome)
                {
                  case "PASS":
                    this.errors[i].outcome = "check";
                    this.errors[i].className = "pass";
                    break;

                  case "WARNING":
                    this.errors[i].outcome = "warning";
                    this.errors[i].className = "warning";
                    this.highlight.push(i);
                    break;

                  default:
                    this.errors[i].outcome = "error";
                    this.errors[i].className = "error";
                    this.highlight.push(i);
                }
              }

              this.$.selector.selected = this.highlight;
            }
        });
  </script>
</polymer-element>

<!-- vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 : -->





<polymer-element name="ticker-set-result" attributes="crsid
                             ticker
                             tickId
                             sheetId
                             repoName
                             commitId
                             reportCreationDate" assetpath="elements/file-browser/">
  <template>
    <style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.checkboxContainer {
  padding: 20px 20px 20px 0;
  margin: 0;
}
h4 {
  padding: 0;
  margin-bottom: -10px;
}
#mainContainer {
  margin-top: 0;
  padding: 0 20px;
}
paper-checkbox::shadow #ink {
  top: -16px;
  left: -16px;
  width: 50px;
  height: 50px;
}
paper-checkbox {
  /* Firefox/IE compatibility */
  width: 15px;
  height: 15px;
}

paper-button {
  margin: 20px;
  width: 10em;
  height: 35px; /* Firefox/IE compatibility */
}
paper-button.green {
  background: #009933;
  color: #fff;
}
paper-button.red {
  background: #e51c23;
  color: #fff;
}
paper-button.bluegrey {
  background: #607d8b;
  color: #fff;
}

paper-toggle-button {
  margin-top: 23px;
  margin-left: 8px;
}
#cmdRestoreDefaults {
  width: 165px;
  margin: 0;
  font-size: 15px;
}
#day, #month {
  width: 50px;
}
#year {
  width: 100px;
}

#sidebar
{
  width: 15%;
}
</style>
    <style>div
{
    padding: 0 1em;
}

div.top
{
  margin-top: 1rem;
}

div.bottom
{
  margin-bottom: 1rem;
}

.input
{
  width: 100%;
  border: thin dotted;
}
</style>

    <core-ajax id="setTickResult" method="PUT" contenttype="application/json">
    </core-ajax>

    <core-ajax id="setNoShow" method="DELETE" contenttype="application/json">
    </core-ajax>

    <div class="top">
      <core-input id="tickerComment" multiline="" class="input" rows="3" placeholder="Enter comments here.">
      </core-input>
    </div>
    <div class="bottom">
      <paper-button raisedbutton="" class="colored green" label="PASS" on-tap="{{passTick}}">
      </paper-button>
      <paper-button raisedbutton="" class="colored red" label="FAIL" on-tap="{{failTick}}">
      </paper-button>
      <paper-button raisedbutton="" class="colored bluegrey" label="NO SHOW" on-tap="{{noShow}}">
      </paper-button>
    </div>
  </template>
  <script src="hardcoded.js"></script>
  <script>
    Polymer('ticker-set-result'
      , {   sendTick:
            function (tickStatus, comment)
            {
              "use strict";

              if (typeof comment == typeof undefined)
              {
                comment = null;
              }
              else
              {
                comment = comment.replace(/\n/gm, "\\n")
                                 .replace(/\'/gm, "\\'")
                                 .replace(/\"/gm, '\\"')
                                 .replace(/\&/gm, "\\&")
                                 .replace(/\r/gm, "\\r")
                                 .replace(/\t/gm, "\\t")
                                 .replace(/[\b]/gm, "\\b")
                                 .replace(/\f/gm, "\\f");
              }

              this.$.setTickResult.url =
                ticking_service + "/fork/"
                  + this.crsid + "/"
                  + this.tickId + "/";

              this.$.setTickResult.body =
                  '{   "humanPass"      : "' + tickStatus + '"\n'
                + '  , "signedUp"       : false\n'
                + '  , "tickerComments" : "' + comment + '"\n'
                + '  , "commitId"       : "' + this.commitId + '"\n'
                + '  , "ticker"         : "' + this.ticker + '"\n'
                + '  , "reportDate"     : "' +
                    this.reportCreationDate.toISOString() + '"\n'
                + '}'

              this.$.setTickResult.go();
            }

          , passTick:
            function ()
            {
              this.sendTick(true,  this.$.tickerComment.value);
              this.fire("main-card-swipe-away", {"card":this});
            }

          , failTick:
            function ()
            {
              this.sendTick(false, this.$.tickerComment.value);
              this.fire("main-card-swipe-away", {"card":this});
            }

          , noShow:
            function ()
            {
              this.$.setNoShow.url =
              ticking_service +
                "/signups/students/"
                + this.crsid
                + "/bookings/" + this.sheetId;
              this.$.setNoShow.go();
              this.fire("main-card-swipe-away", {"card":this});
            }
        });
  </script>
</polymer-element>


<polymer-element name="file-browser-card" attributes="repoName
                             highlight
                             sheetId
                             tickId
                             crsid
                             ticker" assetpath="elements/file-browser/">
  <!-- TODO: get ALL reports -->
  <template>
    <style>/* vim: set shiftwidth=2 tabstop=2 softtabstop=2 expandtab textwidth=72 spell spelllang=en_gb : */
.checkboxContainer {
  padding: 20px 20px 20px 0;
  margin: 0;
}
h4 {
  padding: 0;
  margin-bottom: -10px;
}
#mainContainer {
  margin-top: 0;
  padding: 0 20px;
}
paper-checkbox::shadow #ink {
  top: -16px;
  left: -16px;
  width: 50px;
  height: 50px;
}
paper-checkbox {
  /* Firefox/IE compatibility */
  width: 15px;
  height: 15px;
}

paper-button {
  margin: 20px;
  width: 10em;
  height: 35px; /* Firefox/IE compatibility */
}
paper-button.green {
  background: #009933;
  color: #fff;
}
paper-button.red {
  background: #e51c23;
  color: #fff;
}
paper-button.bluegrey {
  background: #607d8b;
  color: #fff;
}

paper-toggle-button {
  margin-top: 23px;
  margin-left: 8px;
}
#cmdRestoreDefaults {
  width: 165px;
  margin: 0;
  font-size: 15px;
}
#day, #month {
  width: 50px;
}
#year {
  width: 100px;
}

#sidebar
{
  width: 15%;
}
</style>
    <style>.result
{
    margin: 1rem;
}

.main
{
    margin: 1em 4em;
    width: 100%;
}
</style>
    <files-service id="service" date="{{date}}" crsid="{{crsid}}" files="{{files}}" errors="{{errors}}" tickid="{{tickId}}" reponame="{{repoName}}" comments="{{comments}}" commitid="{{commitId}}" testcount="{{testCount}}" testresult="{{testResult}}" tickerresult="{{tickerResult}}" reportresult="{{reportResult}}">
    </files-service>
    <div class="container" horizontal="" layout="">
      <div class="sidebar">
        <p class="result">
          You have {{reportResult==&quot;FAIL&quot; || testResult==&quot;FAIL&quot; ? &quot;failed.&quot; : &quot;passed!&quot;}}
        </p>
        <files-list files="{{files}}" selectedfileid="{{selectedFileId}}">
        </files-list>
        <hr>
        <!-- TODO: The following element -->
        <status-list errors="{{errors}}" highlight="{{highlight}}">
        
      </status-list></div>
      <core-splitter direction="left"></core-splitter>
      <div class="main">
        <!-- Ticker comments -->
        <template if="{{comments != null}}">
          Ticker comments:
          <!-- Indentation due to marked element considering spaces -->
          <marked-element class="ticker-comments">
{{comments}}
          </marked-element>
        </template>

        <select name="syntaxSelect" value="{{syntaxStyleSheet}}" label="Colour scheme: ">
          <!-- The commented values don't have good highlighting support -->
          <!-- <option value="arta">Arta</option> -->
          <option value="ascetic">Ascetic</option>
          <!-- <option value="atelier-dune.dark">Atelier dune (dark)</option> -->
          <option value="atelier-dune.light">Atelier dune (light)</option>
          <!-- <option value="atelier-forest.dark">Atelier forest (dark)</option> -->
          <option value="atelier-forest.light">Atelier forest (light)</option>
          <!-- <option value="atelier-heath.dark">Atelier heath (dark)</option> -->
          <option value="atelier-heath.light">Atelier heath (light)</option>
          <!-- <option value="atelier-lakeside.dark">Atelier lakeside (dark)</option> -->
          <option value="atelier-lakeside.light">Atelier lakeside (light)</option>
          <!-- <option value="atelier-seaside.dark">Atelier seaside (dark)</option> -->
          <!-- <option value="atelier-seaside.light">Atelier seaside (light)</option> -->
          <option value="brown_paper">Brown paper</option>
          <!-- <option value="dark">Dark</option> -->
          <option value="default" selected="true">Default</option>
          <option value="docco">Docco</option>
          <!-- <option value="far">Far</option> -->
          <option value="foundation">Foundation</option>
          <option value="github">GitHub</option>
          <option value="googlecode">Google code</option>
          <option value="idea">Idea</option>
          <!-- <option value="ir_black">IR black</option> -->
          <option value="magula">Magula</option>
          <option value="mono-blue">Mono blue</option>
          <!-- <option value="monokai">Monokai</option> -->
          <!-- <option value="monokai_sublime">Monokai (Sublime editor)</option> -->
          <!-- <option value="obsidian">Obsidian</option> -->
          <!-- <option value="paraiso.dark">Paraiso (dark)</option> -->
          <option value="paraiso.light">Paraiso (light)</option>
          <!-- <option value="pojoaque">Pojoaque</option> -->
          <!-- <option value="railscasts">Railscasts</option> -->
          <!-- <option value="rainbow">Rainbow</option> -->
          <!-- <option value="school_book">School book</option> -->
          <!-- <option value="solarized_dark">Solarized (dark)</option> -->
          <!-- <option value="solarized_light">Solarized (light)</option> -->
          <!-- <option value="sunburst">Sunburst</option> -->
          <option value="tomorrow">Tomorrow</option>
          <!-- <option value="tomorrow-night-blue">Tomorrow night blue</option> -->
          <!-- <option value="tomorrow-night-bright">Tomorrow night bright</option> -->
          <!-- <option value="tomorrow-night">Tomorrow night</option> -->
          <!-- <option value="tomorrow-night-eighties">Tomorrow night eighties</option> -->
          <option value="vs">VS</option>
          <option value="xcode">XCode</option>
          <!-- <option value="zenburn">Zenburn</option> -->
        </select>

        <!-- File contents -->
        <template repeat="{{file in files}}">
          <section id="file{{file.id}}" name="file{{file.id}}">
          <file-card content="{{file.content}}" name="{{file.name}}" id="{{file.id}}" comments="{{errors}}" highlight="{{highlight}}" syntaxstylesheet="{{syntaxStyleSheet}}" on-scroll="console.log(this)">
          </file-card>
          </section>
        </template>

        <!-- Pass/fail button -->
        <template if="{{ticker != undefined}}">
          <ticker-set-result commitid="{{commitId}}" crsid="{{crsid}}" ticker="{{ticker}}" tickid="{{tickId}}" sheetid="{{sheetId}}" reportcreationdate="{{date}}" on-main-card-swipe-away="{{swipeAway}}">
          </ticker-set-result>
        </template>

      </div>
    </div>

  </template>
  <script>
    Polymer('file-browser-card'
      , {   syntaxStyleSheet: "solarized_light"
          , selectedFileIdChanged:
            function ()
            {
              var element = 
                this.shadowRoot
                  .getElementById(this.selectedFileId);
              window.scroll(element.offsetLeft, element.offsetTop);
            }

          , swipeAway:
            function ()
            {
              this.fire("main-card-swipe-away", {"card":this});
            }
        });
  </script>
</polymer-element>


<polymer-element name="ticker-signup" attributes="groupId" assetpath="elements/">
<template>
	<style>
	</style>
        <main-card animated="" swipeable="">
            <ticker-signups-card sessionid="{{sessionId}}" crsid="{{crsId}}" tickid="{{tickId}}" reponame="{{repoName}}" ticker="{{ticker}}" groupid="{{groupId}}" id="card"></ticker-signups-card>
        </main-card>
        <template if="{{crsId}}">
            <main-card animated="" swipeable="">
                <file-browser-card sheetid="{{sessionId}}" crsid="{{crsId}}" tickid="{{tickId}}" reponame="{{repoName}}" ticker="{{ticker}}"></file-browser-card>
            </main-card>
        </template>
</template>
<script>Polymer('ticker-signup');</script></polymer-element>





<polymer-element name="datetime-picker" attributes="" assetpath="elements/">
	<template>
		<style>
			#datetimeInput {
				padding: 8px;
				border: 0;
				margin: 0;
				font-size: 1rem;
				font: inherit;
				border-radius: 5px;
			}
			#datetimeInput:focus {
				outline: none;
				background: #f0f0f0;
			}
		</style>
		<div>
			<input id="datetimeInput" type="datetime-local" on-change="{{inputValueChanged}}">
		</div>			
	</template>
	<script>
		Polymer('datetime-picker', {
			inputValueChanged: function () {
				console.log('Here');
				console.log(this.$.datetimeInput.value);
			}
		});
	</script>
</polymer-element>

<polymer-element name="add-session" attributes="" assetpath="elements/">
	<template>
		<style type="text/css">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
		<style>
			paper-input {
				width: 100%;
			}
		</style>
		<paper-icon-button id="addSessionButton" icon="add" on-click="{{addClicked}}"></paper-icon-button>
		<paper-dialog id="addDialog" heading="Create Ticking Session" backdrop="" transition="core-transition-top">
			<h2 class="subtitle">Session Information</h2>
			<div layout="" vertical="" center="">
				<paper-input id="titleInput" floatinginput="" required placeholder="Session title..."></paper-input>
				<paper-input id="descInput" multiline="" placeholder="Description..." maxrows="5"></paper-input>
				<paper-input id="locInput" floatinginput="" placeholder="Location..."></paper-input>
			</div>
			<div layout="" horizontal="" center="">
				<div layout="" vertical="">
					<h2 class="subtitle">Start Date/Time</h2>
					<datetime-picker></datetime-picker>
				</div>
				<div style="padding: 8px;"></div>
				<div layout="" vertical="">
					<h2 class="subtitle">End Date/Time</h2>
					<datetime-picker></datetime-picker>
				</div>
			</div>
		</paper-dialog>
	</template>
	<script>
		Polymer('add-session', {
			addClicked: function () {
				this.$.addDialog.toggle();
			}
		});
	</script>
</polymer-element>


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-tabs` is a `core-selector` styled to look like tabs. Tabs make it easy to 
explore and switch between different views or functional aspects of an app, or 
to browse categorized data sets.

Use `selected` property to get or set the selected tab.

Example:

    <paper-tabs selected="0">
      <paper-tab>TAB 1</paper-tab>
      <paper-tab>TAB 2</paper-tab>
      <paper-tab>TAB 3</paper-tab>
    </paper-tabs>

See <a href="#paper-tab">paper-tab</a> for more information about 
`paper-tab`.

Styling tabs:

To change the sliding bar color:

    paper-tabs.pink::shadow #selectionBar {
      background-color: #ff4081;
    }

@group Paper Elements
@element paper-tabs
@extends core-selector
@homepage github.io
-->


<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-tab` is styled to look like a tab.  It should be used in conjunction with
`paper-tabs`.

Example:

    <paper-tabs selected="0">
      <paper-tab>TAB 1</paper-tab>
      <paper-tab>TAB 2</paper-tab>
      <paper-tab>TAB 3</paper-tab>
    </paper-tabs>
    
Styling tab:

To change the ink color:

    .pink paper-tab::shadow #ink {
      color: #ff4081;
    }

@group Paper Elements
@element paper-tab
@homepage github.io
-->



<polymer-element name="paper-tab" attributes="noink" role="tab" assetpath="bower_components/paper-tabs/">
<template>

    <style>
        .tab-content {
            font-size: 18px;
        }
    </style>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: block;
  position: relative;
  overflow: hidden;
}

#tabContainer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

.tab-content {
  transition: opacity .1s cubic-bezier(0.4, 0.0, 1, 1), color .1s cubic-bezier(0.4, 0.0, 1, 1);
  cursor: default;
  pointer-events: none;
}

:host(:not(.core-selected)) .tab-content {
  opacity: 0.6;
}

#ink {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  color: #ffff8d;
}

:host[noink] #ink {
  pointer-events: none;
}

:host-context(paper-tabs[noink]) #ink {
  pointer-events: none;
}
</style>
  
  <div id="tabContainer" center-justified="" center="" horizontal="" layout="">
  
    <div class="tab-content"><content></content></div>
    <paper-ripple id="ink" initialopacity="0.95" opacitydecayvelocity="0.98"></paper-ripple>
    
  </div>
  
</template>
<script>

  Polymer('paper-tab', {
    
    /**
     * If true, ink ripple effect is disabled.
     *
     * @attribute noink
     * @type boolean
     * @default false
     */
    noink: false
    
  });
  
</script>
</polymer-element>


<polymer-element name="paper-tabs" extends="core-selector" attributes="noink nobar" role="tablist" assetpath="bower_components/paper-tabs/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: block;
  position: relative;
  font-size: 14px;
  font-weight: 500;
  height: 48px;
  overflow: hidden;
}

#tabsContainer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  white-space: nowrap;
}

#selectionBar {
  position: absolute;
  height: 2px;
  bottom: 0;
  left: 0;
  width: 0;
  background-color: #ffff8d;
  transition: width, left;
}

#selectionBar[hidden] {
  display: hidden;
}

#selectionBar.expand {
  transition-duration: 0.15s;
  transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
}

#selectionBar.contract {
  transition-duration: 0.1s;
  transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
}

polyfill-next-selector { content: '#tabsContainer > *:not(#selectionBar)'; }
::content > * {
  -ms-flex: 1;
  -webkit-flex: 1;
  flex: 1;
}
</style>
  
  <div id="tabsContainer" horizontal="" layout="">
  
    <shadow></shadow>
    <div id="selectionBar" hidden?="{{nobar}}" on-transitionend="{{barTransitionEnd}}"></div>
    
  </div>
    
</template>
<script>

  Polymer('paper-tabs', {
    
    /**
     * If true, ink effect is disabled.
     *
     * @attribute noink
     * @type boolean
     * @default false
     */
    noink: false,
    
    /**
     * If true, the bottom bar to indicate the selected tab will not be shown.
     *
     * @attribute nobar
     * @type boolean
     * @default false
     */
    nobar: false,
    
    activateEvent: 'down',
    
    nostretch: false,
    
    selectedIndexChanged: function(old) {
      var s = this.$.selectionBar.style;
      
      if (!this.selectedItem) {
        s.width = 0;
        s.left = 0;
        return;
      } 
      
      var w = 100 / this.items.length;
      
      if (this.nostretch || old === null || old === -1) {
        s.width = w + '%';
        s.left = this.selectedIndex * w + '%';
        return;
      }
      
      var m = 5;
      this.$.selectionBar.classList.add('expand');
      if (old < this.selectedIndex) {
        s.width = w + w * (this.selectedIndex - old) - m + '%';
      } else {
        s.width = w + w * (old - this.selectedIndex) - m + '%';
        s.left = this.selectedIndex * w + m + '%';
      }
    },
    
    barTransitionEnd: function() {
      var cl = this.$.selectionBar.classList;
      if (cl.contains('expand')) {
        cl.remove('expand');
        cl.add('contract');
        var s = this.$.selectionBar.style;
        var w = 100 / this.items.length;
        s.width = w + '%';
        s.left = this.selectedIndex * w + '%';
      } else if (cl.contains('contract')) {
        cl.remove('contract');
      }
    }
    
  });
  
</script>
</polymer-element>



<polymer-element name="x-group" attributes="gid name info creator" assetpath="elements/">
	<template>
		<style type="text/css" shim-shadowdom="">
paper-tabs {
	background-color: #2D91EC;
	color: #fff;
/*    box-shadow: 0px 3px 2px rgba(0, 0, 0, 0.2);
*/
}

/* Ripple and bar colors */
polyfill-next-selector {shadow: 'paper-tab #ink';}
paper-tab::shadow #ink {
	color: #a7ffeb;
}
polyfill-next-selector {shadow: 'paper-tab #selectionBar';}
paper-tabs::shadow #selectionBar {
	background-color: #a7ffeb;
}

polyfill-next-selector {content: 'paper-tabs .tab-content';}
paper-tabs::content .tab-content {
    font-size: 100px;
}

#frame {
	display: block;
	width: 100%;
	border: none;
}

#frameContainer {
	width: 100%;
}

.hidden {
	display: none;
}
.groupName {
	font-size: 1.8rem;
	font-weight: 100;
	padding: 0 0 0 10px;
	margin-bottom: 3px;
}
h2 {
	font-size: 1rem;
	margin: 0;
}
.creator {
	font-size: 0.8rem;
	color: #808080;
	margin-top: 0;
	padding-left: 10px;
}
#infoContainer {
	background: #e0f7fa;
	width: 100%;
}
p {
	font-weight: 200;
	font-size: 1rem;
}</style>

		<!-- User roles API call. -->
		<core-ajax id="roleAjax" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user/&apos; + gid + &apos;/roles&apos;}}" handleas="json" on-core-response="{{roleResponse}}">
		</core-ajax>

		<!-- Available signup sheets API call. -->
		<core-ajax id="sheetListAPI" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/signups/groups/&apos; + gid }}" handleas="json" on-core-response="{{sheetListResponse}}">
		</core-ajax>

        <main-card animated="">
            <paper-tabs id="tabs" selected="0">
                <paper-tab>{{name}}</paper-tab>
                <paper-tab>TICKS</paper-tab>
                <!-- Need to somehow dynamically hide this -->
                    <paper-tab>TICKING SESSIONS</paper-tab>

                <paper-tab>MEMBERS</paper-tab>
            </paper-tabs>


            <core-collapse id="overview" opened="">
                <div id="details" layout="" vertical="" start="">
                    <div layout="" horizontal="" end="" style="width: 100%;">
                        <p class="creator">Created by: {{creator}}</p>

					<span layout="" horizontal="" end="" end-justified="" flex="">
						<template if="{{isAuthor}}">
                            <paper-icon-button id="groupDeleteButton" icon="delete"></paper-icon-button>
                            <paper-icon-button id="groupCloneButton" icon="content-copy"></paper-icon-button>
                            <paper-icon-button id="groupEditButton" icon="create"></paper-icon-button>
                        </template>
					</span>
                    </div>

                    <div id="infoContainer">
                        <div style="padding: 15px">
                            <template if="{{info}}">
                                <h2>DESCRIPTION:</h2>
                                <p>{{info}}</p>
                            </template>

                            <template if="{{sheets}}">
                                <div layout="" horizontal="" center="" style="margin: 0; padding: 0;">
                                    <h2>TICKING SESSIONS:</h2>
                                    <template if="{{isAuthor}}">
                                        <add-session></add-session>
                                    </template>
                                </div>
                                <template repeat="{{sheet in sheets}}">
                                    <p>{{sheet.title}}, <i style="color: #7C7C7C; font-size: 0.9rem;">{{sheet.location}}</i></p>
                                </template>
                            </template>
                        </div>
                    </div>
                </div>
            </core-collapse>

            <core-collapse id="ticks">
                <tick-list gid="{{gid}}" on-fork-clicked="{{forkClickedHandler}}" canfork="{{isSubmitter}}"></tick-list>
            </core-collapse>

            <core-collapse id="groups">
                <group-members gid="{{gid}}" allowadd="{{isAuthor}}" rows="4"></group-members>
            </core-collapse>
		</main-card>
		
		<!-- <div id="headerBar" layout horizontal center>
			<h1 flex>Members ({{number}})</h1>
			<template if="{{allowAdd}}">
				<paper-icon-button icon="delete" on-click="{{deleteMemberClicked}}"></paper-icon-button>
				<paper-icon-button icon="add" on-click="{{addMemberClicked}}" core-overlay-toggle></paper-icon-button>
			</template>
			<search-box id="searchBox" placeholder="Search..."></search-box>
		</div>-->


		<!-- Tick list card. -->


		<template if="{{selectedTickId}}">
			<main-card animated="">
			<tick-card id="tickCard" tickname="{{selectedTickName}}" tickid="{{selectedTickId}}" sheets="{{sheets}}" reponame="{{repoName}}"></tick-card>
		</main-card>
		</template>

        <template if="{{repoName}}">
            <main-card animated="">
                <file-browser-card tickid="{{selectedTickId}}" reponame="{{repoName}}">
                </file-browser-card>
            </main-card>
        </template>

        <core-collapse id="tickingSessions">
            <template if="{{isMarker}}">
                <ticker-signup groupid="{{gid}}" on-main-card-swipe-away="{{cardSwiped}}"></ticker-signup>
            </template>
        </core-collapse>
		<!-- Group content card. -->
		<!-- <main-card animated>
			<paper-tabs selected=0 on-core-select="{{tabSelectedAction}}">
				<template repeat="{{role in roles}}">
					<paper-tab>{{role}}</paper-tab>
				</template>
			</paper-tabs>

			<author-pane id="authorPane" gid="{{gid}}" class="hidden"></author-pane>


			<div id="markerPane" class="hidden">Marker Pane</div>
			<div id="overviewPane" class="hidden">Marker Pane</div>
			<div id="submitterPane" class="hidden">Marker Pane</div>
		</main-card> -->

	</template>
	<script>
		Polymer('x-group', {  

			domReady: function () {
				this.$.roleAjax.go();
				this.$.sheetListAPI.go();

                var that = this.$;
                this.$.tabs.addEventListener('core-select', function() {
                    this.tabIndex = that.tabs.selected;
                    console.log(this.tabIndex);

                    that.overview.opened = this.tabIndex == 0;
                    that.ticks.opened = this.tabIndex == 1;
                    that.groups.opened = this.tabIndex == 3;
                    that.tickingSessions.opened = this.tabIndex== 2;
                });
			},

			roleResponse: function() {
				this.roles = this.$.roleAjax.response;

				// Check for permissions.
				this.isAuthor = (this.roles.indexOf('AUTHOR') > -1);
				this.isSubmitter = (this.roles.indexOf('SUBMITTER') > -1);
				this.isMarker = (this.roles.indexOf('MARKER') > -1);
			},

            nameChanged: function() {
                if (this.name != this.name.toUpperCase()) {
                    this.name = this.name.toUpperCase();
                }
            },

			// tabSelectedAction: function(e, detail) {
			// 	if (this.pane) {
			// 		this.pane.classList.add('hidden');
			// 	}
			// 	var role = detail.item.innerHTML;
			// 	switch(role) {
			// 		case "AUTHOR": this.pane = this.$.authorPane; break;
			// 		case "MARKER": this.pane = this.$.markerPane; break;
			// 		case "OVERVIEW": this.pane = this.$.overviewPane; break;
			// 		case "SUBMITTER": this.pane = this.$.submitterPane; break;
			// 	}
			// 	this.pane.classList.remove('hidden');
			// },

			cardSwiped: function (e, detail) {
				// Code to get rid of the card. Consider other options.
				detail.card.style.display = "none";
			},

			sheetListResponse: function () {
				this.sheets = this.$.sheetListAPI.response;
			},

			forkClickedHandler: function (e, detail) {
				this.selectedTickId = detail.tickId;
				this.selectedTickName = detail.tickName;
			}
		});
	</script>
</polymer-element>


<polymer-element name="create-group" attributes="" assetpath="elements/">
	<template>
		<style type="text/css">paper-dialog .subtitle {
	font-weight: normal;
	font-size: 1.2rem;
}

paper-dialog::shadow h1 {
	font-weight: 100;
	margin-bottom: 10px;
}

/*Fix for paper-checkbox issue #6*/
paper-checkbox::shadow #ink {
	top: -16px;
	left: -16px;
	width: 50px;
	height: 50px;
}

paper-checkbox {
	padding: 5px;
}

.dialogSubmit {
	background: #4285f4;
	color: #fff;
}

.disabledLabel {
	color: #eaeaea;
}

paper-button.greenButton {
	background: #259b24;
	color: #fff;
}</style>
		<style>
			:host {
				display: block;
			}
		</style>

		<core-ajax id="createGroupAPI" contenttype="application/json" handleas="json" method="POST" on-core-response="{{createResponse}}" on-core-error="{{createError}}">
		</core-ajax>

		<paper-dialog id="createGroupDialog" heading="New Group:" backdrop="" transition="core-transition-top">
			<paper-input id="newGroupName" floatinglabel="" label="Group name..." error="Invalid group name." on-input="{{handleNameInput}}">
			</paper-input>
			<h2 class="subtitle">Group Info:</h2>
			<paper-input id="newGroupInfo" multiline="" maxrows="5" label="" error="Invalid group name.">
			</paper-input>

			<h2 class="subtitle">Your Roles:</h2>
			<div layout="" vertical="" style="width: 100%;">
				<div layout="" horizontal="" center="" style="width: 100%;">
					<paper-checkbox checked disabled id="authBox"></paper-checkbox>
					<div flex="" class="disabledLabel">Author</div>
					<paper-checkbox id="markBox"></paper-checkbox>
					<div flex="">Marker</div>
				</div>
				<div layout="" horizontal="" center="" style="width: 100%;">
					<paper-checkbox id="overBox"></paper-checkbox>
					<div flex="">Overview</div>
					<paper-checkbox id="subBox"></paper-checkbox>
					<div flex="">Submitter</div>
				</div>
			</div>
			<template if="{{showSubmit}}">
				<paper-button id="addSubmit" class="dialogSubmit" label="CREATE" on-click="{{createButtonClicked}}" affirmative=""></paper-button>
			</template>
		</paper-dialog>

		<paper-toast id="createGroupError" text="Error creating group." duration="3000"></paper-toast>
		<paper-toast id="createGroupSuccess" text="Created new group." dutration="3000"></paper-toast>

	</template>
	<script>
		Polymer('create-group', {
			handleNameInput: function () {
				if (this.$.newGroupName.inputValue === "") {
					this.showSubmit = false;
				}
				else {
					this.showSubmit = true;
				}
			},

			toggleDialog: function () {
				this.$.createGroupDialog.toggle();
			},

			resetAPI: function () {
				var api = this.$.createGroupAPI;
				api.url = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/group/";
				api.body = "";
			},

			createButtonClicked: function () {
				this.resetAPI();

				var name = this.$.newGroupName.inputValue;
				var info = encodeURI(this.$.newGroupInfo.inputValue);
				var api = this.$.createGroupAPI;

				api.body = '{"name":"' + name + '", "info":"' + info + '"}';
				api.url += '?roles=AUTHOR';
				if (this.$.markBox.checked) api.url += "&roles=MARKER";
				if (this.$.subBox.checked) api.url += "&roles=SUBMITTER";
				if (this.$.overBox.checked) api.url += "&roles=OVERVIEW";
				api.go();
			},

			createResponse: function() {
				var toast = this.$.createGroupSuccess;
				var response = this.$.createGroupAPI.response;
				toast.text = 'Created new group "' + response.name + '".';
				toast.show();

				this.fire('group-created', response);
			},

			createError: function(e, detail) {
				var toast = this.$.createGroupError;
				toast.text = detail.xhr.responseText;
				toast.show();
			}

		});
	</script>
</polymer-element>





<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-toggle-button` provides a ON/OFF switch that user can toggle the state
by tapping or by dragging the swtich.

Example:

    <paper-toggle-button></paper-toggle-button>

Styling toggle button:

To change the ink color for checked state:

    paper-toggle-button::shadow paper-radio-button::shadow #ink[checked] {
      color: #4285f4;
    }
    
To change the radio checked color:
    
    paper-toggle-button::shadow paper-radio-button::shadow #onRadio {
      background-color: #4285f4;
    }
    
To change the bar color for checked state:

    paper-toggle-button::shadow #toggleBar[checked] {
      background-color: #4285f4;
    }
    
To change the ink color for unchecked state:

    paper-toggle-button::shadow paper-radio-button::shadow #ink {
      color: #b5b5b5;
    }
    
To change the radio unchecked color:
    
    paper-toggle-button::shadow paper-radio-button::shadow #offRadio {
      border-color: #b5b5b5;
    }

To change the bar color for unchecked state:

    paper-toggle-button::shadow #toggleBar {
      background-color: red;
    }

@group Paper Elements
@element paper-toggle-button
@homepage github.io
-->



<polymer-element name="paper-toggle-button" attributes="checked" touch-action="pan-y" role="button" aria-pressed="false" tabindex="0" assetpath="bower_components/paper-toggle-button/">
<template>

  <style>/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: inline-block;
}

:host(:focus) {
  outline: none;
}

#toggleContainer {
  position: relative;
  width: 64px;
  height: 16px;
}

#toggleBar {
  position: absolute;
  top: 8px;
  left: 16px;
  height: 1px;
  width: 32px;
  background-color: #5a5a5a;
  pointer-events: none;
}

#toggleBar[checked] {
  background-color: #0f9d58;
}

#toggleContainer[checked] #checkedBar {
  width: 100%;
}

#toggleRadio {
  position: absolute;
  left: 0;
  padding: 8px 48px 8px 0;
  margin: -8px -48px -8px 0;
  transition: -webkit-transform linear .08s;
  transition: transform linear .08s;
}

#toggleRadio[checked] {
  -webkit-transform: translate(48px, 0);
  transform: translate(48px, 0);
  padding: 8px 0 8px 48px;
  margin: -8px 0 -8px -48px;
}

#toggleRadio.dragging {
  -webkit-transition: none;
  transition: none;
}</style>

  <div id="toggleContainer">
  
    <div id="toggleBar" checked?="{{checked}}"></div>
  
    <paper-radio-button id="toggleRadio" toggles="" checked="{{checked}}" on-trackstart="{{trackStart}}" on-track="{{track}}" on-trackend="{{trackEnd}}"></paper-radio-button>
    
  </div>

</template>
<script>

  Polymer('paper-toggle-button', {
    
    /**
     * Fired when the checked state changes.
     *
     * @event change
     */

    /**
     * Gets or sets the state, `true` is checked and `false` is unchecked.
     *
     * @attribute checked
     * @type boolean
     * @default false
     */
    checked: false,

    trackStart: function(e) {
      this._w = this.$.toggleBar.offsetLeft + this.$.toggleBar.offsetWidth;
      e.preventTap();
    },

    track: function(e) {
      this._x = Math.min(this._w, 
          Math.max(0, this.checked ? this._w + e.dx : e.dx));
      this.$.toggleRadio.classList.add('dragging');
      var s =  this.$.toggleRadio.style;
      s.webkitTransform = s.transform = 'translate3d(' + this._x + 'px,0,0)';
    },

    trackEnd: function() {
      var s =  this.$.toggleRadio.style;
      s.webkitTransform = s.transform = null;
      this.$.toggleRadio.classList.remove('dragging');
      this.checked = Math.abs(this._x) > this._w / 2;
    },

    checkedChanged: function() {
      this.setAttribute('aria-pressed', Boolean(this.checked));
      this.fire('change');
    }

  });

</script>
</polymer-element>














<polymer-element name="static-list-item" attributes="text checkedIndex closed code" assetpath="elements/tick-creator/">
    <template>
        <style shim-shadowdom="">:host {
    display: block;
    width: 100%;
    position: relative;
    background-color: white;
    font-size: 1.2rem;
    font-weight: 300;
}
paper-radio-button {
    margin-left: 20px;
    margin-right: 10px;
}
polyfill-next-selector { shadow: '#error #ink[checked]'; }
#error::shadow #ink[checked] {
    color: #e51c23; /* Material design Red 500 */
}
polyfill-next-selector { shadow: '#warning #ink[checked]'; }
#warning::shadow #ink[checked] {
    color: #ff9800; /* Material design Orange 500 */
}
polyfill-next-selector { shadow: '#warning #ink[checked]'; }
#none::shadow #ink[checked] {
    color: #9e9e9e; /* Material design Grey 500 */
}
polyfill-next-selector{ shadow: '#error #onRadio'; }
#error::shadow #onRadio {
    background-color: #e51c23; /* Material design Red 500 */
}
polyfill-next-selector{ shadow: '#warning #onRadio'; }
#warning::shadow #onRadio {
    background-color: #ff9800; /* Material design Orange 500 */
}
polyfill-next-selector{ shadow: '#none #onRadio'; }
#none::shadow #onRadio {
    background-color: #9e9e9e; /* Material design Grey 500 */
}
core-collapse{
    margin-left: 40px;
}
textarea {
    margin-right: 20px;
    font-size: 16px;
}
polyfill-next-selector{ shadow: '#cmdToggleCode core-icon'}
#cmdToggleCode::shadow core-icon {
    /* cmdToggleCode's icon is the content expander symbol rotated 90 deg */
    transform:rotate(90deg);
    -ms-transform:rotate(90deg); /* IE 9 */
    -webkit-transform:rotate(90deg); /* Opera, Chrome, and Safari */
}

/*@media (min-width: 690px) {
    paper-radio-group {
        width: 50%;
    }
    paper-radio-button {
        margin-top: 10px;
        margin-left: 20%;
    }
}*/</style>

        <span layout="" horizontal="" hidden?="{{closed}}">
        <core-icon-button id="cmdDelete" icon="close" on-tap="{{close}}"></core-icon-button>
        <paper-input id="text" flex="" inputvalue="{{text}}" label="Test Category Name..."></paper-input>
        <core-icon-button id="cmdToggleCode" icon="unfold-more" on-tap="{{toggle}}"></core-icon-button>
        <paper-radio-group>
            <paper-radio-button id="none" name="none" on-tap="{{tapNone}}" checked?="{{checkedIndex == 0}}"></paper-radio-button>
            <paper-radio-button id="warning" name="warning" on-tap="{{tapWarning}}" checked?="{{checkedIndex == 1}}"></paper-radio-button>
            <paper-radio-button id="error" name="error" on-tap="{{tapError}}" checked?="{{checkedIndex == 2}}"></paper-radio-button>
        </paper-radio-group>
        </span>

        <div layout="" horizontal="">
            <core-collapse id="collapse" flex="" collapsed="">
                <div layout="" horizontal="">
                    <textarea id="editor" flex="" rows="9" on-keyup="{{setCode}}"></textarea>
                </div>
            </core-collapse>
        </div>
    </template>
    <!--<script src="../../codemirror-4.4/lib/codemirror.js"></script> <!-- CodeMirror -->
    <!--<script src="../../codemirror-4.4/mode/xml/xml.js"></script> <!-- CodeMirror -->
    <script>
        Polymer('static-list-item', {
            /**
             * Work around for a paper-radio-button bug. Without this, the initially selected button would
             * remain selected until it has been clicked at least once, no matter how many times the other
             * buttons in the group have been clicked
             */
            domReady: function() {
                this.$.editor.innerHTML = this.code;

                switch (this.checkedIndex) {
                    case 0:
                        this.$.none.tap();
                        break;
                    case 1:
                        this.$.warning.tap();
                        break;
                    case 2:
                        this.$.error.tap();
                        break;
                }
                //this.$.edit.tap();
            },
            tapNone: function() {
                this.checkedIndex = 0;
            },
            tapWarning: function() {
                this.checkedIndex = 1;
            },
            tapError: function() {
                this.checkedIndex = 2;
            },
            toggle: function() {
                this.$.collapse.toggle();
            },
            close: function() {
                this.closed = true;
                this.$.collapse.hidden = true;
            },
            //needed because Polymer's two-way data-binding doesn't seem to be able to cope with innerHTML
            setCode: function() {
                this.code = this.$.editor.value;
            }
        });
    </script>
</polymer-element>

<polymer-element name="static-list" attributes="staticOptions" assetpath="elements/tick-creator/">
    <template>
        <style>
            :host {
                display: block;
                width: 100%;
            }
        </style>

        <div layout="" vertical="" center="">
            <template repeat="{{staticOption in staticOptions}}">
                <static-list-item text="{{staticOption.text}}" checkedindex="{{staticOption.checkedIndex}}" closed="{{staticOption.closed}}" code="{{staticOption.code}}">
                </static-list-item>
            </template>
            <core-icon-button id="cmdAddTest" icon="add" on-tap="{{addTest}}">
            </core-icon-button>
        </div>
    </template>
    <script>
        Polymer('static-list', {
            created: function() {
                this.staticOptions = [];
            },
            addTest: function() {
                this.staticOptions[this.staticOptions.length] = {text: "", checkedIndex: 1, closed: false};
            }
        });
    </script>
</polymer-element>


<polymer-element name="static-list-labels" assetpath="elements/tick-creator/">
    <template>
        <style>
            :host {
                padding-bottom: -20px;
                margin-bottom: -20px;
            }
            p {
                font-size: 11px;
                margin-right: 20px;
            }
        </style>


        <div layout="" horizontal="">
            <span flex=""></span>
            <span layout="" horizontal="">
                <p>IGNORE</p>
                <p>WARNING</p>
                <p>ERROR</p>
            </span>
        </div>
    </template>
    <script>
        Polymer('static-list-labels',{});
    </script>
</polymer-element>



<polymer-element name="date-entry" attributes="day month year valid" assetpath="elements/">
    <template>
        <style>
            #day, #month {
                width: 50px;
            }
            #year {
                width: 100px;
            }
        </style>

        <span layout="" horizontal="">
            <paper-input inputvalue="{{day}}" id="day" label="DD" floatinglabel="true" validate="^(0?[1-9]|[12][0-9]|30|31)$" required on-blur="{{inputBlurred}}" on-keyup="{{validate}}">
            </paper-input>
            <paper-input inputvalue="{{month}}" id="month" label="MM" floatinglabel="true" validate="^(0?[1-9]|1[012])$" required on-blur="{{inputBlurred}}" on-keyup="{{validate}}">
            </paper-input>
            <paper-input inputvalue="{{year}}" id="year" label="YYYY" floatinglabel="true" validate="^([0-9][0-9])?[0-9][0-9]$" required on-blur="{{inputBlurred}}" on-keyup="{{validate}}">
            </paper-input>
        </span>
    </template>
    <script>
        Polymer('date-entry',{
            ready: function() {
                this.validate();
            },
            inputBlurred: function() {
                if (this.day.toString().length == 1) {
                    this.day = "0" + this.day;
                }
                if (this.month.toString().length == 1) {
                    this.month = "0" + this.month;
                }
                if (this.year.toString().length == 2) {
                    this.year = "20" + this.year;
                }

                if (this.month == 4 | this.month == 6 | this.month == 9 | this.month == 11) {
                    if (this.day > 30) {
                        this.day = 30;
                    }
                } else {
                    if (this.month == 2 && this.day > 28) {
                        if (this.isLeapYear(this.day)) { //February is so awkward
                            this.day = 29;
                        } else {
                            if (this.year != "") {
                                this.day = 28;
                            } else {
                                //no information about the year is available yet, default to 29
                                this.day = 29;
                            }
                        }
                    }
                }

                this.validate();
            },
            validate: function() {
               this.valid = (this.day > 0 && this.day <= 31 && this.day.toString().length <= 2 &&
                       this.month > 0 && this.month <= 12 && this.month.toString().length <= 2 &&
                       this.year >= 0 && this.year <= 9999 && this.year != "" &&
                       (this.year.toString().length == 4 || this.year.toString().length == 2));
            },
            isLeapYear: function() {
                if (this.year % 4 != 0) {
                    return false;
                } else if (this.year % 100 != 0) {
                    return true;
                } else return this.isLeapYear % 400 == 0;
            }
        });
    </script>
</polymer-element>

<polymer-element name="tick-creator-card" attributes="tickId" assetpath="elements/tick-creator/">
<template>
    <style>
        .checkboxContainer {
            padding: 20px 20px 20px 0;
            margin: 0;
        }
        h4 {
            padding: 0;
            margin-bottom: -10px;
        }
        #mainContainer {
            margin-top: 0;
            padding: 0 20px;
        }
        paper-checkbox::shadow #ink {
            top: -16px;
            left: -16px;
            width: 50px;
            height: 50px;
        }
        paper-checkbox {
            /* Firefox/IE compatibility */
            width: 15px;
            height: 15px;
        }
        paper-button {
            margin: 20px;
            width: 10em;
            height: 35px; /* Firefox/IE compatibility */
        }
        paper-button.colored {
            background: #259b24;
            color: #fff;
        }
        paper-toggle-button {
            margin-top: 23px;
            margin-left: 8px;
        }
        #cmdRestoreDefaults {
            width: 165px;
            margin: 0;
            font-size: 15px;
        }

        /* Styles for add member dialog. */
        paper-dialog .subtitle {
            font-weight: 200;
            font-size: 1.2rem;
        }
        polyfill-next-selector {shadow: "paper-dialog h1"}
        paper-dialog::shadow h1 {
            margin-bottom: 10px;
        }
        #dialogCancel {
            margin: 5px;
            background: #4285f4;
            color: #fff;
        }
        #dialogSubmit {
            margin: 5px;
            background: #4285f4;
            color: #fff;
        }
    </style>

    <!-- Get groups for this author -->
    <core-ajax id="ajaxLoadGroups" url="{{pathLoadGroups}}" handleas="json" on-core-response="{{groupsDataLoaded}}" on-core-error="{{showErrorToast}}">
    </core-ajax>

    <!-- get and update all other existing tick data -->
    <core-ajax id="ajaxLoadTickData" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/tick/&apos; + tickId + &apos;/&apos;}}" handleas="json" on-core-response="{{tickDataLoaded}}" on-core-error="{{showLoadErrorToast}}">
    </core-ajax>
    <!---->
    <core-ajax id="ajaxPutTickData" handleas="json" contenttype="application/json" method="PUT" on-core-error="{{showSaveErrorToast}}" on-core-response="{{tickDataUpdated}}">
    </core-ajax>
    <core-ajax id="ajaxPostTickData" handleas="json" contenttype="application/json" url="{{pathPutTickData}}" method="POST" on-core-error="{{showSaveErrorToast}}" on-core-response="{{tickDataSaved}}">
    </core-ajax>

    <!-- get and update stylistic data -->
    <core-ajax id="ajaxLoadDefaults" url="http://urop2014.dtg.cl.cam.ac.uk/UROP-TestingSystem/rest/testerAPI/v2/testFiles" handleas="json" on-core-response="{{defaultsLoaded}}" on-core-error="{{showLoadErrorToast}}">
    </core-ajax>
    <core-ajax id="ajaxSaveLoadDefaults" url="http://urop2014.dtg.cl.cam.ac.uk/UROP-TestingSystem/rest/testerAPI/v2/testFiles" handleas="json" auto="" on-core-response="{{savingDefaultsLoaded}}" on-core-error="{{showLoadErrorToast}}">
    </core-ajax>
    <core-ajax id="ajaxLoadStatic" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP-TestingSystem/rest/testerAPI/v2/&apos; + tickId + &apos;/testFiles&apos;}}" handleas="json" on-core-response="{{staticDataLoaded}}" on-core-error="{{showLoadErrorToast}}">
    </core-ajax>
    <core-ajax id="ajaxSendStatic" url="{{&apos;http://urop2014.dtg.cl.cam.ac.uk/UROP-TestingSystem/rest/testerAPI/v2/&apos; + tickId + &apos;/create&apos;}}" handleas="json" contenttype="application/json" method="POST" on-core-response="{{saveTickData}}" on-core-error="{{showSaveErrorToast}}">
    </core-ajax>



    <div id="mainContainer">
        <h4>DISPLAY NAME</h4>
        <br>
        <div layout="" horizontal="">
            <div id="divDisplayName" flex="">
                <div>{{tickName}}</div>
                <br>
            </div>
            <paper-input hidden?="{{inputDisplayNameHidden}}" id="inputDisplayName" flex="" label="e.g. 1A-Java-Tick-1" inputvalue="{{tickName}}" required error="Required; can&apos;t have spaces" validate="^[0-9a-zA-Z][0-9a-zA-Z_-]*$" on-keyup="{{validateDisplayName}}">
            </paper-input>
        </div>

        <core-collapse id="collapseCodeTemplate" opened="false">
            <h4>TEMPLATE REPOSITORY</h4>
            <br>
            <div layout="" horizontal="">
                <div id="codeTemplateAddress" flex="">http://stuff</div>
            </div>
            <br>
        </core-collapse>

        <div layout="" horizontal="">
            <h4>MASTER DEADLINE</h4>
            <paper-toggle-button id="deadlineSwitch" on-change="{{toggleDeadline}}"></paper-toggle-button>
        </div>
        <core-collapse id="collapseDeadline" opened="{{dateShown}}">
            <date-entry valid="{{dateValid}}" day="{{day}}" month="{{month}}" year="{{year}}"></date-entry>
        </core-collapse>

        <br>

        <div layout="" horizontal="">
            <h4 style="height: 19px;">ADD TO GROUPS</h4>
            <paper-toggle-button id="groupsSwitch" on-change="{{toggleGroups}}"></paper-toggle-button>
        </div>
        <core-collapse id="collapseGroups">
            <div layout="" horizontal="" wrap="" style="padding-left: 20px; padding-bottom: 20px;">
            <template repeat="{{group in groups}}">
                    <span layout="" horizontal="" style="margin-top: 20px;">
                        <paper-checkbox checked="{{group.selected}}"></paper-checkbox>
                        <span style="padding-left: 15px; margin-right: 20px; width: 250px;">{{group.text}}</span>
                    </span>
            </template>
            </div>

            <div hidden?="{{groups.length &gt; 0}}">You don&apos;t have any groups!</div>
        </core-collapse>

        <br>

        <core-collapse id="collapseCorrectness" opened="false">
            <h4>CORRECTNESS CHECKS REPOSITORY</h4>
            <br>
            <div layout="" horizontal="">
                <div id="correctnessAddress" flex="">TODO</div>
            </div>
            <br>
        </core-collapse>



        <h4>STYLISTIC CHECKS</h4>
        <div class="checkboxContainer" layout="" horizontal="">
            <paper-checkbox checked="{{checkJava}}" on-tap="{{toggleStylistic}}"></paper-checkbox>
            <span flex="" style="padding-left: 15px; margin: 0; min-height: 35px;">Analyse .java files</span>
            <paper-button id="cmdRestoreDefaults" label="RESTORE DEFAULTS" raisedbutton="" end-justified="" on-tap="{{cmdRestoreDefaults}}" hidden?="{{!checkJava}}">
            </paper-button>
        </div>
        <core-collapse id="collapseStylistic" opened?="{{checkJava}}">
            <static-list-labels></static-list-labels>
            <static-list id="staticList" staticoptions="{{staticOptions}}"></static-list>
        </core-collapse>

        <!-- SAVE button -->
        <span layout="" horizontal="">
            <span flex=""></span>
            <paper-button raisedbutton="" class="colored" label="{{saving ? &apos;SAVING...&apos; : &apos;SAVE&apos;}}" on-tap="{{saveEverything}}" disabled?="{{(dateShown &amp;&amp; !dateValid) || (!inputDisplayNameHidden &amp;&amp; !displayValid) || saving}}">
            </paper-button>
            <span flex=""></span>
        </span>
    </div>

    <paper-dialog id="alertRestoreDefaults" heading="Restore Defaults?" backdrop="true" transition="paper-transition-bottom">
        <p>This will clear your existing settings!</p>
        <paper-button id="dialogCancel" label="Cancel" dismissive="" autofocus></paper-button>
        <paper-button id="dialogSubmit" label="Continue" affirmative="" on-tap="{{restoreDefaults}}"></paper-button>
    </paper-dialog>

    <paper-toast id="toastLoadError" text="Error loading the tick."></paper-toast>
    <paper-toast id="toastSaveError" text="Error saving the tick."></paper-toast>
    <paper-toast id="toastSaved" text="Tick saved."></paper-toast>
    <paper-toast id="toastUpdated" text="Tick updated."></paper-toast>
</template>
<script>
    Polymer('tick-creator-card', {
        ready: function() {
            console.log("1: ready");
            this.styleLabel = "";

            this.pathLoadGroups = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/user/AUTHOR/";
           // this.pathLoadTickData = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/tick/tester/";
            this.pathPutTickData = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/tick";
            //"http://localhost:8000/testTickData.json";

            this.checkJava = false; //for those using a confused IDE: useDefaults IS being used, for Polymer data binding awesomeness
            this.groups = [];
            this.saving = false;
            this.newTick = null;
            this.tickData = {};
            this.staticOptions = [];


        },

        domReady: function() {
            if (this.tickId == null || this.tickId == "") {
                this.newTick = true;
                this.$.ajaxLoadDefaults.go();
                this.processLoadedTickData();
            } else {
                this.newTick = false;
                this.checkJava = false;
                console.log("2: loading tick data");
                this.$.ajaxLoadTickData.go();
                this.$.ajaxLoadStatic.go();
            }
        },

        staticDataLoaded: function() {
            this.staticOptions = this.$.ajaxLoadStatic.response.slice(0);

            if (this.staticOptions.length == 0) {
                this.$.ajaxLoadDefaults.go();
            } else {
                this.checkJava = true;
                for (var i = 0; i < this.staticOptions.length; i++) {
                    this.staticOptions[i].closed = false;
                }
            }
        },
        defaultsLoaded: function() {
            this.staticOptions = this.$.ajaxLoadDefaults.response.slice(0);

            for (var i = 0; i < this.staticOptions.length; i++) {
                this.staticOptions[i].closed = false;
            }
        },
        savingDefaultsLoaded: function() {
            this.defaults = this.$.ajaxSaveLoadDefaults.response.slice(0);
            //this.saveStaticOpts();
        },

        /**
         * Load group data and figure out which groups have been selected
         * Assert tickDataLoaded has already run.
         */
        groupsDataLoaded: function() {
            var loadedGroups = this.$.ajaxLoadGroups.response.slice(0);
            this.groups = [];

            for (var i = 0; i < loadedGroups.length; i++) {
                this.groups[this.groups.length] = {_id: loadedGroups[i]._id, selected: false, text: loadedGroups[i].name};
            }

            for (var g = 0; g < this.tickData.groups.length; g++) {
                for (var k = 0; k < this.groups.length; k++) {
                    if (this.tickData.groups[g] == this.groups[k]._id) {
                        this.groups[k].selected = true;
                    }
                }
            }
        },
        tickDataLoaded: function() {
            console.log("3: loaded tick data");
            this.tickData = this.$.ajaxLoadTickData.response;
            if (!this.newTick){
                this.tickId = this.tickData._id;
            }

            console.log("4: tick data is:");
            console.log(this.tickData);

            this.processLoadedTickData();
        },
        tickDataSaved: function() {
            /* when a user clicks save, they shouldn't be able to click again until the update is complete, so the SAVE
             button is disabled while saving. However, if the SAVE operation is really fast, this creates a jarring UX,
             so this artificial day smooths the UX */
            this.job('complete-saving', function() {
                this.saving = false;
                this.$.toastUpdated.show();
            }, 500);

            this.newTick = false;
            this.tickData = this.$.ajaxPostTickData.response;

            this.tickId = this.tickData._id;
            this.processLoadedTickData();

            this.$.toastSaved.show();
        },
        tickDataUpdated: function() {
            /* when a user clicks save, they shouldn't be able to click again until the update is complete, so the SAVE
            button is disabled while saving. However, if the SAVE operation is really fast, this creates a jarring UX,
            so this artificial day smooths the UX */
            this.job('complete-saving', function() {
                this.saving = false;
                this.$.toastUpdated.show();
            }, 500);

            this.newTick = false;
            this.tickData = this.$.ajaxPutTickData.response;
            this.processLoadedTickData();
        },
        /**
         * Once the ajax get request is complete, bind the fields on this card to the received data
         */
        processLoadedTickData: function() {
            console.log("5: processing loaded tick data");

            //Set up display name
            if (this.newTick) {
                console.log("6: set display name");
                //if the tick name is blank, then a new tick is being created, so show the tick naming input
                this.$.divDisplayName.hidden = true;
                this.inputDisplayNameHidden = false;
            } else {
                console.log("6: ERR: didn't set display name");
                //Otherwise, the tick already exists so show the read only field
                this.$.divDisplayName.hidden = false;
                this.inputDisplayNameHidden = true;
                this.tickName = this.tickData.name;
            }

            console.log("7: script ok");

            if (!this.newTick) {
                this.$.collapseCodeTemplate.opened = true;
                this.$.codeTemplateAddress.innerHTML = this.tickData.stubRepo;
            }

            //if the tick is not being created and it currently has a deadline, show it
            if (!this.newTick) {
                if (this.tickData.deadline != null) {
                    //By checking the deadline switch, the deadline entry fields will be shown
                    this.$.deadlineSwitch.checked = true;

                    var deadline  = new Date(this.tickData.deadline);

                    var day = deadline.getUTCDate().toString();
                    var month = (deadline.getUTCMonth() + 1).toString();
                    var year = (deadline.getUTCFullYear()).toString();

                    //pad day and month to include leading zero if necessary
                    if (day.length == 1) {day = "0" + day}
                    if (month.length == 1) {month = "0" + month}

                    this.day = day;
                    this.month = month;
                    this.year = year;
                }
            }

            //Init groups
            if (!this.newTick) {
                if (this.tickData.groups.length > 0) {
                    this.$.groupsSwitch.checked = true;
                }
            }

           //correctness tests
            if (!this.newTick) {
                this.$.collapseCorrectness.opened = true;
                this.$.correctnessAddress.innerHTML = this.tickData.correctnessRepo;
            }

            //load groups which user is an author for
            this.$.ajaxLoadGroups.go();
        },
        toggleStylistic: function() {
            //this.$.collapseStylistic.toggle();
        },
        toggleCodeTemplate: function() {
            this.$.collapseCodeTemplate.opened = this.$.codeTemplateSwitch.checked;
        },
        toggleDeadline: function() {
            this.$.collapseDeadline.opened = this.$.deadlineSwitch.checked;
        },
        toggleGroups: function() {
            this.$.collapseGroups.opened = this.$.groupsSwitch.checked;
        },
        validateDisplayName: function() {
            this.displayValid = !((this.$.inputDisplayName.inputValue.trim() == "") || this.$.inputDisplayName.invalid);
        },
        saveEverything: function() {
            this.saving = true;

            var tickData = this.buildTickData();
            var staticData = this.buildStaticData();

            console.log("built everything");

            var masterObject = {
                name: tickData.name,
                deadline: tickData.deadline,
                groups: tickData.groups,
                checkstyleOpts: staticData
            };

            console.log("master object: ");
            console.log(masterObject);

            if (!this.newTick) {
                console.log("not a new tick");
                this.$.ajaxPutTickData.body = JSON.stringify(masterObject);
                this.$.ajaxPutTickData.url = "http://urop2014.dtg.cl.cam.ac.uk/UROP_UI/api/tick/" + this.tickId;
                this.$.ajaxPutTickData.go();
            } else {
                console.log("new tick");
                this.$.ajaxPostTickData.body = JSON.stringify(masterObject);
                this.$.ajaxPostTickData.go();
            }
            console.log("sent");
        },
        buildTickData: function() {
            //Set name if a new tick
            this.tickData = {name: null,  deadline: null,  groups: null};

            if (this.newTick) {
                this.tickData.name = this.$.inputDisplayName.inputValue.trim();
            }
            console.log("name set");
            //Don't set template repository (this is generated by back end)

            //Update master deadline
            if (this.$.deadlineSwitch.checked) {
                var year = this.year;
                var month = this.month - 1;
                var day = this.day;
                var date = new Date();
                date.setUTCDate(day);
                date.setUTCMonth(month);
                date.setUTCFullYear(year);
                this.tickData.deadline = date.toISOString();
            } else {
                this.tickData.deadline = null;
            }
            console.log("deadline set");
            //update groups
            this.tickData.groups = [];
            if (this.$.groupsSwitch.checked) {
                for (var i = 0; i < this.groups.length; i++) {
                    if (this.groups[i].selected) {
                        this.tickData.groups[this.tickData.groups.length] = this.groups[i]._id;
                    }
                }
            }

            return this.tickData;
        },
        buildStaticData: function() {
            var sendData = [];

            if (!this.checkJava) {
                return sendData;
            }

            for (var i = 0; i < this.$.staticList.staticOptions.length; i++) {
                if (!(this.$.staticList.staticOptions[i].closed)) {
                    sendData[sendData.length] = {
                        text: this.$.staticList.staticOptions[i].text,
                        checkedIndex: this.$.staticList.staticOptions[i].checkedIndex,
                        code: this.$.staticList.staticOptions[i].code};
                }
            }

            return sendData;
        },
        cmdRestoreDefaults: function() {
            this.$.alertRestoreDefaults.toggle();
        },
        restoreDefaults: function() {
            this.$.ajaxLoadDefaults.go();
        },
        showLoadErrorToast: function(e, detail) {
            console.log("ERR: couldn't load");
            if (detail.xhr.responseText != null) {
                this.$.toastLoadError.text = detail.xhr.responseText;
            } else {
                this.$.toastLoadError.text = "Error loading tick.";
            }
            this.$.toastLoadError.show();
        },
        showSaveErrorToast: function(e, detail) {
            this.saving = false;

            if (detail.xhr.responseText != null) {
                this.$.toastSaveError.text = detail.xhr.responseText;
            } else {
                this.$.toastSaveError.text = "Error saving tick.";
            }
            this.$.toastSaveError.show();
        }
    });
</script>
</polymer-element>

<polymer-element name="page-scaffold" attributes="" assetpath="elements/">
	<template>
		<style type="text/css">:host {
	display: block;
	height: 100%;
	width: 100%;
	min-width: 900px;
}

core-header-panel {
	height: 100%;
	background: #eee;
}

core-toolbar {
	background: #2D91EC;
	color: #fff;
}

core-selector.fix {
	/* To remove space between inline-block elements. */
	font-size: 0;
}

#title {
	font-size: 2.2rem;
	font-weight: 100;
}

paper-button, menu-button::shadow paper-button {
	font-size: 1rem;
	font-weight: 200;
}

menu-button.core-selected, paper-button.core-selected {
	background: #2a56c6;
}

#navMenu core-item {
	color: #5252C5;
}

#navMenu core-item:hover, #navMenu core-item.core-selected {
	color: #05007A;
}</style>

	<!-- API calls. -->
	<on-login id="loginAPIs"></on-login>

	<core-header-panel id="headerPanel">

		<!-- Main header toolbar. -->
		<core-toolbar id="headerToolbar">

			<div id="title">Tickl</div>

			<div flex="" layout="" horizontal="" end-justified="">
			<core-selector id="navMenu" valueattr="id" selected="dashButton" class="fix" selectedattribute="">

				<template if="{{!$.loginAPIs.ldap.isStudent}}">
	                <menu-button id="ticksMenu" label="Ticks" valueattr="label">
	                    <template repeat="{{tick in ticks}}">
	                        <core-item icon="check-box" label="{{tick.name}}" tickid="{{tick._id}}"></core-item>
	                    </template>
	                    <core-item id="createTickItem" icon="add" label="Create..." tickid=""></core-item>
	                </menu-button>
	            </template>

				<menu-button id="groupsMenu" label="Groups" valueattr="label">
					<template repeat="{{item in items}}">
						<core-item on-tap="{{menuItemPressed}}" icon="folder-shared" label="{{item.name}}" gid="{{item._id}}" info="{{item.info}}" creator="{{item.creator}}"></core-item>
					</template>
					<template if="{{!$.loginAPIs.ldap.isStudent}}">
						<core-item id="createGroupItem" icon="add" label="Create..."></core-item>
					</template>
				</menu-button>

				<paper-button id="dashButton" label="DASHBOARD"></paper-button>

			</core-selector>
			</div>

			<div layout="" horizontal="" end-justified="">
				<div>
					<paper-button icon="exit-to-app" id="logoutButton" on-click="{{logoutClicked}}"></paper-button>
				</div>
			</div>
		</core-toolbar>

		<!-- Create new group element. -->
		<create-group id="createGroup" on-group-created="{{groupCreatedHandler}}"></create-group>

		<!-- Page content cards. -->
		<template id="dashTemp" if="{{showDash}}">
			<user-dash id="dash"></user-dash>
		</template>

		<template id="groupTemp" if="{{gid}}">
			<x-group gid="{{gid}}" name="{{name}}" info="{{info}}" creator="{{creator}}"></x-group>
		</template>
		
		<template id="tickTemp" if="{{showTickCreator}}">
			<main-card animated="">
				<tick-creator-card tickid="{{tickId}}"></tick-creator-card>
			</main-card>
		</template>

	</core-header-panel>
	</template>
	<script>
		Polymer('page-scaffold', {

			toSelect: "-1",
            oldValue: undefined,
            newValue: undefined,

			observe: {
				//'$.groupsMenu.selection': 'groupSelectionChanged',
                '$.ticksMenu.selection': 'tickSelectionChanged',
				'$.navMenu.selection': 'navSelectionChanged',
				'$.loginAPIs.groupItems' : 'groupItemsChanged',
				'$.loginAPIs.tickItems' : 'tickItemsChanged'
			},

			navSelectionChanged: function(oldValue, newValue) {
				if (newValue.id === "dashButton") {
					this.showDash = true;
					this.noGroup();
					this.noTickCreator();
				}
			},

			logoutClicked: function () {
				this.$.loginAPIs.$.logoutAjax.go();
		    	window.location.href = 'https://raven.cam.ac.uk/auth/logout.html';
			},

			// Group menu handlers:

			noGroup: function () {
				this.$.groupTemp.model = {gid: null};
				this.$.groupsMenu.selected = "-1";
			},

			groupSelectionChanged: function (oldValue, newValue) {
                console.log();
                console.log(oldValue);
                console.log(newValue);

				if (!newValue || (oldValue && oldValue.id === "createGroupItem")) return;
				if (newValue.id === "createGroupItem") {
					this.$.createGroup.toggleDialog();
					this.$.groupsMenu.selected = oldValue ? oldValue.label : "-1";
				}
				else {
					this.showDash = false;
					this.noTickCreator();

					this.$.groupTemp.model = {gid: null};
					this.$.groupTemp.model = { 
						gid: newValue.getAttribute('gid'),
						name: newValue.label,
						info: newValue.getAttribute('info'),
						creator: newValue.getAttribute('creator')
					};
				}
			},

			groupCreatedHandler: function (e, detail) {
				this.$.loginAPIs.$.sidebarAjax.go();
				this.toSelect = detail.name;

				this.showDash = false;
			},

			groupItemsChanged: function (oldValue, newValue) {
				this.items = newValue;

				// No idea why this works, but it's here for browser compatability with Firefox.
				setTimeout(function () {
					this.$.groupsMenu.selected = this.toSelect
				}.bind(this), 0);
			},

			// Tick menu handlers:

			noTickCreator: function () {
				this.$.ticksMenu.selected = "-1";
				this.$.tickTemp.model = { showTickCreator: false };
			},

			tickItemsChanged: function (oldValue, newValue) {
				this.ticks = newValue;
			},

			tickSelectionChanged: function (oldValue, newValue) {
				if (!newValue) return;
				this.showDash = false;
				this.noGroup();
				this.$.tickTemp.model = { showTickCreator: false };

				this.tickId = newValue.getAttribute('tickId');
				this.$.tickTemp.model = { showTickCreator: true, tickId: this.tickId };
			},

            menuItemPressed: function(a, b, newval) {
                this.oldValue = this.newValue;
                this.newValue = newval;

                this.groupSelectionChanged(this.oldValue, this.newValue);
            }

		});
	</script>
</polymer-element></div>
	<title>Tickl</title>
	<link rel="stylesheet" type="text/css" href="css/font.css">
    <div hidden><!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link href="//fonts.googleapis.com/css?family=RobotoDraft:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" rel="stylesheet" type="text/css">
</div>
	<style>
		html, body {
			margin: 0;
			height: 100%;
		}
	</style>
</head>
<body>
	<page-scaffold></page-scaffold>
</body>

</html>