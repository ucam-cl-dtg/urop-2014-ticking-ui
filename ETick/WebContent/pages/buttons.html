<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="eTick" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="eTick" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="eTick" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" ng-app="eTick">
<!--<![endif]-->
<html>
<head>
<title>Student Page</title>
<script src="../bower_components/platform/platform.js"></script>
<link rel="import" href="../bower_components/font-roboto/roboto.html">
<link rel="import"
	href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../elements/dialog.html">



<style>
body {
	font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
	margin: 0;
	padding: 24px;
}

h2 {
	color: #5264ae;
	padding: 0;
}

h1 {
	color: #1F2383;
}

paper-button {
	margin: 1em;
	width: 10em;
}

paper-button.colored {
	background: #009933;
	color: #fff;
}

</style>
</head>
<body>
	<h1>Workflow Test Page</h1>
	<!-- page code -->
	<table>
		<tr>
		<td>
			<h2>Add Repo:</h2>
			<paper-button raisedButton class="colored" label="ADD" id="add"></paper-button>
		</td><td>
			<h2>Submit Tick:</h2>
			<paper-button raisedButton class="colored" label="SUBMIT" id="submit"></paper-button>
		</td><td>
			<h2>Fork a Repo:</h2>
			<paper-button raisedButton class="colored" label="FORK" id="fork"></paper-button>
		</td>
		</tr>
	</table>

	<my-dialog id="overlay">
		<h3>Create a Repository:</h3>
		<div horizontal layout center>
			<paper-input floatingLabel label="Repository name..." 
				validate="^\w([\w|\-|/|.]*)$" error="Invalid input characters.">
			</paper-input>
			<paper-button class="button" label="CREATE" id="create" core-overlay-toggle></paper-button>
		</div>
	</my-dialog>

	<core-ajax url="http://localhost:8080/git-0.0.1-SNAPSHOT/rest/git"
		 handleAs="json"></core-ajax>

	<script>
		var fork = document.querySelector('#fork');
		var add = document.querySelector('#add');
		add.addEventListener('click', function() {
			document.querySelector('#overlay').toggle();
		});
		fork.addEventListener('click', function(e) {
			document.querySelector("core-ajax").go();
		});
	
		document.addEventListener('polymer-ready', function() {
			var ajax = document.querySelector("core-ajax");
			ajax.addEventListener("core-response", function(e) {
				console.log(this.response);
			});
		});
	</script>

	<!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
  -->
	<!--<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/angular-route/angular-route.js"></script>
	<script src="js/app.js"></script>
	<script src="js/services.js"></script>
	<script src="js/controllers.js"></script>
	<script src="js/filters.js"></script>
	<script src="js/directives.js"></script>-->
</body>
</html>